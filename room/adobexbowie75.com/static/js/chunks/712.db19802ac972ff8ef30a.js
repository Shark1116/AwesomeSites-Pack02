/*! For license information please see 712.db19802ac972ff8ef30a.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[712],{6049:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var i=n(5782),o=n(8159),s=n(1485),a=n(1892),r=n.n(a),l=n(5760),c=n.n(l),p=n(8311),d=n.n(p),h=n(8192),u=n.n(h),m=n(8060),g=n.n(m),f=n(4865),b=n.n(f),v=n(9580),x={};x.styleTagTransform=b(),x.setAttributes=u(),x.insert=d().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=g();r()(v.Z,x);v.Z&&v.Z.locals&&v.Z.locals;var A,C=n(9667),w=n(7966),y=n(6859),_=n(6376),$=n(3478),B=n(298),k=n(5549),S=n(4054),P=n(2856),Z=n(3907);const T=({context:e,props:t})=>i.dy`<button class="btnEnter" @click=${e.onClick} ?visible=${t.visible}>
        <canvas data-ui="canvas"></canvas>
        <span class="btnEnter__text" data-ui="text">${w.Z.get("landing-enter-experience-circle")}</span>
    </button> `;const O=(0,o.c1)(s.Z)(A=(0,o.c1)((0,P.E4)())(A=class extends o.wA{constructor(...e){super(...e),this.options={template:T,onClick:()=>{},className:""},this.props={visible:!1,active:!1,over:!1,ease:.15,size:[],color:k.DM.RED},this.propsAnimation={radGlobal:1},this.assets={buttonOver:"static/audio/interaction/door-experience-on.mp3#audio",buttonOut:"static/audio/interaction/door-experience-off.mp3#audio"},this.x=window.innerWidth/2,this.y=window.innerHeight/2,this.onClick=()=>{this.options.onClick(),Z.Z.play(this.assets.buttonClick)},this.handleMove=(e,t)=>{},this.handleDown=()=>{C.ZP.killTweensOf(this.propsAnimation,"radGlobal"),C.ZP.to(this.propsAnimation,{radGlobal:.8,duration:.6,ease:"expo.out",onUpdate:this.draw})},this.handleUp=()=>{C.ZP.killTweensOf(this.propsAnimation,"radGlobal"),C.ZP.to(this.propsAnimation,{radGlobal:1,duration:.6,ease:"expo.out",onUpdate:this.draw})},this.draw=()=>{const[e,t]=this.props.size,{radGlobal:n}=this.propsAnimation,i=Math.max(.5*e-4,0),{circle0:o,circle1:s}=this,{color:a}=this.props,r=this.cx;r.clearRect(0,0,e,t),r.strokeStyle=a,o.lineWidth&&(r.save(),r.lineWidth=o.lineWidth,(0,$.Z)(r,.5*e,.5*t,(0,S.Z)(o.radius*n,0,i)),r.stroke(),r.restore()),s.lineWidth&&(r.save(),r.lineWidth=s.lineWidth,(0,$.Z)(r,.5*e,.5*t,(0,S.Z)(s.radius*n,0,i)),r.stroke(),r.restore())}}async onSetup(){_.Vq||(this.el.style.pointerEvents="none"),this.cv=this.ui.canvas,this.cx=this.cv.getContext("2d"),this.observer=new ResizeObserver((e=>{if(!this.props.visible)return;const{contentRect:t}=e[0];this.props.size=[t.width,t.height]})),this.observer.observe(this.el),this.setupShapes()}setupShapes(){this.circle0={radius:.8,lineWidth:0},this.circle1={radius:.8,lineWidth:0}}addListeners(){_.Vq||((0,y.gt)().add("down",this.handleDown),(0,y.gt)().add("up",this.handleUp),(0,y.gt)().add("pos",this.handleMove))}removeListeners(){_.Vq||((0,y.gt)().remove("down",this.handleDown),(0,y.gt)().remove("up",this.handleUp),(0,y.gt)().remove("pos",this.handleMove))}setActive(e,{firstTrigger:t}){if(e?this.addListeners():this.removeListeners(),t)return;const{circle0:n,circle1:i}=this,[o]=this.props.size;this.tlActive?.kill();const s=this.tlActive=C.ZP.timeline({onStart:()=>this.props.visible=!0,onComplete:()=>this.props.visible=e,onUpdate:this.draw});e?s.set(n,{lineWidth:.25*o,radius:0},0).set(this.ui.text,{opacity:1},.1).to(n,{radius:.8,duration:1,ease:"power3.out"},0).to(n,{lineWidth:2,duration:1,ease:"expo.out"},.2):s.to(n,{radius:1,duration:1,ease:"power3.out"},0).to([n,i],{lineWidth:0,duration:1,ease:"expo.out"},.2).to(this.ui.text,{opacity:0,duration:.5,ease:"sine.out"},.1)}setOver(e,{firstTrigger:t}){if(t)return;const[n,i]=this.props.size,{circle0:o,circle1:s}=this;this.tlOver?.kill();const a=this.tlOver=C.ZP.timeline({onUpdate:this.draw});e?(this.props.color=k.DM.WHITE,Z.Z.play(this.assets.buttonOver,{clone:!0}),a.set(s,{lineWidth:.25*n,radius:0},0).to(s,{lineWidth:3,duration:1.4,ease:"expo.out"},.3).to(s,{radius:1,duration:1,ease:"power3.out"},0).to(o,{lineWidth:0,duration:.8,ease:"power3.out"},.1).to(o,{radius:1,duration:1,ease:"power3.out"},.1)):(this.props.color=k.DM.RED,Z.Z.play(this.assets.buttonOut,{clone:!0}),a.set(o,{lineWidth:.25*n,radius:0},0).to(o,{radius:.8,duration:1,ease:"power3.out"},0).to(o,{lineWidth:2,duration:1,ease:"expo.out"},.2).to(s,{lineWidth:0,duration:1,ease:"expo.out"},0))}setSize([e,t]){(0,B.Z)(this.cx,e,t),this.draw()}whileActive(){if(_.Vq)return;const{ease:e}=this.props,{x:t,y:n}=(0,y.gt)();this.x+=(t-this.x)*e,this.y+=(n-this.y)*e,this.el.style.transform=`translate(${this.x}px, ${this.y}px)`}setColor(e){this.el.style.setProperty("--color",e)}onDestroy(){C.ZP.killTweensOf(this.propsAnimation),this.tlActive?.kill(),this.tlOver?.kill(),this.observer.disconnect(),this.removeListeners()}})||A)||A},2947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(2399),o=n(4054);const s={options:{wiggleSpeed:2.8,wiggleSpeedRecovery:8,wiggleMaxAngle:.03,wigglePulse:2*Math.PI},props:{},async onSetup(){const{wiggleSpeed:e,wiggleSpeedRecovery:t,wiggleMaxAngle:n,wigglePulse:o}=this.options;this.propsAnimation={wiggle:0,wiggleTg:0,wiggleSpeed:e,wiggleSpeedRecovery:t,wiggleMaxAngle:n,wigglePulse:o};const{gltfRef:s}=this.options;this.mesh=s,this.vRotation=new i.P,this.vRotationInit=(new i.P).copy(s.rotation),this.vPositionInit=(new i.P).copy(s.position),this.vRotationWiggle=new i.P},wiggle(){this.tWiggle=0,this.propsAnimation.wiggle=1,this.propsAnimation.wiggleTg=1,this.propsAnimation.wiggleOscillation=0},whileActive(e){const{wiggle:t,wiggleTg:n,wiggleSpeed:i,wiggleSpeedRecovery:s,wiggleMaxAngle:a,wigglePulse:r}=this.propsAnimation;if(t<.001)return void(this.propsAnimation.wiggle=0);this.tLast||(this.tLast=e);const l=e-this.tLast;this.tLast=e,this.tWiggle+=l,this.mesh?.updateMatrix(),this.propsAnimation.wiggleOscillation>1&&(this.propsAnimation.wiggleTg=0);const c=this.propsAnimation.wiggle=(0,o.Z)(l*s,t,n),p=Math.sin(r*this.tWiggle*i),d=c*p*a;p>.99&&this.propsAnimation.wiggleOscillation++,this.vRotationWiggle.set(d,d,0),this.vRotation.copy(this.vRotationInit).add(this.vRotationWiggle),this.mesh.rotation.setFromVector3(this.vRotation)}}},2372:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(4732),o=n(5232),s=n(2399),a=n(6661),r=n(5549),l=n(7760);const c=new s.P,p=new s.P,d=new s.P;let h;h||(h=(0,i.L1)(),h.visible=!1);const u={options:{raycast:!1,useAngleToCamera:!1,camera:null,hitTarget:null,onHit:()=>{},onRollover:()=>{}},props:{over:!1,lightsOnPr:0},async onSetup(){const{gltfRef:e,name:t,raycast:n,hitTargetSelf:i,inMirrorMain:s,inMirrorTable:c,preventAddTo:p}=this.options;this.mesh=e,this.mesh.matrixAutoUpdate=!1,p?this.object=this.mesh:(this.object=new l.T,this.object.name=t),s&&e.layers.enable(r.k0.MIRROR_1),c&&e.layers.enable(r.k0.MIRROR_2),n&&(i?this.hitTarget=this.mesh:(this.hitTarget=new o.K((0,a.Sr)(e),h),this.object.add(this.hitTarget)),this.hitTarget.name=`hit_${t}`),this.angleToCamera=0},async onAfterSetup(){this.mesh.updateMatrix()},setOver(e){this.options.onRollover(e,this)},whileActive(){this.calculateAngleToCamera()},reset(){},calculateAngleToCamera(){const{camera:e,useAngleToCamera:t}=this.options;if(!t)return;e.getWorldDirection(d),e.getWorldPosition(p),this.hitTarget.getWorldPosition(c);const n=c.sub(p);n.normalize();const i=d.dot(n);this.angleToCamera=i},handleHit(){this.options.onHit(this)},onDestroy(){this.mesh.geometry.dispose(),this.mesh=null,this.hitTarget&&(this.hitTarget.geometry.dispose(),this.hitTarget=null)}}},5882:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i,o=n(8159),s=n(6027),a=n(2372),r=n(2947),l=n(3449),c=n(2826),p=n(9550),d=n(3907),h=n(2856);const u=(0,o.c1)(a.Z)(i=(0,o.c1)(r.Z)(i=(0,o.c1)((0,h.E4)())(i=class extends o.wA{constructor(...e){super(...e),this.options={name:"ObjectName",mesh:null,useAlphaMap:!1,useLightOffMap:!0,doubleSided:!1,assetFolder:""},this.props={},this.audioAssets={},this.audio={}}async loadBasicObjectAudio(){const e=Object.entries(this.audioAssets);(await Promise.all(e.map((([e,t])=>new Promise((async n=>{const i=`/${t}`,o=await(0,h._L)(i);n({id:e,audio:o})})))))).forEach((e=>{this.audio[e.id]=e.audio})),this.props.soundsLoaded=!0}async onSetup(){const{name:e,type:t}=this.options;this.props.name=e,await this.setupMaterial(),this.loadBasicObjectAudio()}async setupMaterial(){const{name:e,name_map:t,useAlphaMap:n,useLightOffMap:i,gltfRef:o,doubleSided:a,assets:r}=this.options,p=t||e,d=r[`${p}_lightMap`],h=r[`${p}_lightMapOff`],u=a?c.ehD:c.Wl3;o.material=new s.Z({options:{name:p,side:u,transparent:n,defines:{USE_LIGHT_OFF_MAP:i}},uniforms:{...(0,l.j)(),uLightOnMap:d,uLightOffMap:h},vs:"\n                varying vec2 vUv;\n                varying vec4 vWorldPos;\n                void main() {\n                    vUv = uv;\n                    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n                    vWorldPos = modelMatrix * vec4( position, 1.0 );\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fs:`\n                ${l.n.setup_frag}\n                varying vec2 vUv;\n                void main() {\n                    ${l.n.execution_frag}\n                    vec3 color = colorLight.rgb;\n                    gl_FragColor = vec4(color.rgb, alpha);\n                }\n            `}),this.material=o.material}handleHit(){const{name:e,type:t}=this.options;if("Interactive"==t){if(this.wiggle(),this.options.soundChain){const e=this.options.soundChain;e.inSound++,e.inSound=e.inSound%e.sounds.length,console.log("🔊 "+this.props.name+" - playing sound "+e.sounds[e.inSound]),d.Z.play(e.assets[e.sounds[e.inSound]])}else console.log("🔊❌ "+this.props.name+" - playing backup sound"),this.props.soundsLoaded&&d.Z.play(this.audio.objectBadClick);p.h8.completeInteraction("collect")}else"Treasure"==t&&(console.log("👑 ~~ Treasure Found",e),this.props.soundsLoaded&&d.Z.play(this.audio.objectGoodClick),p.h8.collectItem(e))}setLightsOnPr(e){this.material.uLightsOnPr=e}})||i)||i)||i},8641:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i,o=n(8159),s=n(2372),a=n(2157),r=n(6905),l=n(2399),c=n(7993),p=n(4732),d=n(7725),h=(n(2736),n(6451),n(3449)),u=n(4712),m=n(4496),g=n(2856),f=n(3907);const b=new l.P;const v=(0,o.c1)(s.Z)(i=(0,o.c1)((0,g.E4)())(i=(0,o.c1)((0,a.Z)(r.o,{expanded:!0,withoutKeys:"pX pY pZ s rX rY rZ v over",keysOptions:{openPr:{min:0,max:1,step:.001}}}))(i=class extends o.wA{constructor(...e){super(...e),this.options={raycast:!0,useLightOffMap:!0,hitTargetSelf:!0,containedObjectsIDs:[]},this.props={open:!1,soundsLoaded:!1},this.propsAnimation={open:0,openTg:0,openVel:0},this.audio={},this.audioAssets={openDrawerOpenAudio:"static/audio/experience/drawer-open.mp3#audio",openDrawerCloseAudio:"static/audio/experience/drawer-close.mp3#audio"},this.updateDrawer=()=>{const{propsAnimation:e}=this,{open:t}=e,n=b.copy(this.vPosInit).sub(this.vPosOffset);this.mesh.position.copy(this.vPosInit).lerp(n,1-e.open),this.mesh.updateMatrix(),this.object.traverse((e=>e.updateMatrix()))}}async onSetup(){await this.setupMaterial(),this.loadDrawerAudio(),this.vPosInit=(new l.P).copy(this.mesh.position),this.vPosOffset=new l.P(-.23,0,0)}onAfterSetup(){}async loadDrawerAudio(){const e=Object.entries(this.audioAssets);(await Promise.all(e.map((([e,t])=>new Promise((async n=>{const i=`/${t}`,o=await(0,g._L)(i);n({id:e,audio:o})})))))).forEach((e=>{this.audio[e.id]=e.audio})),this.props.soundsLoaded=!0}async setupMaterial(){const{name:e,name_map:t,useLightOffMap:n,assets:i}=this.options,o=t||e,s=i[`${o}_lightMap`],a=i[`${o}_lightMapOff`],r=this.shader=new c.j({vertexShader:"\n                varying vec2 vUv;\n                varying vec3 vWorldPos;\n                void main() {\n                    vUv = uv;\n                    #include <begin_vertex>\n                    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n                    #include <worldpos_vertex>\n                    gl_Position = projectionMatrix * mvPosition;\n                    vWorldPos = worldPosition.xyz;\n                }",fragmentShader:`\n                varying vec2 vUv;\n                varying vec3 vWorldPos;\n                uniform float ticker;\n                uniform float hintPower;\n                const float PI = 3.1415926535897931;\n                ${d.Z}\n                ${h.n.setup_frag}\n                void main() {\n                    ${h.n.execution_frag}\n                    float near = 1.0;\n                    float far = 1.2;\n                    float shadow = saturate(smoothstep(near, far, vWorldPos.x));\n                    colorLight.rgb = mix(vec3(0.), colorLight.rgb, 1. - shadow * 0.8);\n                    vec3 color = colorLight.rgb;\n\n                    float inTickX = max(0.0, min(PI*2.0, ticker*15.0 - vWorldPos.z*5.0 - vWorldPos.x*5.0));\n                    float inTickY = max(0.0, min(PI*2.0, ticker*15.0 - vWorldPos.z*5.4 - vWorldPos.x*5.4));\n                    float inTickZ = max(0.0, min(PI*2.0, ticker*15.0 - vWorldPos.z*5.8 - vWorldPos.x*5.8));\n                    float cosX = cos(inTickX);\n                    float cosY = cos(inTickY);\n                    float cosZ = cos(inTickZ);\n                    color.x = color.x * (1.0 + (2.0-(cos(inTickX)+1.0))*0.1*hintPower) + (2.0-(cosX+1.0))*0.05*hintPower;\n                    color.y = color.y * (1.0 + (2.0-(cos(inTickY)+1.0))*0.1*hintPower) + (2.0-(cosY+1.0))*0.05*hintPower;\n                    color.z = color.z * (1.0 + (2.0-(cos(inTickZ)+1.0))*0.1*hintPower) + (2.0-(cosZ+1.0))*0.05*hintPower;\n                \n                    gl_FragColor = vec4(color, alpha);\n                }`,uniforms:{...(0,h.j)(!0),uLightOnMap:{value:s},uLightOffMap:{value:a},hintPower:{value:this.options.hintPower||3},ticker:{value:0}},defines:{USE_LIGHT_OFF_MAP:n,USE_SHADOWMAP:!0}});(0,p.Jl)(r),this.mesh.material=r}handleHit(){this.props.open=!this.props.open}showHint(){const e=.25*(this.mesh.position.x+this.mesh.position.z);this.mesh.material.uniforms.ticker.value=e,u.ZP.to(this.mesh.material.uniforms.ticker,2,{delay:.8,value:e+1.5,ease:"linear"})}setOpen(e){this.props.soundsLoaded&&(e?f.Z.play(this.audio.openDrawerOpenAudio):f.Z.play(this.audio.openDrawerCloseAudio)),u.ZP.killTweensOf(this.propsAnimation),u.ZP.to(this.propsAnimation,{duration:.7,ease:m.t.create("custom","M0,0 C0.184,0 0.357,0.3 0.486,0.474 0.67,0.722 0.818,1.001 1,1 "),open:+e,onUpdate:this.updateDrawer})}setLightsOnPr(e){this.shader&&(this.shader.uLightsOnPr=e)}})||i)||i)||i},6258:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var i=n(8159),o=n(6905),s=n(2157),a=(n(8825),n(4593)),r=n(5549),l=n(7993),c=n(3657),p=n(2372),d=n(7532),h=n(8300),u=n(2826),m=n(6936),g=n(4054),f=n(1087),b=(n(6451),n(5232)),v=n(7111),x=n(6546),A=n(2399),C=n(3672),w=n(930),y=n(7e3),_=n(8952);class $ extends b.K{constructor(e,t={}){super(e),this.type="Reflector",this.camera=new v.c;const n=this,i=void 0!==t.color?new m.I(t.color):new m.I(8355711),o=t.textureWidth||1024,s=t.textureHeight||1024,a=t.clipBias||0,r=t.shader||$.ReflectorShader,c=void 0!==t.multisample?t.multisample:4,p=t.layer,d=new x.J,h=new A.P,u=new A.P,g=new A.P,f=new C.y,b=new A.P(0,0,-1),B=new w.L,k=new A.P,S=new A.P,P=new w.L,Z=new C.y,T=this.camera,O=new y.d(o,s,{samples:c}),M=new l.j({uniforms:_.rD.clone(r.uniforms),fragmentShader:r.fragmentShader,vertexShader:r.vertexShader});M.uniforms.tDiffuse.value=O.texture,M.uniforms.color.value=i,M.uniforms.textureMatrix.value=Z,this.material=M,this.onBeforeRender=function(e,t,i){if(u.setFromMatrixPosition(n.matrixWorld),g.setFromMatrixPosition(i.matrixWorld),f.extractRotation(n.matrixWorld),h.set(0,0,1),h.applyMatrix4(f),k.subVectors(u,g),k.dot(h)>0)return;k.reflect(h).negate(),k.add(u),f.extractRotation(i.matrixWorld),b.set(0,0,-1),b.applyMatrix4(f),b.add(g),S.subVectors(u,b),S.reflect(h).negate(),S.add(u),T.position.copy(k),T.up.set(0,1,0),T.up.applyMatrix4(f),T.up.reflect(h),T.lookAt(S),T.far=i.far,T.updateMatrixWorld(),T.projectionMatrix.copy(i.projectionMatrix),Z.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),Z.multiply(T.projectionMatrix),Z.multiply(T.matrixWorldInverse),Z.multiply(n.matrixWorld),d.setFromNormalAndCoplanarPoint(h,u),d.applyMatrix4(T.matrixWorldInverse),B.set(d.normal.x,d.normal.y,d.normal.z,d.constant);const o=T.projectionMatrix;P.x=(Math.sign(B.x)+o.elements[8])/o.elements[0],P.y=(Math.sign(B.y)+o.elements[9])/o.elements[5],P.z=-1,P.w=(1+o.elements[10])/o.elements[14],B.multiplyScalar(2/B.dot(P)),o.elements[2]=B.x,o.elements[6]=B.y,o.elements[10]=B.z+1-a,o.elements[14]=B.w,O.texture.encoding=e.outputEncoding,n.visible=!1;const s=e.getRenderTarget(),r=e.xr.enabled,l=e.shadowMap.autoUpdate;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(O),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),p&&T.layers.set(p),e.render(t,T),e.xr.enabled=r,e.shadowMap.autoUpdate=l,e.setRenderTarget(s);const c=i.viewport;void 0!==c&&e.state.viewport(c),n.visible=!0},this.getRenderTarget=function(){return O},this.dispose=function(){O.dispose(),n.material.dispose()}}}$.prototype.isReflector=!0,$.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:"\n\t\tuniform mat4 textureMatrix;\n\t\tvarying vec4 vUv;\n\n\t\t#include <common>\n\t\t#include <logdepthbuf_pars_vertex>\n\n\t\tvoid main() {\n\n\t\t\tvUv = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t\t#include <logdepthbuf_vertex>\n\n\t\t}",fragmentShader:"\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\t\tvarying vec4 vUv;\n\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tfloat blendOverlay( float base, float blend ) {\n\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n\t\t}\n\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n\t\t\t#include <encodings_fragment>\n\n\t\t}"};var B,k;n(2736);const S=(0,i.c1)((0,s.Z)(o.o,{expanded:!0,withoutKeys:"pX pY pZ position s propsMaterial",keysOptions:{magnify:{min:0,max:10,step:.001}}}))(B=(0,i.c1)(p.Z)((k=class e extends i.wA{constructor(...e){super(...e),this.options={gltfRef:null,envMap:null,layer:r.k0.SCENE,clipBias:0,type:"Mirror",useReflector:!0},this.props={magnify:4,propsUniform:e=>({magnify:e.magnify})}}async onSetup(){const{addTo:t,type:n,assets:i,name:o,layer:s,clipBias:p,useReflector:g,envMap:b,doubleSided:v}=this.options,x=i.mirror_main_roughnessMap;if(this.mesh.geometry.computeVertexNormals(),g){const e=new l.j({vertexShader:`\n                    uniform mat4 textureMatrix;\n                    uniform float uMagnify;\n                    varying vec2 vUvBase;\n                    varying vec4 vUv;\n                    #include <common>\n                    #include <logdepthbuf_pars_vertex>\n                    ${c.Z}\n\n                    vec2 brownConradyDistortion(in vec2 uv, in float k1, in float k2) {\n                        uv = uv * 2.0 - 1.0; // brown conrady takes [-1:1]\n                        // positive values of K1 give barrel distortion, negative give pincushion\n                        float r2 = uv.x * uv.x + uv.y * uv.y;\n                        uv *= 1.0 + k1 * r2 + k2 * r2 * r2;\n                        // tangential distortion (due to off center lens elements)\n                        // is not modeled in this function, but if it was, the terms would go here\n                        uv = (uv * 0.5 + 0.5); // restore -> [0:1]\n                        return uv;\n                    }\n                    void main() {\n                        vec3 pos = position;\n                        #ifdef USE_MAGNIFY\n                            float mag = uMagnify;\n                            float k1 = -0.2 + 0.6 * (mag * 0.5 + 0.5);\n                            float k2 = 0.1;\n                            float sc = abs(k1) < 1.0 ? 1.0 - abs(k1) : 1.0 / (k1 + 1.0);\n                            pos.xy = brownConradyDistortion(pos.xy + 0.5, k1, k2);\n                            pos.xy -= 0.5;\n                            pos.xy = scale(pos.xy, 2.4 * length(distance(uv, vec2(0.5))), vec2(0.));\n                        #endif\n                        vUvBase = uv;\n                        vUv = textureMatrix * vec4( pos, 1.0 );\n                        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n                        #include <logdepthbuf_vertex>\n                    }`,fragmentShader:"\n                    uniform vec3 color;\n                    uniform sampler2D tDiffuse;\n                    uniform sampler2D roughnessMap;\n                    varying vec2 vUvBase;\n                    varying  vec4 vUv;\n                    #include <logdepthbuf_pars_fragment>\n                    void main() {\n                        #include <logdepthbuf_fragment>\n                        vec2 st = vUvBase;\n                         vec4 reflectUvR = vUv;\n                         vec4 reflectUvG = vUv;\n                         vec4 reflectUvB = vUv;\n                        vec4 base;\n                        #ifdef USE_MAGNIFY\n                            float cosx = cos(vUvBase.x*3.1415);\n                            float siny = sin(vUvBase.y*3.1415);\n                            reflectUvR.x -= cosx*0.15;\n                            reflectUvR.y -= siny*0.15;\n\n                            reflectUvG.x -= cosx*0.1525;\n                            reflectUvG.y -= siny*0.1525;\n\n                            reflectUvB.x -= cosx*0.155;\n                            reflectUvB.y -= siny*0.155;\n\n                            vec4 baseR = texture2DProj( tDiffuse, reflectUvR );\n                            vec4 baseG = texture2DProj( tDiffuse, reflectUvR );\n                            vec4 baseB = texture2DProj( tDiffuse, reflectUvB );\n                            float edge = 1.0-(1.0 - pow(length(vUvBase-vec2(0.5, 0.5)), 2.0));\n                            // base.xyz = vec3(baseR.x*1.2, baseG.y*1.1, pow(baseB.z, 0.7 + edge*1.0));\n                            base.xyz = vec3( pow(baseR.x, 0.7 + edge*0.9),  pow(baseG.y, 0.7 + edge*0.95), pow(baseB.z, 0.7 + edge*1.0))*1.0;\n\n\n                        #else\n                            base = texture2DProj( tDiffuse, reflectUvR );\n                        #endif\n                        \n                        vec4 outgoingLight;\n                        #ifdef USE_ROUGHNESS\n                            vec4 roughness = texture2D( roughnessMap, st );\n                            roughness.g = clamp(1. - smoothstep(0.2, 0.5, roughness.g), 0., 1.);\n                            float roughnessFactor = roughness.g * base.r;\n                            outgoingLight = vec4(mix(base.rgb, vec3(1.), roughnessFactor), 1.);\n                        #else\n                            outgoingLight = base;\n                        #endif\n                        \n                        gl_FragColor = vec4(outgoingLight.rgb, 1.0 );\n\n                        // gl_FragColor.xy = reflectUv;\n                        #include <encodings_fragment>\n                    }",uniforms:{color:{value:null},tDiffuse:{value:null},roughnessMap:{value:x},uMagnify:{value:1},textureMatrix:{value:null}}}),i=this.geo="MirrorCircle"==n?new a.z(.15,18):new d._(.47,.68),o=this.reflector=new $(i,{shader:e,clipBias:p,layer:"MirrorCircle"==n?r.k0.MIRROR_2:r.k0.MIRROR_1});o.layers.set(s),this.shader=o.material,this.shader.defines={USE_MAGNIFY:"MirrorCircle"==n,USE_ROUGHNESS:!0},this.object.add(o),t.add(this.object)}else{const t=v?u.ehD:u.Wl3,n=0,i=this.shader=new h.v({envMap:b,color:n,side:t});i.onBeforeCompile=e=>{e.uniforms={roughnessMap:{value:x},...e.uniforms},e.defines={USE_UV:!0,USE_ROUGHNESS:void 0!==x},e.fragmentShader=(0,f.FS)(e.fragmentShader,{uniforms:"insertafter:#include <clipping_planes_pars_fragment>\n",roughness:"insertbefore:#include <output_fragment>\n"},{uniforms:"uniform sampler2D roughnessMap;\n",roughness:"\n                            #ifdef USE_ROUGHNESS\n                                vec4 roughness = texture2D( roughnessMap, vUv );\n                                roughness.g = clamp(1. - smoothstep(0.2, 0.5, roughness.g), 0., 1.);\n                                float roughnessFactor = roughness.g * diffuse.r;\n                                outgoingLight.rgb = mix(outgoingLight.rgb, vec3(1.), roughnessFactor);\n                            #endif\n                        "})},i.color.lerpColors(e.cDark,e.cLight,.2),i.envMapIntensity=.2}e.cLight=e.cLight||new m.I(16777215),e.cDark=e.cDark||new m.I(0)}async onAfterSetup(){this.mesh&&this.options.useReflector&&(this.mesh.visible=!1,this.object?.applyMatrix4(this.mesh.matrix),this.reflector?.rotation.set(.5*-Math.PI,Math.PI,0))}setLightsOnPr(t){const n=(0,g.Z)(t,.2,1);this.mesh.material.color.lerpColors(e.cDark,e.cLight,n),this.mesh.material.envMapIntensity=n}whileActive(){this.normalsHelper?.update()}setPropsUniform({magnify:e}){this.shader&&(this.shader.uniforms.uMagnify.value=e)}},k.cLight=void 0,k.cDark=void 0,B=k))||B)||B},5166:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i,o=n(8159),s=n(6027),a=n(2372),r=n(2947),l=n(3449),c=n(2826),p=n(6936),d=n(2399),h=n(3765),u=n(9550),m=n(9667),g=(n(5549),n(6980)),f=n(4737);const b=(0,o.c1)(a.Z)(i=(0,o.c1)(r.Z)(i=class extends o.wA{constructor(...e){super(...e),this.options={name:"ObjectName",mesh:null,useAlphaMap:!1,useLightOffMap:!0,doubleSided:!1,assetFolder:""},this.props={found:!1,dimmed:!1,dimPower:0}}async onSetup(){const{name:e,type:t}=this.options;this.props.name=e,await this.setupMaterial()}async setupMaterial(){const{name:e,name_map:t,useAlphaMap:n,useLightOffMap:i,gltfRef:o,doubleSided:a,assets:r}=this.options,{dimPower:d}=this.props,{color:h}=f.Z.find((t=>t.id==e)),u=t||e,m=r[`${u}_lightMap`],b=r[`${u}_lightMapOff`],v=a?c.ehD:c.Wl3;o.material=new s.Z({options:{name:"TreasureMaterial",side:v,transparent:n,defines:{USE_LIGHT_OFF_MAP:i}},uniforms:{...(0,l.j)(),uLightOnMap:m,uLightOffMap:b,hintPower:this.options.hintPower||1,dimPower:d,dimColor:new p.I(h),ticker:0,tickerTint:0},vs:"\n                varying vec2 vUv;\n                varying vec4 vWorldPos;\n                uniform float ticker;\n\n                void main() {\n                    vUv = uv;\n                    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n                    vWorldPos = modelMatrix * vec4( position, 1.0 );\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fs:`\n                ${l.n.setup_frag}\n                varying vec2 vUv;\n                varying vec4 vWorldPos;\n                uniform float ticker;\n                uniform float tickerTint;\n                uniform float hintPower;\n                uniform float dimPower;\n                uniform vec3 dimColor;\n                const float PI = 3.1415926535897931;\n                ${g.Z}\n                void main() {\n                    ${l.n.execution_frag}\n                    vec3 color = colorLight.rgb;\n                    // ― dim \n                    float l = luma(color);\n                    float dp = 1.0;\n                    // color = mix(mix(color,color+dimColor,1.0*dimPower), dimColor, dp*0.25);\n                    float inTick = tickerTint-vWorldPos.y*10.0+vWorldPos.x*10.0+vWorldPos.z*10.0;\n                    color.x = mix(color.x, color.x*0.5 + color.x*0.5*dimColor.x + dimColor.x*0.5, (0.5 + 0.35*dp*(sin(inTick)+1.0))*dimPower);\n                    color.y = mix(color.y, color.y*0.5 + color.y*0.5*dimColor.y + dimColor.y*0.5, (0.5 + 0.35*dp*(sin(inTick+1.0)+1.0))*dimPower);\n                    color.z = mix(color.z, color.z*0.5 + color.z*0.5*dimColor.z + dimColor.z*0.5, (0.5 + 0.35*dp*(sin(inTick+2.0)+1.0))*dimPower);\n                    // ― hint \n                    float inTickX = max(0.0, min(PI*2.0, ticker*15.0 - vWorldPos.z*5.0 - vWorldPos.x*5.0));\n                    float inTickY = max(0.0, min(PI*2.0, ticker*15.0 - vWorldPos.z*5.4 - vWorldPos.x*5.4));\n                    float inTickZ = max(0.0, min(PI*2.0, ticker*15.0 - vWorldPos.z*5.8 - vWorldPos.x*5.8));\n                    float cosX = cos(inTickX);\n                    float cosY = cos(inTickY);\n                    float cosZ = cos(inTickZ);\n                    color.x = color.x * (1.0 + (2.0-(cos(inTickX)+1.0))*0.1*hintPower) + (2.0-(cosX+1.0))*0.05*hintPower;\n                    color.y = color.y * (1.0 + (2.0-(cos(inTickY)+1.0))*0.1*hintPower) + (2.0-(cosY+1.0))*0.05*hintPower;\n                    color.z = color.z * (1.0 + (2.0-(cos(inTickZ)+1.0))*0.1*hintPower) + (2.0-(cosZ+1.0))*0.05*hintPower;\n                    gl_FragColor = vec4(color.rgb, alpha);\n                }\n            `}),this.material=o.material}showHint(){var e=new d.P;this.mesh.getWorldPosition(e);const t=.3*(e.x+e.z);this.material.uniforms.ticker.value=t,m.ZP.to(this.material.uniforms.ticker,2,{delay:.8,value:t+1.5,ease:"linear"})}whileActive(){(0,h.Z)().state.pauseRenderer||(this.material.uniforms.tickerTint.value+=.016),!this.props.found||this.props.dimmed||(0,h.Z)().state.pauseRenderer||(this.props.dimmed=!0,this.animateDimmedState())}handleHit(){const{name:e,type:t}=this.options;"Interactive"==t?(this.wiggle(),u.h8.completeInteraction("collect")):"Treasure"==t&&(console.log("👑 ~~ Treasure Found",e),this.props.found=!0,u.h8.collectItem(e))}setLightsOnPr(e){this.material.uLightsOnPr=e}setDimPower(e){this.material.dimPower=e}animateDimmedState(){m.ZP.killTweensOf(this.props),m.ZP.to(this.props,{dimPower:1,duration:2,delay:.3,ease:"sine.inout"})}reset(){this.props.found=!1,this.props.dimmed=!1,this.props.dimPower=0}})||i)||i},3449:(e,t,n)=>{"use strict";n.d(t,{j:()=>i,n:()=>o});const i=e=>e?{uLightOnMap:{value:null},uLightOffMap:{value:null},uLightsOnPr:{value:0}}:{uLightOnMap:null,uLightOffMap:null,uLightsOnPr:0},o={setup_frag:"\n        uniform sampler2D uLightOnMap;\n        uniform sampler2D uLightOffMap;\n\n        uniform float uLightsOnPr;\n    ",execution_frag:"\n        vec4 tLightOn = texture2D(uLightOnMap, vUv);\n        vec4 colorLight = tLightOn;\n\n        #ifdef USE_LIGHT_OFF_MAP\n        vec4 tLightOff = texture2D(uLightOffMap, vUv);\n        colorLight = mix(tLightOff, tLightOn, uLightsOnPr);\n        #endif\n        float alpha = colorLight.a;\n    "}},4802:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Phase1:()=>ne,Phase2:()=>Fe});var i=n(8159),o=n(616),s=n(6905),a=n(2157),r=n(2856),l=n(8366),c=n(4732);const p=`\n    uniform sampler2D tMap;\n    uniform vec2 uResolution;\n\n    uniform float uTime;\n    const float PI = 3.1415926535897931;\n    varying vec2 vUv;\n    ${n(3088).Z}\n\n    void main() {\n        // vec4 tDiffuse = texture2D(tMap, vUv);\n        vec2 res = vec2(1.0 / uResolution.x, 1.0 / uResolution.y);\n        vec4 finalOutput = fxaa(tMap, res);\n        \n        // apply gamma correction \n        // float gamma = 2.2;\n        // finalOutput.rgb = pow(finalOutput.rgb, vec3(1.0/gamma));\n\n        gl_FragColor = finalOutput;\n        \n\n\n\n    }\n`;var d=n(2736),h=n(3765),u=n(5021),m=n(6771),g=n(6936),f=n(8937),b=n(6852),v=n(5232),x=n(2399),A=n(417),C=n(2447);const w={tMap:{value:null},tNoise:{value:null},uNoiseIntensity:{value:.7},uResolution:{value:new u.F},uTime:{value:0}},y=(A.Z,C.Z,{props:{viewport:()=>(0,h.Z)().state.viewport,uMaxDistort:.05,uBlendOverlayAmount:()=>(0,h.Z)().state.post.blendOverlay,uBlendOverlayColor:()=>(0,h.Z)().state.post.blendColor,chromaticUniforms:e=>({uMaxDistort:e.uMaxDistort}),blendUniforms:e=>({uBlendOverlayAmount:e.uBlendOverlayAmount,uBlendOverlayColor:e.uBlendOverlayColor})},onSetup(){this.uResolution=new u.F,this.clock=new m.S,this.passUniforms={...w,uResolution:{value:this.uResolution},uMaxDistort:{value:this.props.uMaxDistort},uLensFlareOrigin:{value:new u.F},lensFlareDotProd:{value:0},uHintPosition:{value:new u.F},hintDotProd:{value:0},uHintSize:{value:0},lensFlareAmount:{value:0},tLensDirt:{value:null},uBlendOverlayAmount:{value:this.props.uBlendOverlayAmount},uBlendOverlayColor:{value:new g.I(this.props.uBlendOverlayColor)}},this.renderer=d.Z.getInstance(),this.post=new l.SO(this.renderer.renderer);const e=`\n            varying vec2 vUv;\n            // global\n            uniform sampler2D tMap;\n            uniform vec2 uResolution;\n            uniform float uTime;\n            // noise\n            uniform float uNoiseIntensity;\n            uniform sampler2D tNoise;\n            uniform sampler2D tLensDirt;\n\n            uniform float uHintSize;\n            \n            // chromatic\n            uniform float uMaxDistort;\n            #ifndef NUM_ITERATIONS\n            #define NUM_ITERATIONS 8\n            #endif\n\n            // blending idle\n            uniform float uBlendOverlayAmount;\n            uniform float lensFlareDotProd;\n            uniform float lensFlareAmount;\n            uniform vec3 uBlendOverlayColor;\n            uniform vec2 uLensFlareOrigin;\n            uniform vec2 uHintPosition;\n            uniform float hintDotProd;\n        \n            \n/*     uniform sampler2D tMap;\nuniform vec2 uResolution;\n\nuniform float uMaxDistort;\nuniform int uNumIterations;\n\nvarying vec2 vUv; */\n\nvec2 barrelDistortion(vec2 coord, float amt) {\n    vec2 cc = coord - 0.5;\n    float dist = dot(cc, cc);\n    dist = smoothstep(0.1, 0.5, dist);\n    \n    return coord + cc * dist * amt;\n}\n\nfloat sat( float t )\n{\n    return clamp( t, 0.0, 1.0 );\n}\n\nfloat linterp( float t ) {\n    return sat( 1.0 - abs( 2.0*t - 1.0 ) );\n}\n\nfloat remap( float t, float a, float b ) {\n    return sat( (t - a) / (b - a) );\n}\n\nvec4 spectrum_offset( float t ) {\n    vec4 ret;\n    float lo = step(t,0.5);\n    float hi = 1.0-lo;\n    float w = linterp( remap( t, 1.0/6.0, 5.0/6.0 ) );\n    ret = vec4(lo,1.0,hi, 1.) * vec4(1.0-w, w, 1.0-w, 1.);\n    \n    return pow( ret, vec4(1.0/2.2) );\n}\n\n\nvec4 chromaticAberation(in sampler2D uTexture, in vec2 vUv, in float maxDistort) {\n    float reci_numIter_f = 1.0 / float(NUM_ITERATIONS);\n    // vec2 uv = gl_FragCoord.xy/uResolution.xy;\n    vec2 uv= vUv;\n    \n    vec4 sumcol = vec4(0.0);\n    vec4 sumw = vec4(0.0);\n    for ( int i=0; i<NUM_ITERATIONS;++i )\n    {\n        float t = float(i) * reci_numIter_f;\n        vec4 w = spectrum_offset( t );\n        sumw += w;\n        sumcol += w * texture2D( uTexture, barrelDistortion(uv, .6 * maxDistort*t ) );\n    }\n    \n    return sumcol / sumw;\n}\n\n/*     void main() {\n    vec4 tDiffuse = texture2D(tMap, vUv);\n    \n    gl_FragColor = chromaticAberation(tMap, vUv, uMaxDistort, uNumIterations);\n} */\n\n            ${A.Z}\n            ${C.Z}\n\n\n            void main() {\n                \n                vec2 st = vUv;\n                vec2 res = uResolution;\n                vec2 aspect = vec2(res.x / res.y, 1.0);\n                float t = uTime;\n                \n                float off = floor(mod(t * 20.0, 20.0));\n                float randOffWhite = random(off);\n                vec2 rand =  random2(vec2(off, off * 2.0));\n\n                float noiseScale = 1.;\n                vec2 stNoise = st * aspect;\n                stNoise += rand * rand;\n                stNoise *= vec2(res.y / 1024.0) * noiseScale;\n\n                vec3 noise = texture2D(tNoise, stNoise).rgb;\n                noise += (randOffWhite * 0.04);\n                \n                vec3 c = chromaticAberation(tMap, vUv, uMaxDistort).rgb;\n                c = blendOverlay(c, noise, uNoiseIntensity);\n                if(uBlendOverlayAmount > 0.) c = blendOverlay(c, uBlendOverlayColor, uBlendOverlayAmount);\n     \n\n                vec4 lensdirt = texture2D(tLensDirt, vUv);\n                \n                float dist = length(uLensFlareOrigin-vUv);\n                float lensFlareSize = length(uLensFlareOrigin-vec2(0.5, 0.5));\n                float distx = max(0.0, 0.3-abs(lensFlareSize - dist-0.05*sign(lensFlareDotProd)));\n                float disty = max(0.0, 0.3-abs(lensFlareSize - dist));\n                float distz = max(0.0, 0.3-abs(lensFlareSize - dist+0.05*sign(lensFlareDotProd)));\n\n                float distLensDirt = max(0.0, 0.3-abs(lensFlareSize - dist));\n                \n                c += vec3(distx, disty, distz)*0.4* smoothstep(-0.4, 0.3, lensFlareDotProd);\n                // c = mix(c, vec3(distx, disty, distz), 1.0- smoothstep(-0.4, -0.2, lensFlareDotProd));\n                \n                c += lensdirt.xyz*distLensDirt*0.1* smoothstep(-0.4, 0.3, lensFlareDotProd);\n\n                c += max(0.0, 0.1-dist)*4.0 * (sign(lensFlareDotProd)+1.0)*0.5;\n\n\n\n                \n\n                float hintDist = length((uHintPosition-vUv)*aspect);\n                float hintSize = length(uHintPosition-vec2(0.5, 0.5));\n\n                float ringSize = mix(0.01, 0.2, pow(uHintSize*0.5, 1.5));\n                float hintDistx = max(0.0, ringSize-abs(hintSize - hintDist-ringSize*0.5 - (1.0-uHintSize)));\n                float hintDisty = max(0.0, ringSize-abs(hintSize - hintDist- (1.0-uHintSize)));\n                float hintDistz = max(0.0, ringSize-abs(hintSize - hintDist+ringSize*0.5- (1.0-uHintSize)));\n\n                c += vec3(hintDistx, hintDisty, hintDistz)*smoothstep(0.0, 2.0, 2.0-smoothstep(1.0, 1.5, uHintSize))*1.0;\n\n\n                gl_FragColor = vec4(c, 1.);\n\n\n                \n            }\n        `;this.aaPass=this.post.addPass({fragmentShader:p,uniforms:{uResolution:{value:this.uResolution}}}),this.outPass=this.post.addPass({fragmentShader:e,uniforms:this.passUniforms}),r.Sp.onAssetLoad("core","mapNoise",(()=>{const e=r.Sp.getAsset("core","mapNoise");this.outPass.shader.uniforms.tNoise.value=e})),r.Sp.onAssetLoad("core","mapLensDirt",(()=>{const e=r.Sp.getAsset("core","mapLensDirt");this.outPass.shader.uniforms.tLensDirt.value=e})),this.scenePost=new f.x,this.scenes=[],this.orthoCamera=new b.i(1,1,1,1,.01,100),this.orthoCamera.position.set(0,0,10)},onAfterSetup(){this.meshes=this.scenes.map(((e,t)=>{const{texture:n}=e.fbo,i=this.scenes.length-1-t,o=new v.K(c.Bd,(0,c.WW)(n));return o.material.depthTest=!1,o.material.depthWrite=!1,o.renderOrder=i,this.scenePost.add(o),o}))},render(){window.coenProps=window.coenProps||{};const e=this.clock.getElapsedTime();if(window.coenProps.lamp){window.coenProps.lamp.mesh.updateMatrixWorld();const e=new x.P;window.coenProps.lamp.mesh.getWorldPosition(e);const o=new x.P;window.coenProps.camera.getWorldPosition(o);const s=(new x.P).copy(e).sub(o);s.normalize();var t=new x.P;window.coenProps.camera.getWorldDirection(t);const a=s.dot(t);t.clone().sub(s);var n=window.coenProps.lamp.mesh.position.clone();if(n.project(window.coenProps.camera),n.x=.5*(n.x+1),n.y=.5*(n.y+1),window.coenProps.showingHint){var i=new x.P;window.coenProps.showingHint.getWorldPosition(i),i.project(window.coenProps.camera),i.x=.5*(i.x+1),i.y=.5*(i.y+1),this.outPass.shader.uniforms.uHintPosition.value.set(i.x,i.y),this.outPass.shader.uniforms.uHintSize.value=window.coenProps.hintSize}this.outPass.shader.uniforms.lensFlareDotProd.value=a,this.outPass.shader.uniforms.lensFlareAmount.value=window.coenProps.lensFlareAmount,this.outPass.shader.uniforms.uLensFlareOrigin.value.set(n.x,n.y)}this.outPass.shader.uniforms.uTime.value=e},renderPost(){this.scenes.forEach(((e,t)=>{this.meshes[t].visible=e.props.active})),(0,h.Z)().state.post.enabled&&this.post.render({scene:this.scenePost,camera:this.orthoCamera})},setChromaticUniforms(e){Object.entries(e).forEach((([e,t])=>{this.passUniforms[e].value=t}))},setBlendUniforms(e){Object.entries(e).forEach((([e,t])=>{this.passUniforms[e].value instanceof g.I?this.passUniforms[e].value.set(t):this.passUniforms[e].value=t}))},setViewport({width:e,height:t,dpr:n}){this.orthoCamera.left=-e/2,this.orthoCamera.right=e/2,this.orthoCamera.top=t/2,this.orthoCamera.bottom=-t/2,this.orthoCamera.updateProjectionMatrix(),this.uResolution.set(e*n,t*n),this.meshes.forEach((n=>{n.scale.set(e,t,1)})),this.post.setSize({width:e,height:t,dpr:n})}});var _=n(5782),$=n(1485),B=(n(9278),n(7966)),k=n(1892),S=n.n(k),P=n(5760),Z=n.n(P),T=n(8311),O=n.n(T),M=n(8192),D=n.n(M),z=n(8060),E=n.n(z),I=n(4865),j=n.n(I),R=n(3661),F={};F.styleTagTransform=j(),F.setAttributes=D(),F.insert=O().bind(null,"head"),F.domAPI=Z(),F.insertStyleElement=E();S()(R.Z,F);R.Z&&R.Z.locals&&R.Z.locals;var L,G=n(5549),W=n(5226),N=n(4661),U=n(6451),V=n(6049),q=n(6376),Y=n(9667),H=n(6843),K=n.n(H),X=n(3907),Q=n(4655);const J=({options:e,props:t})=>_.dy`
    <div class="landing">
        <div class="landing__copy">
            <h2 data-ui="preTitle" class="landing__preTitle  textTitle2">${t.pretitle} ${t.countdown}</h2>

            <h1 data-ui="title" class="landing__title  textTitle1">${B.Z.get("landing-title")}</h1>
            <p data-ui="body" class="landing__body">${B.Z.get("landing-subtitle")}</p>
        </div>
    </div>
`;const ee=(0,i.c1)((0,r.E4)())(L=(0,i.c1)($.Z)(L=class extends i.wA{constructor(...e){super(...e),this.options={template:J,onBtnEnterClick:()=>{},phase:U.Z.phase},this.props={active:!1,soundsLoaded:!1,isCountdown:!1,isFooterHovered:!1,timeToEvent:()=>(0,h.Z)().state.countdown.timeToEventClamped,showEnterBtn:e=>e.active&&(0,h.Z)().state.countdown.ended&&!e.isFooterHovered,countdownEnded:()=>(0,h.Z)().state.countdown.ended,countdown:"",pretitle:"",lang:()=>(0,h.Z)().state.lang},this.assets={hallwayA:"static/audio/hallway/hallway-a.mp3#audio",hallwayB:"static/audio/hallway/hallway-b.mp3#audio",doorKnock:"static/audio/hallway/door.mp3#audio"},this.handleDoorClick=()=>{if(!this.props.active)return;(0,W.VA)().countdownEnded&&2===U.Z.phase?this.options.onBtnEnterClick():this.assets.doorKnock&&X.Z.play(this.assets.doorKnock),this.options&&1===this.options.phase&&(0,Q.L9)("general","door_click")},this.handleDoorRollover=e=>{this.props.active&&(this.btnEnter?this.btnEnter.props.over=e:(0,h.Z)().state.cursor=e?"pointer":"")},this.handleFooterRollover=e=>{this.props.active&&(this.props.isFooterHovered=e)}}setTimeToEvent(e){const{hours:t,minutes:n,seconds:i}=(0,N.rJ)(e);this.props.isCountdown&&(this.props.countdown=`${t}:${n}:${i}`)}async onSetup(){switch(this.setupPretitle(),this.animElements=this.el.querySelectorAll(".js-anim"),this.options.phase){case 1:break;case 2:this.btnEnter=await(new V.Z).setup({options:{appendTo:this.el,onClick:this.options.onBtnEnterClick},props:{text:"Click to Enter",active:()=>this.props.showEnterBtn}})}this.setupTitle()}setupTitle(){this.splitTitle&&this.splitTitle.revert(),this.ui.title.textContent=B.Z.getValue("landing-title"),this.splitTitle=new(K())(this.ui.title,{type:"lines",charsClass:"splitText__lines"})}setupPretitle(){const{timeToEventClamped:e,ended:t}=(0,h.Z)().state.countdown;t&&2===this.options.phase?this.props.pretitle=B.Z.get("landing-step-into"):e<(0,N.Dt)(24)?(this.props.pretitle=B.Z.get("landing-countdown-timer"),this.props.isCountdown=!0):this.props.pretitle=B.Z.get("landing-countdown-date")}playBgSounds(){const{hallwayA:e,hallwayB:t}=this.assets;this.bgDelay=Y.ZP.delayedCall(1.8,(()=>{X.Z.play(e,{loop:!0,duration:10,fade:!0}),X.Z.play(t,{loop:!0,duration:10,fade:!0})}))}pauseBgSounds(){this.bgDelay?.kill();const{hallwayA:e,hallwayB:t}=this.assets;X.Z.pause(e,{fade:!0,duration:2}),X.Z.pause(t,{fade:!0,duration:2})}setActive(e){}setLang(e,{firstTrigger:t}){t||this.setupTitle()}onActive(){this.props.loaded&&this.playBgSounds();const e=(0,h.Z)().state.vw/1440;this.animElements=[this.ui.preTitle,...this.splitTitle.lines,this.ui.body],Y.ZP.fromTo(this.animElements,{y:60*e},{y:0,duration:2,stagger:.06,delay:.95,ease:"expo.out"}),Y.ZP.fromTo(this.animElements,{alpha:0,willChange:"transform"},{alpha:1,duration:.5,stagger:.06,delay:.95,onStart:()=>{(0,h.Z)().state.disableInteraction=!1}}),this.options.scene.startIntroAnimation({delay:.7}),this.addEvents();const t=1===this.options.phase?"/landing-teaser":"/landing-experience",n=1===this.options.phase?"/Teaser Home":"Experience Home";(0,Q.Kq)(t,n)}offActive({firstTrigger:e}){if(e)return;(0,h.Z)().state.cursor="",this.pauseBgSounds(),this.removeEvents();const t=-40*((0,h.Z)().state.vw/1440),n=U.Z.skipIntro?0:.5,i=U.Z.skipIntro?0:.06;this.animElements=[this.ui.preTitle,...this.splitTitle.lines,this.ui.body],Y.ZP.to(this.animElements,{alpha:0,y:t,duration:n,stagger:i,ease:"power2.in"})}addEvents(){h.x.on("click-door",this.handleDoorClick),h.x.on("click-rollover",this.handleDoorRollover),h.x.on("footer-rollover",this.handleFooterRollover)}removeEvents(){h.x.off("click-door",this.handleDoorClick),h.x.off("click-rollover",this.handleDoorRollover),h.x.off("footer-rollover",this.handleFooterRollover)}onShowEnterBtn(){q.Vq||2!==this.options.phase||((0,h.Z)().state.cursor="none")}onBeforeDestroy(){this.pauseBgSounds(),this.removeEvents()}})||L)||L;var te;const ne=(0,i.c1)((0,a.Z)(s.o))(te=(0,i.c1)(y)(te=class extends i.wA{constructor(...e){super(...e),this.options={},this.props={active:!1,state:G.PO.LANDING}}async onSetup(){this.scene=await this.setupScene(),this.scenes.push(this.scene),this.landing=await this.setupLanding()}setupLanding(){return(new ee).setup({options:{appendTo:this.options.appendTo,phase:1,scene:this.scene}})}setupScene(){return(new o.SceneExperience).setup({options:{useFbo:!0,phase:1},props:{active:()=>this.props.active,transitionPr:0,cameraTransitionPr:0,cameraRotPr:0}})}onActive(){this.landing.props.active=!0}render(e){this.scene.render(),this.renderPost()}})||te)||te;var ie=n(1431),oe=n(970),se={};se.styleTagTransform=j(),se.setAttributes=D(),se.insert=O().bind(null,"head"),se.domAPI=Z(),se.insertStyleElement=E();S()(oe.Z,se);oe.Z&&oe.Z.locals&&oe.Z.locals;var ae,re=n(9550),le=n(522);const ce=({props:e})=>_.dy` <div class="end"></div> `;const pe=(0,i.c1)($.Z)(ae=class extends i.wA{constructor(...e){super(...e),this.options={template:ce,onBtnReplayClick:()=>{}},this.props={active:!1}}async onSetup(){this.treasuresGallery=await this.setupTreasureGallery()}async setupTreasureGallery(){return(new le.Z).setup({options:{appendTo:this.el,overlay:!0,end:!0,onReplay:this.options.onBtnReplayClick},props:{active:()=>this.props.active}})}setActive(e){}onActive(){(0,h.Z)().state.logoColor=G.DM.RED,(0,Q.Kq)(`/game-over/${re.h8.props.totalItemsCollected}`,`Game overview (${re.h8.props.totalItemsCollected})`)}})||ae;var de=n(5923),he={};he.styleTagTransform=j(),he.setAttributes=D(),he.insert=O().bind(null,"head"),he.domAPI=Z(),he.insertStyleElement=E();S()(de.Z,he);de.Z&&de.Z.locals&&de.Z.locals;var ue=n(3685),me={};me.styleTagTransform=j(),me.setAttributes=D(),me.insert=O().bind(null,"head"),me.domAPI=Z(),me.insertStyleElement=E();S()(ue.Z,me);ue.Z&&ue.Z.locals&&ue.Z.locals;var ge;const fe=({options:e,props:t})=>_.dy`
    <button class="btnTutorial" @click=${e.onClick}>${B.Z.get("tutorial-open")}</button>
`;const be=(0,i.c1)($.Z)(ge=class extends i.wA{constructor(...e){super(...e),this.options={template:fe,onClick:()=>{}},this.props={active:!1}}async onSetup(){}setActive(e){this.el.style.visibility=e?"visible":"hidden"}})||ge;var ve=n(6108),xe=n(277),Ae={};Ae.styleTagTransform=j(),Ae.setAttributes=D(),Ae.insert=O().bind(null,"head"),Ae.domAPI=Z(),Ae.insertStyleElement=E();S()(xe.Z,Ae);xe.Z&&xe.Z.locals&&xe.Z.locals;var Ce,we=n(8036);const ye=({options:e,props:t})=>_.dy` <div class="finalCountdown  textTitle1"></div> `;const _e=(0,i.c1)($.Z)(Ce=class extends i.wA{constructor(...e){super(...e),this.options={template:ye},this.props={active:!1,timeLeft:()=>re.h8.props.finalCountdownTimeLeft}}async onSetup(){}setTimeLeft(e){this.el.innerText=`00:${(0,we.Z)(this.props.timeLeft,2)}`}setActive(e){this.el.style.visibility=e?"visible":"hidden",e&&this.setTimeLeft(this.props.timeLeft)}})||Ce;var $e=n(4939),Be=n(8746),ke=n(8055),Se={};Se.styleTagTransform=j(),Se.setAttributes=D(),Se.insert=O().bind(null,"head"),Se.domAPI=Z(),Se.insertStyleElement=E();S()(ke.Z,Se);ke.Z&&ke.Z.locals&&ke.Z.locals;var Pe;const Ze=({options:e,props:t})=>_.dy`
        <div class="titleSmall">
            <div data-ui="inner" class="titleSmall__inner">
                <h1 data-ui="text" class="titleSmall__text  textTitle1">${e.text}</h1>
            </div>
        </div>
    `;const Te=(0,i.c1)($.Z)(Pe=class extends i.wA{constructor(...e){super(...e),this.options={template:Ze,text:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Consectetur, accusantium id, illo pariatur repudiandae deserunt suscipit nostrum veritatis blanditiis, provident dolorem. Eum officiis ducimus veritatis commodi velit praesentium non cupiditate?"},this.props={}}async onSetup(){}show({duration:e=1.8,delay:t=0}={}){Y.ZP.killTweensOf(this.ui.inner),Y.ZP.set(this.el,{autoAlpha:1,delay:t}),Y.ZP.fromTo(this.ui.inner,{scale:.98},{scale:1,duration:e,delay:t,ease:"expo.out"}),Y.ZP.fromTo(this.ui.inner,{alpha:0},{alpha:1,duration:1,delay:t,ease:"sine.inOut"}),Y.ZP.fromTo(this.ui.text,{scale:.9},{scale:1,duration:10,ease:"none",delay:t})}hide({duration:e=.6,scale:t=1.02,delay:n=0,ease:i="power1.in"}={}){return new Promise((o=>{Y.ZP.killTweensOf(this.ui.inner),Y.ZP.to(this.ui.inner,{scale:t,alpha:0,duration:e,delay:n,ease:i,onComplete:()=>{Y.ZP.set(this.el,{autoAlpha:0}),o()}})}))}})||Pe;var Oe,Me=n(2025),De=n(7381);const ze=({props:e,context:t})=>_.dy`
    <div class="experience">
        <h2 data-ui="collected" class="experience__collected  textTitle2">${e.treasureCollectedText}</h2>
    </div>
`;const Ee=(0,i.c1)((0,r.E4)())(Oe=(0,i.c1)($.Z)(Oe=class extends i.wA{constructor(...e){super(...e),this.options={template:ze,scene:null,onExperienceEnd:()=>{},onFinalSequence:()=>{}},this.props={active:!1,reduceVolume:!0,darkenedRoom:!0,endSequenceComplete:!1,showGameUi:!1,treasureCollectedText:()=>{const e=re.h8.props.totalItemsCollected,t=re.h8.props.totalItems;(0,h.Z)().state.lang;return B.Z.getValue("game-treasure-total",{"total-found":e,total:t})}},this.assets={bgA:"static/audio/experience/room-a.mp3#audio",bgB:"static/audio/experience/room-b.mp3#audio",encoreOverBegin:"static/audio/experience/encore-over-begin.mp3#audio",encoreOverLoop:"static/audio/experience/encore-over-loop.mp3#audio",encoreOverEnd:"static/audio/experience/encore-over-end.mp3#audio",buttonClick:"static/audio/interaction/button-click.mp3#audio",close_door:"static/audio/experience/door-experience-close.mp3#audio"},this.countdownSeqTriggered=!1,this.onIntroSequenceComplete=()=>{this.startExperience(),(0,De.Z)((()=>{this.options.scene.destroyHallway()}))},this.handleShowTutorial=e=>{this.tutorial.props.mode="auto",this.tutorial.props.active=!0,this.tutorial.goToCard(e.card)},this.handleNextClue=e=>{$e.W.playAudio(e.id),this.props.reduceVolume=!0;const t=e.treasureId.replace("treasure_","");(0,Q.L9)("game",`clue_${t}`)},this.handleVoiceOverEnded=e=>{"clue"===e.type&&(this.props.reduceVolume=!1,re.h8.cluesComplete?console.log("🚀 ~ gameApi.cluesComplete",re.h8.cluesComplete):re.h8.startNextClueTimer())},this.handleInteractionCompleted=e=>{this.tutorial.props.active=!1,re.h8.interactionsComplete?re.h8.startNextClueTimer():re.h8.startNextTutorialTimer()},this.handleFinalCountdownComplete=()=>{(0,Q.Kq)("/game-countdown-complete","Game countdown complete"),this.startEndSequence()},this.handleCompleteAllItems=()=>{console.log("🚀 ~ experience.handleCompleteAllItems")},this.handlePlayDurationComplete=()=>{console.log("🚀 ~ experience.handlePlayDurationComplete"),this.countdownSeqTriggered||this.startCountdownSequence()},this.handleItemCollected=e=>{(0,h.Z)().state.disableInteraction=!0,h.x.emit("showTreasure",{data:e}),this.tutorial.props.active=!1,this.props.reduceVolume=!0},this.handleTreasureRevealClose=()=>{this.props.active&&!this.treasuresGallery.props.active&&(this.props.reduceVolume=!1,re.h8.interactionsComplete&&!re.h8.cluesComplete&&re.h8.startNextClueTimer())},this.handleTreasureRevealCloseComplete=()=>{this.props.active&&!this.treasuresGallery.props.active&&((0,h.Z)().state.pauseRenderer=!1,(0,h.Z)().state.disableInteraction=!1,re.h8.props.finalCountdown&&!this.countdownSeqTriggered?this.startCountdownSequence():re.h8.props.collectedAllItems?this.startEndSequence():(re.h8.resume(),(0,Q.Kq)("/game","Game")))},this.handleSeeAllTreasuresClick=()=>{(0,h.Z)().state.disableInteraction=!0,X.Z.play(this.assets.buttonClick),this.treasuresGallery.props.active=!0,this.tutorial.props.active=!1,this.props.reduceVolume=!0,(0,Q.Kq)("/treasure-overview","Treasure overview")}}async onSetup(){await this.setupBtns(),await this.setupTitles(),this.tutorial=await this.setupTutorial(),this.treasuresGallery=await this.setupTreasureGallery(),this.countdown=await this.setupCountdown(),this.endTitles=await this.setupEndTitles(),this.setupIntroSequence(),window.experience=this}onAssetsPreloaderComplete(){this.props.active&&this.playBgSounds()}async setupBtns(){this.btnTutorial=await(new be).setup({options:{appendTo:this.el,onClick:()=>{this.tutorial.props.mode="manual",this.tutorial.props.active=!0,(0,Q.Kq)("/game/help","Game tutorial")}},props:{}}),this.btnGallery=await(new Me.Z).setup({options:{appendTo:this.el,text:B.Z.get("game-overview-title"),className:"btn-Circle--gallery",onClick:this.handleSeeAllTreasuresClick},props:{active:()=>this.props.active&&this.props.showGameUi,disabled:()=>this.treasuresGallery.props.active,icon:"grid",cIcon:"#000000",cBg:"#ffffff"}})}async setupTitles(){this.encoreMessage=await(new Be.Z).setup({options:{appendTo:this.el,title:B.Z.get("supers-encore"),subtitle:B.Z.get("supers-encore-sub")}}),this.startMessage=await(new Be.Z).setup({options:{appendTo:this.el,title:B.Z.get("game-get-started"),subtitle:B.Z.get("game-get-started-sub")}}),this.comingBackMessage=await(new Be.Z).setup({options:{appendTo:this.el,title:B.Z.get("supers-game-ending"),subtitle:B.Z.get("supers-game-ending-sub")}})}setupTutorial(){return(new ve.Z).setup({options:{appendTo:this.el,onClose:()=>{re.h8.resume(),(0,h.Z)().state.pauseRenderer=!1,(0,Q.Kq)("/game","Game")}}})}async setupTreasureGallery(){return(new le.Z).setup({options:{appendTo:this.el,randomLocked:!1,overlay:!0,onOpen:()=>{X.Z.pause(this.assets.encoreOverBegin,{fade:!0}),X.Z.pause(this.assets.encoreOverLoop,{fade:!0}),X.Z.pause(this.assets.encoreOverEnd,{fade:!0})},onClose:()=>{this.props.reduceVolume=!1,re.h8.interactionsComplete&&!re.h8.cluesComplete&&re.h8.startNextClueTimer()},onCloseComplete:()=>{re.h8.resume(),this.countdownSeqTriggered&&X.Z.play(this.assets.encoreOverLoop,{loop:!0,parentNode:X.Z.ambientNode}),(0,h.Z)().state.pauseRenderer=!1,(0,h.Z)().state.disableInteraction=!1,(0,Q.Kq)("/game","Game")}}})}async setupCountdown(){return(new _e).setup({options:{appendTo:this.el}})}async setupEndTitles(){return Promise.all(["supers-game-over-1","supers-game-over-2","supers-game-over-3"].map((e=>(new Te).setup({options:{appendTo:this.el,text:B.Z.get(e)}}))))}setBgVolume(e){const{bgA:t,bgB:n}=this.assets;X.Z.setVolume(t,e,!0,2),X.Z.setVolume(n,e,!0,2),h.x.emit("setBgVolume",e)}playBgSounds(e=1){const{bgA:t,bgB:n}=this.assets,i=X.Z.ambientNode;X.Z.play(t,{loop:!0,duration:10,fade:!0,volume:e,parentNode:i}),X.Z.play(n,{loop:!0,duration:10,fade:!0,volume:e,parentNode:i}),h.x.emit("playBgSounds")}pauseBgSounds(){const{bgA:e,bgB:t}=this.assets;X.Z.pause(e,{fade:!0,duration:2}),X.Z.pause(t,{fade:!0,duration:2}),h.x.emit("pauseBgSounds")}setReduceVolume(e,{firstTrigger:t}){if(t)return;const n=e?.05:1;X.Z.setAmbientVolume(n)}onActive(){re.h8.reset(),(0,h.Z)().state.pauseRenderer=!1,(0,h.Z)().state.disableInteraction=!1,(0,h.Z)().state.cursor="grab",(0,h.Z)().state.logoColor="",re.h8.event.on("showTutorial",this.handleShowTutorial),re.h8.event.on("interactionCompleted",this.handleInteractionCompleted),re.h8.event.on("nextClue",this.handleNextClue),re.h8.event.on("itemCollected",this.handleItemCollected),re.h8.event.on("playDurationComplete",this.handlePlayDurationComplete),re.h8.event.on("finalCountdownComplete",this.handleFinalCountdownComplete),re.h8.event.on("completeAllItems",this.handleCompleteAllItems),$e.W.event.on("voiceOverEnded",this.handleVoiceOverEnded),h.x.on("treasureRevealClose",this.handleTreasureRevealClose),h.x.on("treasureRevealCloseComplete",this.handleTreasureRevealCloseComplete),this.startIntroSequence()}offActive({firstTrigger:e}){e||(this.props.showGameUi=!1,this.props.endSequenceComplete=!1,this.pauseBgSounds(),X.Z.pause(this.assets.encoreOverBegin),X.Z.pause(this.assets.encoreOverLoop),re.h8.event.off("showTutorial",this.handleShowTutorial),re.h8.event.off("interactionCompleted",this.handleInteractionCompleted),re.h8.event.off("nextClue",this.handleNextClue),re.h8.event.off("itemCollected",this.handleItemCollected),re.h8.event.off("playDurationComplete",this.handlePlayDurationComplete),re.h8.event.off("finalCountdownComplete",this.handleFinalCountdownComplete),re.h8.event.off("completeAllItems",this.handleCompleteAllItems),$e.W.event.off("voiceOverEnded",this.handleVoiceOverEnded),h.x.off("treasureRevealClose",this.handleTreasureRevealClose),h.x.off("treasureRevealCloseComplete",this.handleTreasureRevealCloseComplete),re.h8.stop(),this.countdownSeqTriggered=!1)}startIntroSequence(){if(U.Z.skipIntro)this.introSeq.progress(0),this.introSeq.progress(1);else{const e=1===this.introSeq.progress()?"startMessage":"start";this.introSeq.seek(e),this.introSeq.play()}}startExperience(){$e.W.stopAllAudio(),re.h8.start(),(0,h.Z)().state.disableInteraction=!1,this.props.showGameUi=!0,this.options.scene.setExperienceState(),(0,Q.Kq)("/game","Game start")}setupIntroSequence(){this.introSeq=Y.ZP.timeline({paused:!0,onComplete:this.onIntroSequenceComplete}),this.introSeq.add("start"),this.introSeq.add((()=>{(0,h.Z)().state.disableInteraction=!0,this.encoreMessage.props.active=!0,this.options.scene.turnOnLightsSlowly()})),this.introSeq.add((()=>{$e.W.playAudio("vo-introduction"),this.props.loaded&&this.playBgSounds()}),"+=3"),this.introSeq.add((()=>{this.encoreMessage.props.active=!1}),"+=2"),this.introSeq.add((()=>{X.Z.play(this.assets.close_door)}),"+=8"),this.introSeq.add((()=>{(0,h.Z)().state.color=G.DM.WHITE,$e.W.stopAllAudio(),this.options.scene.turnOnLights(),this.options.scene.showDoor()}),"+=0.5"),this.introSeq.add("startMessage","+=0"),this.introSeq.add((()=>{this.startMessage.props.active=!0,this.props.reduceVolume=!1,this.options.scene.fadeOut(.5)}),"startMessage"),this.introSeq.add((()=>{this.startMessage.props.active=!1,this.options.scene.fadeIn(0,1)}),"+=4")}startCountdownSequence(){this.countdownSeqTriggered=!0,(0,h.Z)().state.disableInteraction=!0,re.h8.pause(),this.countdownSeq?.kill(),this.countdownSeq=Y.ZP.timeline(),this.countdownSeq.add((()=>{this.options.scene.focusOnDoor(),$e.W.playAudio("vo-thank-you"),X.Z.play(this.assets.encoreOverBegin,{loop:!1}),this.props.reduceVolume=!0}),"+=1"),this.countdownSeq.add((()=>{this.options.scene.releaseDoorFocus(),$e.W.stopAllAudio()}),"+=4"),this.countdownSeq.add((()=>{this.comingBackMessage.props.active=!0,this.options.scene.fadeOut(.5)}),"+=0.5"),this.countdownSeq.add((()=>{(0,h.Z)().state.disableInteraction=!1,re.h8.resume(),this.props.reduceVolume=!1,this.countdown.props.active=!0,this.comingBackMessage.props.active=!1,this.options.scene.fadeIn(0,1),X.Z.play(this.assets.encoreOverLoop,{loop:!0,parentNode:X.Z.ambientNode}),(0,Q.Kq)("/game-countdown","Game countdown")}),"+=3")}startEndSequence(){(0,h.Z)().state.disableInteraction=!0,re.h8.pause();const e=this.endSeq=Y.ZP.timeline();e.add((()=>{this.props.showGameUi=!1,this.props.reduceVolume=!0,this.tutorial.props.active=!1,this.options.scene.focusOnDoor(),$e.W.playAudio("vo-someone")})).add((()=>{this.options.scene.turnOffLightsSlowly(),X.Z.pause(this.assets.encoreOverLoop),X.Z.play(this.assets.encoreOverEnd,{loop:!1})}),"+=2").add((()=>{this.options.scene.fadeOut(),(0,h.Z)().state.color=G.DM.RED}),"+=3");const t=[4.2,4.2,4.1].map((e=>e+2));this.endTitles.forEach(((n,i)=>{e.add((()=>n.show()),"+=1").add((()=>n.hide()),`+=${t[i]}`)})),e.add((()=>{this.options.onExperienceEnd()}),"+=0.5")}onShowGameUi(){this.btnCollect&&(this.btnCollect.props.active=!0),this.btnTutorial.props.active=!0,Y.ZP.killTweensOf(this.ui.collected),Y.ZP.to(this.ui.collected,{alpha:1}),re.h8.props.finalCountdown&&(this.countdown.props.active=!0)}offShowGameUi(){this.btnCollect&&(this.btnCollect.props.active=!1),this.btnTutorial.props.active=!1,this.countdown.props.active=!1,Y.ZP.killTweensOf(this.ui.collected),Y.ZP.to(this.ui.collected,{alpha:0})}setActive(e){}})||Oe)||Oe;var Ie,je;function Re(e,t,n,i,o){var s={};return Object.keys(i).forEach((function(e){s[e]=i[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}const Fe=(0,i.c1)((0,a.Z)(s.o,{expanded:!0,withoutViews:"renderer scene landing intro experience end",withoutKeys:"v state active",keysOptions:{transitionPr:{min:0,max:1,step:.001},uChromaticSplitDist:{min:-.005,max:.005,step:1e-4},uMaxDistort:{min:0,max:4,step:.001},uNumIterations:{min:1,max:20,step:1},uBlendOverlayAmount:{min:0,max:1,step:.001}}}))(Ie=(0,i.c1)((0,r.E4)())(Ie=(0,i.c1)(y)((Re((je=class extends i.wA{constructor(...e){super(...e),this.options={color:"#0000ff"},this.props={active:!1,transitionPr:0,cameraTransitionPr:0,cameraRotPr:0,doorOpenPr:0,state:()=>(0,h.Z)().state.state,countdownEnded:()=>(0,h.Z)().state.countdown.ended},this.assets={experienceStart:"static/audio/experience/experience-start.mp3#audio"}}async onSetup(){this.autoTransition=(0,h.Z)().state.countdown.timeToEvent>(0,N.$V)(5),this.scene=await this.setupScene(),this.landing=await this.setupLanding(),this.experience=await this.setupExperience(),this.end=await this.setupEnd(),this.scenes.push(this.scene),this.addEvents(),this.setupIntroTransition()}addEvents(){}setupIntroTransition(){this.introTl=Y.ZP.timeline({paused:!0}),this.introTl.add((()=>{this.scene.tweenTransitionStartProps(),this.landing.props.active=!1,U.Z.skipIntro||X.Z.play(this.assets.experienceStart)}),0),2===U.Z.introOption?(this.introTl.to(this.props,{transitionPr:1,duration:10,ease:"power1.inOut"},0),this.introTl.to(this.props,{cameraTransitionPr:1,duration:10,ease:"power2.inOut"},0),this.introTl.to(this.props,{cameraRotPr:1,duration:6,ease:"power2.inOut"},5),this.introTl.to(this.props,{doorOpenPr:1,duration:3.55,ease:"power2.inOut"},5)):(this.introTl.to(this.props,{transitionPr:1,duration:12,ease:"power1.inOut"},0),this.introTl.to(this.props,{cameraTransitionPr:1,duration:12,ease:"power2.inOut"},0),this.introTl.to(this.props,{cameraRotPr:1,duration:5,ease:"power2.inOut"},7),this.introTl.to(this.props,{doorOpenPr:1,duration:3,ease:"power2.inOut"},6.8)),this.introTl.add((()=>{(0,h.Z)().state.state=G.PO.EXPERIENCE,this.scene.setTransitionCompleteState(),(0,De.Z)((()=>{this.landing.destroy(),this.landing=null}))}),9),this.introTl.set(this.props,{doorOpenPr:0})}setupScene(){return(new o.SceneExperience).setup({options:{useFbo:!0,phase:2},props:{state:()=>this.props.state,active:()=>this.props.active&&this.props.state!==G.PO.END,transitionPr:()=>this.props.transitionPr,cameraTransitionPr:()=>this.props.cameraTransitionPr,cameraRotPr:()=>this.props.cameraRotPr,doorOpenPr:()=>this.props.doorOpenPr}})}setupLanding(){return(new ee).setup({options:{phase:2,appendTo:this.options.appendTo,scene:this.scene,isSignup:!1,onBtnEnterClick:this.onBtnEnterClick}})}setupExperience(){return(new Ee).setup({options:{appendTo:this.options.appendTo,scene:this.scene,onExperienceEnd:()=>{(0,h.Z)().state.state=G.PO.END}},props:{active:()=>(0,h.Z)().state.state===G.PO.EXPERIENCE}})}setupEnd(){return(new pe).setup({options:{appendTo:this.options.appendTo,onBtnReplayClick:this.onBtnReplayClick},props:{active:()=>this.props.state===G.PO.END}})}onActive(){this.landing.props.active=!0,(0,h.Z)().state.state=G.PO.LANDING}setState(e,{firstTrigger:t}){t||G.PO.END}onCountdownEnded(e){this.autoTransition&&this.startExperience()}onBtnEnterClick(){this.startExperience()}startExperience(){U.Z.skipIntro?this.introTl.progress(1):this.introTl.play(),(0,Q.Kq)("/game-intro","Enter Room")}onBtnReplayClick(){(0,h.Z)().state.state=G.PO.EXPERIENCE,this.experience.props.active=!0}render(){this.scene.props.active&&this.scene.render(),this.renderPost()}}).prototype,"onBtnEnterClick",[ie.Nj],Object.getOwnPropertyDescriptor(je.prototype,"onBtnEnterClick"),je.prototype),Re(je.prototype,"onBtnReplayClick",[ie.Nj],Object.getOwnPropertyDescriptor(je.prototype,"onBtnReplayClick"),je.prototype),Ie=je))||Ie)||Ie)||Ie},616:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SceneExperience:()=>Ce,SceneHallway:()=>Fe,SceneRoom:()=>je,SceneTestBen:()=>ze,SceneTestGuillaume:()=>Pe});var i=n(8159),o=n(4732),s=n(2736),a=n(3765),r=n(7e3),l=n(5021),c=(n(301),n(8937)),p=n(3777),d=n(5232),h=n(9752);const u=(...e)=>{console.log(...e)},m=async e=>new Promise((t=>{setTimeout(t,e)})),g=new r.d(1,1),f=new c.x,b=new p.V;let v=!1,x=[];const A=(e,t,n)=>{x=[],t.setRenderTarget(g),t.clear();const i=t.info.programs.length,o=t.info.memory.geometries,s=n.frustumCulled;n.frustumCulled=!1;const a=n.parent;f.add(n);const r=Date.now();t.render(f,b),t.setRenderTarget(null);const l=Date.now()-r;if(n.frustumCulled=s,a&&a.add(n),l>8){const s={id:e};n.name&&(s.meshName=n.name),s.geometrySize=n.geometry.index.count,n.material.name&&(s.materialName=n.material.name),s.materialType=n.material.type,n.material.uniforms&&Object.keys(n.material.uniforms).forEach((e=>{if(n.material.uniforms[e].value instanceof h.x){const t=n.material.uniforms[e].value;s[`uniform-${e}`]={src:t.image?.src||t.name||"[unknown]",width:t.image?.width,height:t.image?.height}}}));const a=t.info.programs.length;a!==i&&(s.uploadedPrograms=a-i);const r=t.info.memory.geometries;r!==o&&(s.uploadedGeometries=r-o),x.length&&(s.uploadedTextures=x.concat())}return l};var C=n(6451),w=n(5549),y=n(7111),_=n(7760),$=n(8817),B=n(5268),k=n(1898);const S={options:{useFbo:!1},props:{active:!0,viewport:()=>(0,a.Z)().state.viewport,controls:()=>(0,a.Z)().state.camera.controls},async prerender(e,t){const n=e||this.scene,i=t||this.constructor.name;await(async(e,t,n)=>{u(`prerender ${e}`);const i=Date.now();v=!0;const o=[];n.traverse((e=>{e instanceof d.K&&o.push(e)}));let s=0,a=0;for(let n=0;n<o.length;n+=1){const i=A(e,t,o[n]);a+=i,i>=8&&(s+=1),a>=8&&(a=0,await m(100))}v=!1,u(`prerender complete - ${e} - ${s}/${o.length} meshes need optimization, duration: ${Date.now()-i}ms`)})(i,this.renderer.renderer,n)},onSetup(){this.uResolution=new l.F,this.renderer=s.Z.getInstance(),this.fbo=new r.d(512,512),this.scene=new c.x,this.perspCamera=new y.c(45,1,.1,20),this.perspCamera.position.set(0,1,0),this.perspCamera.name="PerspCamera",this.camera=this.perspCamera,this.addHelpers()},addHelpers(){const e=this.helperObject=new _.T;if(C.Z.helpers){const t=new $.y(1),n=new B.V(10,10),i=new k.R(this.perspCamera);e.add(t),e.add(n),e.add(i),this.scene.add(e)}},render(e=null){const{renderer:t,orthographicCamera:n}=this.renderer;this.camera.layers.set(w.k0.SCENE);const i=this.options.useFbo&&(0,a.Z)().state.post.enabled?this.fbo:null;t.setRenderTarget(i),t.clear(),t.render(this.scene,this.camera),n.layers.set(w.k0.UI),t.render(this.scene,n)},setControls(e){const{orbitCamera:t,controls:n}=this.renderer;n.enabled=e,this.camera=e?t:this.perspCamera},setViewport({width:e,height:t,dpr:n}){this.perspCamera.aspect=e/t,this.perspCamera.updateProjectionMatrix(),this.fbo.setSize(e*n,t*n),this.uResolution.set(e*n,t*n)}};var P=n(4054),Z=n(2856),T=n(5882),O=n(4398),M=n(2157),D=n(6905),z=n(6859),E=n(5833),I=n(4893),j=n(896),R=n(2399);class F extends i.wA{constructor(...e){super(...e),this.options={vectorType:R.P},this.props={active:!0,spring:.025,friction:.6,str:1},this.currTime=0,this.dt=0,this.dtNorm=0}async onSetup(){const{vectorType:e}=this.options;this.delta=new e,this.current=new e,this.target=new e,this.velocity=new e}onActive(){this.currTime=Date.now()}whileActive(){const{spring:e,friction:t,str:n}=this.props;this.calcTimeDelta();const i=this.target.clone().sub(this.current).multiplyScalar(e*this.dtNorm);this.velocity.add(i).multiplyScalar(t*n),this.current.add(this.velocity)}calcTimeDelta(){const{log:e}=this.options,t=this.currTime;this.currTime=Date.now(),this.dt=(0,E.Z)(this.currTime-t,1,100),this.dtNorm=this.dt/16.666666666666668}reset(e=0){this.delta.setScalar(0),this.current.setScalar(e),this.target.setScalar(e),this.velocity.setScalar(0)}}const L=F;var G,W=n(1859),N=n(9667),U=n(1272),V=n.n(U),q=n(6376);const{x:Y,y:H}=(0,z.gt)();let K=(0,i.c1)((0,M.Z)(D.o,{withoutViews:"posSpring rotSpring zoomSpring",withoutKeys:"active rX rY rZ v s cameraZoom",keysOptions:{fov:{min:-10,max:80,step:.1},filmOffset:{min:-20,max:20,step:.001},xPanDist:{min:0,max:1,step:.001},yPanDist:{min:0,max:1,step:.001},xRotationMin:{min:-90,max:90,step:.1},xRotationMax:{min:-90,max:90,step:.1},yRotationMin:{min:-90,max:90,step:.1},yRotationMax:{min:-90,max:90,step:.1},zRotationMax:{min:-50,max:50,step:.1},cameraZoom:{min:.5,max:2,step:.01},cameraZoomMax:{min:.5,max:4,step:.01},pZ:{min:-20,max:10,step:.01}}}))(G=(0,i.c1)(O.Z)(G=class extends i.wA{constructor(...e){super(...e),this.options={camera:null,splineMotion:null,handleZooming:null,handleLooking:null,handlePanning:null},this.props={active:!1,pY:1.2,splinePr:0,useDrag:!0,useZoom:!0,useTranslation:!0,useRotation:!0,forcePointerBoundsMotion:!1,pointerDown:!1,isFocused:!1,isPanning:!1,isZooming:!1,isLooking:!q.Vq,fov:50,filmOffset:0,cameraZoomMax:2.5,xPanDist:.6,yPanDist:.6,rotSpeed:.18,panSpeed:15,xRotationMin:-20,xRotationMax:50,yRotationMin:-45,yRotationMax:90,zRotationMax:15,paused:()=>(0,a.Z)().state.pauseRenderer},this.focusPos=new R.P,this.focusDir=new R.P,this.quaternions={temp:new W._,x:new W._,y:new W._,z:new W._,final:new W._},this.pointer=new l.F(Y,H),this.pointerStart=new l.F(Y,H),this.pointerPrev=new l.F(Y,H),this.pointerDelta=new l.F,this.handlePress=e=>{q.Vq||(this.props.isZooming=!0)},this.handlePressUp=e=>{this.props.isZooming=!1},this.handleSingleTouch=e=>{const{x:t,y:n}=(0,z.gt)();this.props.pointerDown||this.startPointerDown(t,n),this.pointerPrev.copy(this.pointer),this.pointer.set(t,n),this.pointerDelta.subVectors(this.pointer,this.pointerPrev),q.Vq?this.props.isLooking=!0:this.props.isZooming||(this.props.isPanning=!0)},this.handleDoubleTouch=e=>{if(!q.Vq)return;const{x:t,y:n}=e.center;this.props.pointerDown||this.startPointerDown(t,n),this.pointerPrev.copy(this.pointer),this.pointer.set(t,n),this.pointerDelta.subVectors(this.pointer,this.pointerPrev).multiplyScalar(1.5),this.props.isPanning=!0},this.handleTouchEnd=e=>{this.props.isZooming=!1,this.props.isPanning=!1,this.props.isLooking=!1,this.props.pointerDown=!1},this.handlePinch=e=>{this.props.isZooming||(this.prevScale=e.scale,this.startPinchDist=e.distance),this.props.isZooming=!0,this.props.isPanning=!1;const t=1.2*(e.scale-this.prevScale),{cameraZoomMax:n}=this.props;this.zoomSpring.target.x=(0,E.Z)(this.zoomSpring.target.x+t,1,n),this.prevScale=e.scale},this.handlePinchEnd=e=>{}}async onSetup(){this.tweens={lookAtPr:0};const{camera:e}=this.options;e.position.set(0,0,0),window.coenProps=window.coenProps||{},window.coenProps.camera=e,this.lookAtCamera=new y.c,this.innerObj=new _.T,this.innerObj.add(e),this.innerObj.add(this.lookAtCamera),this.object.add(this.innerObj);const t=q.Vq?.12:.99,n=q.Vq?.52:.08;this.posSpring=await(new L).setup({props:{spring:t,friction:n,active:()=>this.props.active&&!this.props.paused}}),this.rotSpring=await(new L).setup({options:{log:!0},props:{spring:t,friction:n,active:()=>this.props.active&&!this.props.paused}}),this.zoomSpring=await(new L).setup({options:{vectorType:l.F},props:{spring:.05,friction:.6,active:()=>this.props.active&&!this.props.paused}}),this.zoomSpring.target.x=this.zoomSpring.current.x=1,this.setupHammer()}setupHammer(){this.hammer=new(V().Manager)(document.body);const e=new(V().Pinch)({threshold:.1}),t=new(V().Pan)({pointers:2,threshold:10,event:"doubletouch"}),n=new(V().Pan)({pointers:1,threshold:0,event:"singletouch"}),i=new(V().Press);e.recognizeWith([t,n,i]),t.recognizeWith([n,i]),n.recognizeWith(i),t.requireFailure(e),n.requireFailure(t),i.requireFailure(n),this.hammer.add([e,t,n,i])}onActive(){this.hammer.on("press",this.handlePress),this.hammer.on("pressup",this.handlePressUp),this.hammer.on("pinch",this.handlePinch),this.hammer.on("pinchend",this.handlePinchEnd),this.hammer.on("doubletouch",this.handleDoubleTouch),this.hammer.on("doubletouchend",this.handleTouchEnd),this.hammer.on("singletouch",this.handleSingleTouch),this.hammer.on("singletouchend",this.handleTouchEnd),this.updateRotation(!0)}offActive({firstTrigger:e}){e||(this.hammer.off("press",this.handlePress),this.hammer.off("pressup",this.handlePressUp),this.hammer.off("pinch",this.handlePinch),this.hammer.off("pinchend",this.handlePinchEnd),this.hammer.off("doubletouch",this.handleDoubleTouch),this.hammer.off("doubletouchend",this.handleTouchEnd),this.hammer.off("singletouch",this.handleSingleTouch),this.hammer.off("singletouchend",this.handleTouchEnd),this.resetValues())}whileActive(){const{useRotation:e,useTranslation:t,useZoom:n}=this.props;this.props.paused||(t&&this.updateTranslation(),e&&this.updateRotation(),n&&this.updateZoom(),this.pointerDelta.set(0,0))}updateTranslation(){const{width:e,height:t}=(0,a.Z)().state.viewport,{xPanDist:n,yPanDist:i,splinePr:o}=this.props,{splineMotion:s}=this.options,{x:r,y:l}=(0,z.gt)();s&&this.object.position.copy(s.getPointAtProgress(o));const c=this.props.isZooming&&!q.Vq,p=(this.props.isPanning||this.props.forcePointerBoundsMotion)&&!c&&!this.props.isFocused,d=this.props.forcePointerBoundsMotion;if(p)if(d)this.posSpring.target.x=(0,I.Z)(r,0,e,n,-n,!0),this.posSpring.target.y=(0,I.Z)(l,0,t,-i,i,!0);else{const o=this.pointerDelta.x/e,s=this.pointerDelta.y/t;this.posSpring.target.x=(0,E.Z)(this.posSpring.target.x-o,-n,n),this.posSpring.target.y=(0,E.Z)(this.posSpring.target.y+s,-i,i)}this.innerObj.position.copy(this.posSpring.current)}updateRotation(e){const{rotSpeed:t,xRotationMin:n,xRotationMax:i,yRotationMin:o,yRotationMax:s,zRotationMax:r}=this.props,{x:l,y:c,z:p}=this.rotSpring.current,d=this.props.isFocused?.05:1;this.lookAtCamera.lookAt(this.focusPos);const h=!this.props.isPanning||this.props.forcePointerBoundsMotion,u=this.props.forcePointerBoundsMotion||!q.Vq;if(h)if(u){const{x:e,y:t}=(0,z.gt)(),{width:r,height:l}=(0,a.Z)().state.viewport;this.rotSpring.target.x=(0,I.Z)(t,0,l,i,n,!0),this.rotSpring.target.y=(0,I.Z)(e,0,r,s,o,!0)}else{const e=this.pointerDelta.y*t,a=this.pointerDelta.x*t;this.rotSpring.target.x=(0,E.Z)(this.rotSpring.target.x+e,n,i),this.rotSpring.target.y=(0,E.Z)(this.rotSpring.target.y+a,o,s)}this.rotSpring.target.x*=d,this.rotSpring.target.y*=d,this.rotSpring.target.z=(0,I.Z)(this.rotSpring.velocity.y,-8,8,-r,r,!1)/this.rotSpring.dtNorm||0,e&&(this.rotSpring.current.x=this.rotSpring.target.x,this.rotSpring.current.y=this.rotSpring.target.y);const{x:m,y:g,z:f,final:b,temp:v}=this.quaternions;m.setFromAxisAngle(new R.P(1,0,0),(0,j.Z)(l)),g.setFromAxisAngle(new R.P(0,1,0),(0,j.Z)(c)),f.setFromAxisAngle(new R.P(0,0,1),(0,j.Z)(p)),b.set(0,0,0,1),b.slerp(this.lookAtCamera.quaternion,this.tweens.lookAtPr),b.multiply(g),b.multiply(m),b.multiply(f),this.options.camera.quaternion.copy(b),new R.P(0,0,-1).applyQuaternion(this.options.camera.quaternion)}updateZoom(e){(this.zoomSpring.target.distanceTo(this.zoomSpring.current)>.001||e)&&(this.options.camera.zoom=this.zoomSpring.current.x,this.options.camera.updateProjectionMatrix())}setFilmOffset(e){this.options.camera.filmOffset=e,this.options.camera.updateProjectionMatrix()}setFov(e){this.options.camera.fov=e,this.options.camera.updateProjectionMatrix()}onIsZooming(){this.zoomSpring.props.friction=q.Vq?.6:.3,this.options.handleZooming&&this.options.handleZooming(),q.Vq||(this.zoomSpring.target.x=this.props.cameraZoomMax)}offIsZooming(){this.zoomSpring.props.friction=.6,q.Vq||(this.zoomSpring.target.x=1)}onIsLooking(){this.options.handleLooking&&this.options.handleLooking()}onPaused(){q.Vq||(N.ZP.killTweensOf(this.rotSpring.props),N.ZP.set(this.rotSpring.props,{str:0}))}offPaused({firstTrigger:e}){e||q.Vq||(N.ZP.killTweensOf(this.rotSpring.props),N.ZP.to(this.rotSpring.props,{str:1,duration:1.5,ease:"sine.inOut"}))}focusOn(e,{duration:t=1.5,ease:n="power3.inOut"}={}){e.isVector3?this.focusPos=e:e.getWorldPosition(this.focusPos),this.props.isFocused=!0,this.props.isZooming=!1,this.props.isPanning=!1,N.ZP.killTweensOf(this.tweens),N.ZP.to(this.tweens,{lookAtPr:1,duration:t,ease:n}),N.ZP.to(this.rotSpring.props,{str:1,duration:.5})}releaseFocus({duration:e=1.5,ease:t="power3.inOut"}={}){this.props.isFocused=!1,N.ZP.killTweensOf(this.tweens),N.ZP.to(this.tweens,{lookAtPr:0,duration:e,ease:t})}onIsPanning(){this.props.isFocused||(this.options.handlePanning&&this.options.handlePanning(),N.ZP.killTweensOf(this.rotSpring.props),N.ZP.to(this.rotSpring.props,{str:0,duration:.2}))}offIsPanning(){this.props.isFocused||(N.ZP.killTweensOf(this.rotSpring.props),N.ZP.to(this.rotSpring.props,{str:1,duration:.5,delay:.4}))}startPointerDown(e,t){this.props.pointerDown=!0,this.pointer.set(e,t),q.Vq}setTargetsToDefault(){this.posSpring.target.setScalar(0),this.rotSpring.target.setScalar(0),this.zoomSpring.target.x=this.zoomSpring.current.x=1}resetValues(){this.props.isZooming=!1,this.props.isPanning=!1,this.props.isLooking=!1,this.props.isFocused=!1,this.posSpring.reset(),this.rotSpring.reset(),this.zoomSpring.target.x=this.zoomSpring.current.x=1,this.releaseFocus({duration:0}),this.updateZoom(!0)}})||G)||G;const X=K;var Q,J=n(6027),ee=n(2826),te=n(2372),ne=n(3449);const ie=(0,i.c1)((0,M.Z)(D.o,{expanded:!0,withoutViews:"",withoutKeys:"active",keysOptions:{}}))(Q=(0,i.c1)(te.Z)(Q=class extends i.wA{constructor(...e){super(...e),this.options={name:"Door",gltfRef:null},this.props={openPr:0}}async onSetup(){await this.setupMaterial()}async setupMaterial(){const{name:e,name_map:t,gltfRef:n,assets:i}=this.options,o=i[`${t||e}_lightMap`];n.material=new J.Z({options:{name:e,transparent:!1,side:ee.Wl3},uniforms:{...(0,ne.j)(),uLightOnMap:o,uProgressOpen:0},fs:`\n                ${ne.n.setup_frag}\n                uniform float uProgressOpen;\n                varying vec2 vUv;\n                void main() {\n                    ${ne.n.execution_frag}\n                    vec3 color = colorLight.rgb;\n                    float brightness = 1. - (pow(uProgressOpen, 2.) * 0.8);\n                    color = color * vec3(brightness);\n                    gl_FragColor = vec4(color.rgb, alpha);\n                }\n            `}),this.material=n.material}setOpenPr(e){this.mesh.rotation.z=(0,P.Z)(e,0,(0,j.Z)(70),!0),this.mesh.updateMatrix(),this.mesh.material.uProgressOpen=e}})||Q)||Q;var oe=n(8353),se=n(1893);const ae=`static/textures/compressed/${C.Z.useCompressed?"ktx":"webp"}/${q.tq?"mobile/":""}scene-1/light/`,re=C.Z.useCompressed?"ktx2#ct":"webp#txt",le={walls_top_left_lightMap:`${ae}walls_top_left/walls_top_left_Bake1_CyclesBake_COMBINED.${re}`,floor_lightMap:`${ae}floor/floor_Bake1_CyclesBake_COMBINED.${re}`,roof_lightMap:`${ae}roof/roof_Bake1_CyclesBake_COMBINED.${re}`,cardboard_lightMap:`${ae}cardboard/cardboard_Bake1_CyclesBake_COMBINED.${re}`,door_left_lightMap:`${ae}door_left/door_left_Bake1_CyclesBake_COMBINED.${re}`,electric_left_lightMap:`${ae}electric_left/electric_left_Bake1_CyclesBake_COMBINED.${re}`,frame_left_lightMap:`${ae}frame_left/frame_left_Bake1_CyclesBake_COMBINED.${re}`,hatch_right_lightMap:`${ae}hatch_right/hatch_right_Bake1_CyclesBake_COMBINED.${re}`,light_ceiling_lightMap:`${ae}light_ceiling/light_ceiling_Bake1_CyclesBake_COMBINED.${re}`,light_bar_lightMap:`${ae}light_bar/light_bar_Bake1_CyclesBake_COMBINED.${re}`,pipe_connector_lightMap:`${ae}pipe_connector/pipe_connector_Bake1_CyclesBake_COMBINED.${re}`,pipe_corner_lightMap:`${ae}pipe_corner/pipe_corner_Bake1_CyclesBake_COMBINED.${re}`,pipe_left_lightMap:`${ae}pipe_left/pipe_left_Bake1_CyclesBake_COMBINED.${re}`,power_strip_lightMap:`${ae}power_strip/power_strip_Bake1_CyclesBake_COMBINED.${re}`,skirting_boards_lightMap:`${ae}skirting_boards/skirting_boards_Bake1_CyclesBake_COMBINED.${re}`,electric_right_lightMap:`${ae}electric_right/electric_right_Bake1_CyclesBake_COMBINED.${re}`,light_wall_lightMap:`${ae}light_wall/light_wall_Bake1_CyclesBake_COMBINED.${re}`,papers_lightMap:`${ae}papers/papers_Bake1_CyclesBake_COMBINED.${re}`,siggies_lightMap:`${ae}siggies/siggies_Bake1_CyclesBake_COMBINED.${re}`,wireleft_lightMap:`${ae}wireleft/wireleft_Bake1_CyclesBake_COMBINED.${re}`,wireright_lightMap:`${ae}wireright/wireright_Bake1_CyclesBake_COMBINED.${re}`,door_frame_lightMap:`${ae}door_frame/door_frame_Bake1_CyclesBake_COMBINED.${re}`,walls_left_lightMap:`${ae}walls_left/walls_left_Bake1_CyclesBake_COMBINED.${re}`,walls_right_lightMap:`${ae}walls_right/walls_right_Bake1_CyclesBake_COMBINED.${re}`,light_ceiling2_lightMap:`${ae}light_ceiling2/light_ceiling2_Bake1_CyclesBake_COMBINED.${re}`,pipe_long_lightMap:`${ae}pipe_long/pipe_long_Bake1_CyclesBake_COMBINED.${re}`,door_front_lightMap:`${ae}door_front/door_front_Bake1_CyclesBake_COMBINED.${re}`,door_knob_lightMap:`${ae}door_knob/door_knob_Bake1_CyclesBake_COMBINED.${re}`,poster_lightMap:`${ae}poster/poster_Bake1_CyclesBake_COMBINED.${re}`};var ce;let pe=(0,i.c1)((0,Z.E4)("scene-1"))(ce=(0,i.c1)(oe.Z)(ce=(0,i.c1)(O.Z)(ce=class extends i.wA{constructor(...e){super(...e),this.options={color:"#ff0000",onLoaded:async()=>{},name:"Hallway",enableInteractionOver:!q.Vq},this.props={doorOpenPr:0,transitionPr:0},this.assets={model:"static/gltf/scene-1/hallway.glb#gltf",...le},this.objects=[{id:"door_front",class:ie,options:{hitTargetSelf:!0,raycast:!0}},{id:"large_graffiti",options:{useAlphaMap:!0}},{id:"papers",options:{useAlphaMap:!0}}],this.onObjectHit=(e,t)=>{e===this.door&&a.x.emit("click-door")},this.onObjectRollover=(e,t)=>{t===this.door&&a.x.emit("click-rollover",e)}}async onSetup(){}async onAssetsPreloaderComplete(){const[e]=this.assets.model.scenes,t=[];e.traverse((async e=>{if(e.isMesh&&e.material){const{objects:n}=this,{name:i,type:o,alpha:s}=e.userData,a=n.find((e=>e.id===i)),r=(new(a&&a.class||T.Z)).setup({options:{name:i,type:o,gltfRef:e,preventAddTo:!0,scene:this.scene,assets:this.assets,onHit:this.onObjectHit,onRollover:this.onObjectRollover,useAlphaMap:!!s,...a?.options||{}},props:{active:()=>this.props.active,openPr:()=>this.props.doorOpenPr,lightsOnPr:1}});t.push(r)}})),await this.setupObjects(t),this.object.add(e),await this.options.onLoaded(e)}async setupObjects(e){this.sceneObjects=await Promise.all(e),this.sceneObjectsHit=this.sceneObjects.map((e=>e.hitTarget)).filter((e=>void 0!==e)),this.sceneObjectsRaycast=this.sceneObjects.filter((e=>e.options.raycast)),this.materials=this.sceneObjects.map((e=>e.material)),this.door=this.getObjectByName("door_front"),window.coenProps.lamp=this.sceneObjects.find((e=>"light_ceiling"===e.options.name))}onBeforeDestroy(){this.door=null;for(const e in this.assets)if(Object.hasOwnProperty.call(this.assets,e)){const t=this.assets[e];(t instanceof h.x||t instanceof se.E)&&t.dispose(),this.assets[e]=null}}onDestroy(){this.sceneObjectsHit=[],this.sceneObjectsRaycast=[],this.materials.forEach((e=>e.dispose())),this.sceneObjects.forEach((e=>e.destroy())),this.sceneObjects=[]}})||ce)||ce)||ce;const de=pe;var he,ue=n(5177),me=(n(5335),n(9550)),ge=n(7381);const fe={xPanDist:.1,yPanDist:.1,xRotationMin:-.5,xRotationMax:.5,yRotationMin:-.5,yRotationMax:.5},be={xPanDist:.002,yPanDist:.002,xRotationMin:-.05,xRotationMax:.05,yRotationMin:-.05,yRotationMax:.05},ve={xPanDist:.2,yPanDist:.2,xRotationMin:-20,xRotationMax:20,yRotationMin:-20,yRotationMax:20},xe={xPanDist:.8,yPanDist:.5,xRotationMin:-50,xRotationMax:20,yRotationMin:-90,yRotationMax:70};let Ae=(0,i.c1)((0,M.Z)(D.o,{expanded:!0,withoutViews:"cameraSystem renderer hallway room",withoutKeys:"pX pY pZ rX rY rZ s v",keysOptions:{transitionPr:{min:0,max:1,step:.001}}}))(he=(0,i.c1)(S)(he=class extends i.wA{constructor(...e){super(...e),this.options={color:"#ff0000",phase:2},this.props={doorOpenPr:C.Z.skipIntro?1:0,transitionPr:C.Z.skipIntro?1:0,cameraTransitionPr:C.Z.skipIntro?1:0,cameraRotPr:C.Z.skipIntro?1:0,fovFrom:q.tq?25:17,fovLandingAnim:-5,fovTo:q.tq?70:50,fov:e=>(0,P.Z)(e.cameraTransitionPr,e.fovFrom+e.fovLandingAnim,e.fovTo),filmOffsetFrom:q.tq?-1.4:-3,filmOffsetTo:0,filmOffset:e=>(0,P.Z)(e.cameraTransitionPr,e.filmOffsetFrom,e.filmOffsetTo),cameraRY:e=>(0,P.Z)(e.cameraRotPr,(0,j.Z)(180),(0,j.Z)(250),!0)},this.assets={},this.scenesLoaded=0,this.handleLoadSecondaryItems=async()=>{C.Z.preRenderScene&&(0,ge.Z)((async()=>{this.room&&await this.prerender(this.room.object,this.room.options.id)}))},this.checkLoaded=async()=>{this.scenesLoaded++;const e=this.options.phase;this.scenesLoaded===e&&2===this.options.phase&&this.hideDoor()}}async onSetup(){await this.setupSpline(),await this.setupCamera(),await this.setupRooms(),this.setupFgPlane(),a.x.on("loadSecondaryItems",this.handleLoadSecondaryItems)}async setupSpline(){const{renderer:e,controls:t}=s.Z.getInstance(),n={addTo:this.object,renderer:e,orbitControls:t,editable:C.Z.helpers,snap:.1};this.splineMotion=new ue.Z({name:"motionpath",pointsData:[[.1,1.15,-13.6],[.2,1.1,-8.5],[.1,1,-2.4],[.1,1,1.4]],...n})}onAfterSetup(){if(D.o&&C.Z.helpers){const e=this.folder.addFolder({title:"CameraSpline",expanded:!0});e.addButton({title:"addPoint"}).on("click",(()=>this.splineMotion.addPoint())),e.addButton({title:"removePoint"}).on("click",(()=>this.splineMotion.removePoint())),e.addButton({title:"exportPoints"}).on("click",(()=>this.splineMotion.exportPoints()))}}async setupCamera(){this.cameraSystem=await(new X).setup({options:{addTo:this.scene,camera:this.camera,splineMotion:this.splineMotion,handlePanning:()=>me.h8.completeInteraction("panning"),handleLooking:()=>me.h8.completeInteraction("looking"),handleZooming:()=>me.h8.completeInteraction("zooming")},props:{active:()=>this.props.active,splinePr:()=>this.props.transitionPr,rY:()=>this.props.cameraRY,pY:1.28,pX:.2,pZ:-10,useDrag:!0,useZoom:!1,forcePointerBoundsMotion:!0,fov:()=>this.props.fov,filmOffset:()=>this.props.filmOffset,...fe}})}async setupRooms(){const e=[];if(e.push((new de).setup({options:{id:"hallway",addTo:this.scene,camera:this.perspCamera,onLoaded:this.checkLoaded},props:{doorOpenPr:()=>this.props.doorOpenPr,active:()=>this.props.transitionPr<1&&this.props.state!==w.PO.END,v:e=>e.active}})),2===this.options.phase){const t=await Promise.resolve().then(n.bind(n,139));e.push((new t.default).setup({options:{id:"room",addTo:this.scene,camera:this.perspCamera,onLoaded:this.checkLoaded},props:{lightsOnPr:C.Z.lightsOnPr,transitionPr:()=>this.props.transitionPr,active:()=>this.props.transitionPr>.6&&this.props.state!==w.PO.END,v:e=>e.active}}))}this.sceneObjects=await Promise.all(e),this.hallway=this.sceneObjects[0],this.room=this.sceneObjects[1]}setupFgPlane(){this.fgPlane=new d.K(o.Bd,(0,o.L1)("black",!0)),this.fgPlane.layers.set(w.k0.UI),this.fgPlane.material.opacity=0,this.scene.add(this.fgPlane)}setTransitionCompleteState(){this.cameraSystem.props.forcePointerBoundsMotion=!1,this.tweenCameraProps({props:ve})}tweenTransitionStartProps(){this.tweenCameraProps({props:be})}setExperienceState(){this.cameraSystem.props.useZoom=!0,this.tweenCameraProps({props:xe})}tweenCameraProps({props:e={},duration:t=1}){const n={duration:t,ease:"sine.inOut"};N.ZP.killTweensOf(this.cameraSystem.props),console.log("🚀 ~ SceneExperience ~ tweenCameraProps ~ tweenObj",n),Object.entries(e).forEach((([e,t])=>n[e]=t)),N.ZP.to(this.cameraSystem.props,n)}turnOffLightsSlowly(){this.room?.turnOffLightsSlowly()}turnOnLightsSlowly(){this.room?.turnOnLightsSlowly()}turnOnLights(){this.room?.turnOnLights()}focusOnDoor(){const e=new R.P(0,1,0);this.cameraSystem.focusOn(e,{duration:1,ease:"elastic.out(0.6, 0.8)"}),N.ZP.to(this.cameraSystem.zoomSpring.target,{x:1.4,duration:10,ease:"none"})}releaseDoorFocus(){this.cameraSystem.releaseFocus({duration:2,ease:"elastic.out(0.6, 0.8)"}),this.cameraSystem.zoomSpring.target.x=1,N.ZP.killTweensOf(this.cameraSystem.zoomSpring.target)}fadeOut(e=1,t=1){N.ZP.killTweensOf(this.fgPlane.material),N.ZP.to(this.fgPlane.material,{opacity:e,duration:t})}fadeIn(e=0,t=2){N.ZP.killTweensOf(this.fgPlane.material),N.ZP.to(this.fgPlane.material,{opacity:e,duration:t})}showDoor(){const e=this.room.getObjectByName("door_front"),t=this.room.getObjectByName("door_frame"),n=this.room.getObjectByName("door_knob");e.mesh.visible=!0,t.mesh.visible=!0,n.mesh.visible=!0}hideDoor(){const e=this.room.getObjectByName("door_front"),t=this.room.getObjectByName("door_frame"),n=this.room.getObjectByName("door_knob");e.mesh.visible=!1,t.mesh.visible=!1,n.mesh.visible=!1}startIntroAnimation({delay:e}){N.ZP.to(this.props,{fovLandingAnim:0,duration:2,delay:e,ease:"power3.out"})}onActive(){this.fgPlane.material.opacity=0}offActive(){}setState(e){w.PO.LANDING}setViewport({width:e,height:t,dpr:n}){this.fgPlane.scale.set(e,t,1)}destroyHallway(){this.hallway&&(this.hallway.destroy(),this.hallway=null)}})||he)||he;const Ce=Ae;var we,ye=n(6258),_e=n(8641),$e=n(5166);const Be=C.Z.useCompressed?"ktx":"webp",ke=C.Z.useCompressed?"ktx2#ct":"webp#txt";let Se=(0,i.c1)((0,Z.E4)("scene-test"))(we=(0,i.c1)(O.Z)(we=(0,i.c1)(S)(we=(0,i.c1)(oe.Z)(we=(0,i.c1)((0,M.Z)(D.o,{expanded:!0,withoutViews:"renderer",withoutKeys:"pX pY pZ s rX rY rZ v loaded",keysOptions:{cameraPr:{min:0,max:1,step:.001},lightsOnPr:{min:0,max:1,step:.001}}}))(we=class extends i.wA{constructor(...e){super(...e),this.options={useSpline:!1},this.props={cameraPr:0,lightsOnPr:1},this.assetsManifest="scene-2",this.preAssets={model:"static/gltf/scene-2/room_2022623.glb#gltf"},this.extraAssets={mirror_main_roughnessMap:`static/textures/compressed/${Be}/scene-2/other/mirror_roughness.${ke}`},this.textureTypes=["lightMap","lightMapOff"],this.objects=[{id:"sidebox",options:{raycast:!0,hitTargetSelf:!0}},{id:"suitcase_2",options:{raycast:!0,hitTargetSelf:!0}},{id:"stool",options:{raycast:!0,hitTargetSelf:!0}},{id:"chair",options:{raycast:!0,hitTargetSelf:!0}},{id:"large_table",options:{raycast:!0,hitTargetSelf:!0}},{id:"mirror_main",class:ye.Z,options:{preventAddTo:!1}},{id:"mirror_table",class:ye.Z,options:{preventAddTo:!1,type:"MirrorCircle",doubleSided:!0}},{id:"interactive_drawer1",class:_e.Z},{id:"interactive_darwer2",class:_e.Z},{id:"treasure_makeup",class:$e.Z,options:{hintPower:3}},{id:"treasure_hands",class:$e.Z,options:{hintPower:3}},{id:"treasure_earrings",class:$e.Z,options:{hintPower:3}},{id:"treasure_makeup",class:$e.Z,options:{hintPower:3}},{id:"treasure_bangels",class:$e.Z,options:{hintPower:3}},{id:"treasure_bracelets",class:$e.Z,options:{hintPower:3}},{id:"treasure_boots",class:$e.Z,options:{hintPower:3}},{id:"treasure_amulet",class:$e.Z,options:{hintPower:3}},{id:"treasure_guitar",class:$e.Z,options:{hintPower:3}},{id:"treasure_tie",class:$e.Z,options:{hintPower:3}},{id:"mirror_test",class:ye.Z}]}async onSetup(){this.scene.name="SceneGuillaume",this.vCamera=new R.P(0,1.5,.5),this.vCameraLookAt=new R.P(0,0,4)}async onAssetsPreloaderComplete(){const{useSpline:e}=this.options;e&&await this.setupSpline(),await this.setupScene()}async setupSpline(){const{renderer:e,controls:t}=s.Z.getInstance(),n={addTo:this.object,renderer:e,orbitControls:t,editable:!0,snap:.1},i=this.splineMotion=new ue.Z({name:"motionpath",pointsData:[[0,1,-10],[0,1,-5],[0,1,.7816],[-.1239,1.2431,2.1403]],...n}),o=this.splineMotionLookAt=new ue.Z({name:"motionpath:lookat",pointsData:[[-.2322,1,-8.5492],[.3129,1,-3.9479],[.4852,.869,.7815],[1.7206,.3642,1.8992]],cHelpers:16711935,...n});if(D.o){const e=D.o.addFolder({title:"Spline",expanded:!1});e.addButton({title:"addPoint"}).on("click",(()=>i.addPoint())),e.addButton({title:"removePoint"}).on("click",(()=>i.removePoint())),e.addButton({title:"exportPoints"}).on("click",(()=>i.exportPoints()));const t=D.o.addFolder({title:"SplineLookat",expanded:!1});t.addButton({title:"addPoint"}).on("click",(()=>o.addPoint())),t.addButton({title:"removePoint"}).on("click",(()=>o.removePoint())),t.addButton({title:"exportPoints"}).on("click",(()=>o.exportPoints()))}}async setupScene(){const[e]=this.model.scenes,{objects:t}=this,n=[];e.traverse((async i=>{if(i.isMesh&&i.material){const{name:o,type:s,name_map:a,alpha:r,in_mirror_main:l,in_mirror_table:c}=i.userData,p=t.find((e=>e.id===o)),d=(new(p&&p.class||T.Z)).setup({options:{name:o,name_map:a,type:s,gltfRef:i,pane:this.folder,preventAddTo:!0,addTo:e,scene:this.scene,raycast:"Interactive"==s||"Treasure"==s,assets:this.assets,useAlphaMap:!!r,inMirrorMain:l,inMirrorTable:c,...p?.options||{}},props:{active:()=>this.props.active,lightsOnPr:()=>this.props.lightsOnPr}});n.push(d)}})),await this.setupObjects(n),this.object.add(e);const{controls:i}=s.Z.getInstance();i.object.position.set(0,1.5,.5),i.target.copy(this.vCameraLookAt)}async setupObjects(e){this.sceneObjects=await Promise.all(e),this.sceneObjectsHit=this.sceneObjects.map((e=>e.hitTarget)).filter((e=>void 0!==e)),this.sceneObjectsRaycast=this.sceneObjects.filter((e=>e.options.raycast)),this.materials=this.sceneObjects.map((e=>e.material))}setControls(e){this.splineMotion&&(this.splineMotion.camera=this.camera,this.splineMotionLookAt.camera=this.camera)}whileActive(){const{cameraPr:e}=this.props;this.splineMotion&&this.vCamera?.copy(this.splineMotion.getPointAtProgress(e)),this.splineMotionLookAt&&this.vCameraLookAt?.copy(this.splineMotionLookAt.getPointAtProgress(e)),this.perspCamera.position.copy(this.vCamera),this.perspCamera.lookAt(this.vCameraLookAt)}})||we)||we)||we)||we)||we;const Pe=Se;var Ze,Te=n(8178),Oe=n(809);const Me=(0,i.c1)(O.Z)(Ze=class extends i.wA{constructor(...e){super(...e),this.options={name:"Torus",gltfRef:null,raycast:!0,useAngleToCamera:!0},this.props={s:.5,pY:1}}async onSetup(){this.mesh=new d.K(new Te.X,new Oe.R),this.object.add(this.mesh),this.hitTarget=this.mesh}})||Ze;var De;new R.P,new R.P,new R.P;const ze=(0,i.c1)(O.Z)(De=(0,i.c1)(S)(De=class extends i.wA{constructor(...e){super(...e),this.options={},this.props={},this.assets={}}async onSetup(){this.cameraSystem=await(new X).setup({options:{addTo:this.scene,camera:this.perspCamera},props:{active:()=>this.props.active,pZ:2}}),await this.createObject()}async createObject(){this.torus=await(new Me).setup({options:{addTo:this.scene,camera:this.perspCamera},props:{active:()=>this.props.active}})}whileActive(){}})||De)||De;var Ee,Ie=n(139);const je=(0,i.c1)(O.Z)(Ee=(0,i.c1)(S)(Ee=class extends i.wA{async onSetup(){this.cameraSystem=await(new X).setup({options:{addTo:this.scene,camera:this.perspCamera},props:{active:()=>this.props.active,rY:(0,j.Z)(250),pX:.1,pY:1,pZ:1.4}}),this.room=await(new Ie.default).setup({options:{addTo:this.scene,camera:this.perspCamera},props:{active:!0}})}})||Ee)||Ee;var Re;const Fe=(0,i.c1)(O.Z)(Re=(0,i.c1)(S)(Re=class extends i.wA{async onSetup(){this.hallway=await(new de).setup({options:{addTo:this.scene,camera:this.perspCamera},props:{active:!0}})}})||Re)||Re},139:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>H});var i,o=n(8159),s=n(4398),a=n(6905),r=n(2157),l=n(9667),c=n(5882),p=n(6027),d=n(2372),h=n(2947),u=n(3449),m=n(2826),g=n(4712),f=n(9550),b=n(3907),v=n(2856);const x=(0,o.c1)(d.Z)(i=(0,o.c1)(h.Z)(i=(0,o.c1)((0,v.E4)())(i=class extends o.wA{constructor(...e){super(...e),this.options={name:"ObjectName",mesh:null,useAlphaMap:!1,useLightOffMap:!0,doubleSided:!1,assetFolder:""},this.props={},this.audioAssets={},this.audio={}}async loadBasicObjectAudio(){const e=Object.entries(this.audioAssets);(await Promise.all(e.map((([e,t])=>new Promise((async n=>{const i=`/${t}`,o=await(0,v._L)(i);n({id:e,audio:o})})))))).forEach((e=>{this.audio[e.id]=e.audio})),this.props.soundsLoaded=!0}async onSetup(){const{name:e,type:t}=this.options;await this.setupMaterial()}async setupMaterial(){const{name:e,name_map:t,useAlphaMap:n,useLightOffMap:i,gltfRef:o,doubleSided:s,assets:a}=this.options,r=t||e,l=a[`${r}_lightMap`],c=a[`${r}_lightMapOff`],d=s?m.ehD:m.Wl3;o.material=new p.Z({options:{name:r,side:d,transparent:n,defines:{USE_LIGHT_OFF_MAP:i}},uniforms:{...(0,u.j)(),uLightOnMap:l,uLightOffMap:c,hintPower:3,ticker:{value:0}},vs:"\n                varying vec2 vUv;\n                varying vec4 vWorldPos;\n                void main() {\n                    vUv = uv;\n                    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n                    vWorldPos = modelMatrix * vec4( position, 1.0 );\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fs:`\n                ${u.n.setup_frag}\n                varying vec4 vWorldPos;\n                varying vec2 vUv;\n                uniform float ticker;\n                uniform float hintPower;\n                const float PI = 3.1415926535897931;\n                void main() {\n                    ${u.n.execution_frag}\n                    vec3 color = colorLight.rgb;\n\n                    \n                    float inTickX = max(0.0, min(PI*2.0, ticker*15.0 - vWorldPos.z*5.0 - vWorldPos.x*5.0));\n                    float inTickY = max(0.0, min(PI*2.0, ticker*15.0 - vWorldPos.z*5.4 - vWorldPos.x*5.4));\n                    float inTickZ = max(0.0, min(PI*2.0, ticker*15.0 - vWorldPos.z*5.8 - vWorldPos.x*5.8));\n                    float cosX = cos(inTickX);\n                    float cosY = cos(inTickY);\n                    float cosZ = cos(inTickZ);\n                    color.x = color.x * (1.0 + (2.0-(cos(inTickX)+1.0))*0.1*hintPower) + (2.0-(cosX+1.0))*0.05*hintPower;\n                    color.y = color.y * (1.0 + (2.0-(cos(inTickY)+1.0))*0.1*hintPower) + (2.0-(cosY+1.0))*0.05*hintPower;\n                    color.z = color.z * (1.0 + (2.0-(cos(inTickZ)+1.0))*0.1*hintPower) + (2.0-(cosZ+1.0))*0.05*hintPower;\n                \n                    gl_FragColor = vec4(color.rgb, alpha);\n                }\n            `}),this.material=o.material}showHint(){g.ZP.to(this.material.uniforms.ticker,5,{value:3,ease:"linear"})}handleHit(){const{name:e,type:t}=this.options;"Interactive"==t?(this.wiggle(),this.props.soundsLoaded&&b.Z.play(this.audio.objectBadClick),f.h8.completeInteraction("collect")):"Treasure"==t&&(console.log("👑 ~~ Treasure Found",e),this.props.soundsLoaded&&b.Z.play(this.audio.objectGoodClick),f.h8.collectItem(e))}setLightsOnPr(e){this.material.uLightsOnPr=e}})||i)||i)||i;var A=n(5166),C=n(8641),w=n(8353),y=n(6258),_=n(6451),$=n(4732),B=(n(1853),n(9105)),k=n(6371),S=n(8362);const P=new B.S,Z=new k.m;var T,O=n(754),M=(n(2148),n(5232)),D=n(6936);const z=(0,o.c1)((0,r.Z)(a.o,{expanded:!0,withoutKeys:"rX rY rZ active loop v s directionalVolume",keysOptions:{refDistance:{min:0,max:1,step:.001},rolloffFactor:{min:0,max:4,step:.001},baseVolume:{min:0,max:1,step:.001},directionalVolume:{min:0,max:1,step:.001}}}))(T=(0,o.c1)(s.Z)(T=class extends o.wA{constructor(...e){super(...e),this.options={audioSrc:"/static/audio/piano.mp3"},this.props={color:"#00ff00",active:!1,baseVolume:1,directionalVolume:1,volume:e=>e.baseVolume*e.directionalVolume,loop:!0,refDistance:.3,rolloffFactor:1,s:.5}}async onSetup(){const{audioSrc:e}=this.options;O.H.getContext();this.sound=await((e,t=!0)=>new Promise((n=>{const i=new S.V(P);Z.load(e,(e=>{i.setBuffer(e),i.setLoop(t),n(i)}))})))(e),this.object.add(this.sound),_.Z.withAudio&&(this.sound.gain.disconnect(),this.sound.gain.connect(b.Z.ambientNode)),this.setupRefs()}setupRefs(){const{color:e}=this.props;this.mesh=new M.K($.dR,(0,$.L1)(e)),this.mesh.scale.setScalar(.2),this.mesh.material.side=m.ehD,this.mesh.lookAt(0,0,0),this.distRef=new M.K($.dR,(0,$.L1)("#32cc3c",!0)),this.rollofRef=new M.K($.dR,(0,$.L1)("pink",!0)),this.distRef.material.wireframe=!0,this.rollofRef.material.wireframe=!0,this.distRef.material.opacity=.5,this.rollofRef.material.opacity=.5,_.Z.helpers&&(this.object.add(this.mesh),this.object.add(this.distRef))}setColor(e){this.distRef.material.color=new D.I(e),this.rollofRef.material.color=new D.I(e)}setVolume(e){this.sound.setVolume(e)}setLoop(e){this.sound.setLoop(e)}setRefDistance(e){this.sound.setRefDistance(e),this.distRef.scale.setScalar(2*e)}setRolloffFactor(e){this.sound.setRolloffFactor(e)}whileActive(){}})||T)||T;var E=n(3765);const I=[{id:"spatial-radio",color:"#32cc3c",audioSrc:"/static/audio/experience/spatial-1.mp3",pX:.7,pY:.8,pZ:1.5,baseVolume:.5,refDistance:.4,rolloffFactor:2},{id:"spatial-radiator",color:"#ff5270",audioSrc:"/static/audio/experience/spatial-2.mp3",pX:.43,pY:.4,pZ:2.6,baseVolume:.55,refDistance:.6,rolloffFactor:3},{id:"spatial-light",color:"#9647d0",audioSrc:"/static/audio/experience/spatial-3.mp3",pX:.7,pY:2,pZ:2.2,baseVolume:.5,refDistance:.7,rolloffFactor:2.5},{id:"spatial-door",color:"#00aeff",audioSrc:"/static/audio/experience/spatial-4.mp3",pX:.1,pY:1,pZ:0,baseVolume:.5,refDistance:.8,rolloffFactor:3}];class j extends o.wA{constructor(...e){super(...e),this.options={},this.props={active:!1,loaded:!1},this.objs=[],this.handleVolume=()=>{console.log("🚀 ~ handleVolume")},this.handlePlay=()=>{console.log("🚀 ~ handlePlay")},this.handlePause=()=>{console.log("🚀 ~ handlePause")}}async onSetup(){this.options.camera.add(P),this.setupObjects(),this.addEvents()}addEvents(){E.x.on("setBgVolume",this.handleVolume),E.x.on("playBgSounds",this.handlePlay),E.x.on("pauseBgSounds",this.handlePause)}onActive(){this.props.loaded&&this.play()}offActive(){this.props.loaded&&this.pause()}play(){this.objects.forEach((e=>e.sound.play()))}pause(){this.objects.forEach((e=>e.sound.pause()))}async setupObjects(){this.objects=await Promise.all(I.map((e=>(new z).setup({options:{name:e.id,audioSrc:e.audioSrc,addTo:this.options.scene},props:{color:e.color,pX:e.pX,pY:e.pY,pZ:e.pZ,baseVolume:e.baseVolume,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor}})))),this.props.loaded=!0,this.props.active&&this.play()}}const R=j;var F=n(6376);const L=`static/textures/compressed/${_.Z.useCompressed?"ktx":"webp"}/${F.tq?"mobile/":""}scene-2/`,G=_.Z.useCompressed?"ktx2#ct":"webp#txt",W={apple1:"static/audio/experience/badobjects/apple1.mp3#audio",apple3:"static/audio/experience/badobjects/apple3.mp3#audio",ashtray:"static/audio/experience/badobjects/ashtray.mp3#audio",banana_drawer:"static/audio/experience/badobjects/banana_drawer.mp3#audio",banana_drawer1:"static/audio/experience/badobjects/banana_drawer1.mp3#audio",bananas:"static/audio/experience/badobjects/bananas.mp3#audio",book:"static/audio/experience/badobjects/book.mp3#audio",bottle1:"static/audio/experience/badobjects/bottle1.mp3#audio",bottle2:"static/audio/experience/badobjects/bottle2.mp3#audio",bottle3:"static/audio/experience/badobjects/bottle3.mp3#audio",boxes1:"static/audio/experience/badobjects/boxes1.mp3#audio",boxes2:"static/audio/experience/badobjects/boxes2.mp3#audio",can1:"static/audio/experience/badobjects/can1.mp3#audio",can2:"static/audio/experience/badobjects/can2.mp3#audio",can3:"static/audio/experience/badobjects/can2.mp3#audio",casette:"static/audio/experience/badobjects/cassette.mp3#audio",casette_case:"static/audio/experience/badobjects/cassette_case.mp3#audio",cup:"static/audio/experience/badobjects/cup.mp3#audio",cup2:"static/audio/experience/badobjects/cup2.mp3#audio",deo_spray:"static/audio/experience/badobjects/deo_spray.mp3#audio",jar1:"static/audio/experience/badobjects/jar1.mp3#audio",jar2:"static/audio/experience/badobjects/jar2.mp3#audio",jar3:"static/audio/experience/badobjects/jar3.mp3#audio",key1:"static/audio/experience/badobjects/key1.mp3#audio",key2:"static/audio/experience/badobjects/key2.mp3#audio",lamp:"static/audio/experience/badobjects/lamp.mp3#audio",makeup2:"static/audio/experience/badobjects/makeup2.mp3#audio",makeuptray:"static/audio/experience/badobjects/makeuptray.mp3#audio",matchbox:"static/audio/experience/badobjects/matchbox.mp3#audio",orange:"static/audio/experience/badobjects/orange.mp3#audio",paper_towel_roll1:"static/audio/experience/badobjects/paper_towel_roll1.mp3#audio",paper_towel_roll2:"static/audio/experience/badobjects/paper_towel_roll2.mp3#audio",pen1:"static/audio/experience/badobjects/pen1.mp3#audio",pen1_cap:"static/audio/experience/badobjects/pen1_cap.mp3#audio",pen2:"static/audio/experience/badobjects/pen2.mp3#audio",pills1:"static/audio/experience/badobjects/pills1.mp3#audio",pills2:"static/audio/experience/badobjects/pills2.mp3#audio",prume:"static/audio/experience/badobjects/prume.mp3#audio",ruler:"static/audio/experience/badobjects/ruler.mp3#audio",shampoo1:"static/audio/experience/badobjects/shampoo1.mp3#audio",shampoo3:"static/audio/experience/badobjects/shampoo3.mp3#audio",siggies1:"static/audio/experience/badobjects/siggies1.mp3#audio",siggies2:"static/audio/experience/badobjects/siggies2.mp3#audio",singlekey:"static/audio/experience/badobjects/singlekey.mp3#audio",small_blue_box:"static/audio/experience/badobjects/small_blue_box.mp3#audio",small_bottle:"static/audio/experience/badobjects/small_bottle.mp3#audio",small_bottle2:"static/audio/experience/badobjects/small_bottle2.mp3#audio",small_box:"static/audio/experience/badobjects/small-box.mp3#audio",spray1:"static/audio/experience/badobjects/spray1.mp3#audio",spray3:"static/audio/experience/badobjects/spray3.mp3#audio",spray4:"static/audio/experience/badobjects/spray4.mp3#audio",telephone1:"static/audio/experience/badobjects/telephone1.mp3#audio",telephone2:"static/audio/experience/badobjects/telephone2.mp3#audio",toothbrush:"static/audio/experience/badobjects/toothbrush.mp3#audio",tube1:"static/audio/experience/badobjects/tube1.mp3#audio",tube2:"static/audio/experience/badobjects/tube2.mp3#audio",wallet:"static/audio/experience/badobjects/wallet.mp3#audio",default1:"static/audio/experience/badobjects/default1.mp3#audio",default2:"static/audio/experience/badobjects/default2.mp3#audio",light_switch:"static/audio/experience/lights-on.mp3#audio"},N={atlas11_2048_lightMap:`${L}light/atlas11_2048/atlas11_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas11_2048_lightMapOff:`${L}dark/atlas11_2048/atlas11_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas2_2048_lightMap:`${L}light/atlas2_2048/atlas2_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas2_2048_lightMapOff:`${L}dark/atlas2_2048/atlas2_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas3_2048_lightMap:`${L}light/atlas3_2048/atlas3_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas3_2048_lightMapOff:`${L}dark/atlas3_2048/atlas3_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas4_2048_lightMap:`${L}light/atlas4_2048/atlas4_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas4_2048_lightMapOff:`${L}dark/atlas4_2048/atlas4_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas10_2048_lightMap:`${L}light/atlas10_2048/atlas10_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas10_2048_lightMapOff:`${L}dark/atlas10_2048/atlas10_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas8_2048_lightMap:`${L}light/atlas8_2048/atlas8_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas8_2048_lightMapOff:`${L}dark/atlas8_2048/atlas8_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas1_2048_lightMap:`${L}light/atlas1_2048/atlas1_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas1_2048_lightMapOff:`${L}dark/atlas1_2048/atlas1_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas6_2048_lightMap:`${L}light/atlas6_2048/atlas6_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas6_2048_lightMapOff:`${L}dark/atlas6_2048/atlas6_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas7_2048_lightMap:`${L}light/atlas7_2048/atlas7_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas7_2048_lightMapOff:`${L}dark/atlas7_2048/atlas7_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas15_2048_lightMap:`${L}light/atlas15_2048/atlas15_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas15_2048_lightMapOff:`${L}dark/atlas15_2048/atlas15_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas14_2048_lightMap:`${L}light/atlas14_2048/atlas14_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas14_2048_lightMapOff:`${L}dark/atlas14_2048/atlas14_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas13_2048_lightMap:`${L}light/atlas13_2048/atlas13_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas13_2048_lightMapOff:`${L}dark/atlas13_2048/atlas13_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas16_2048_lightMap:`${L}light/atlas16_2048/atlas16_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas16_2048_lightMapOff:`${L}dark/atlas16_2048/atlas16_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas9_2048_lightMap:`${L}light/atlas9_2048/atlas9_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas9_2048_lightMapOff:`${L}dark/atlas9_2048/atlas9_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas17_2048_lightMap:`${L}light/atlas17_2048/atlas17_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas17_2048_lightMapOff:`${L}dark/atlas17_2048/atlas17_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas18_2048_lightMap:`${L}light/atlas18_2048/atlas18_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas18_2048_lightMapOff:`${L}dark/atlas18_2048/atlas18_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas19_2048_lightMap:`${L}light/atlas19_2048/atlas19_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas19_2048_lightMapOff:`${L}dark/atlas19_2048/atlas19_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas20_2048_lightMap:`${L}light/atlas20_2048/atlas20_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas20_2048_lightMapOff:`${L}dark/atlas20_2048/atlas20_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas5_2048_lightMap:`${L}light/atlas5_2048/atlas5_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas5_2048_lightMapOff:`${L}dark/atlas5_2048/atlas5_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas21_2048_lightMap:`${L}light/atlas21_2048/atlas21_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas21_2048_lightMapOff:`${L}dark/atlas21_2048/atlas21_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas12_2048_lightMap:`${L}light/atlas12_2048/atlas12_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas12_2048_lightMapOff:`${L}dark/atlas12_2048/atlas12_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas22_2048_lightMap:`${L}light/atlas22_2048/atlas22_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas22_2048_lightMapOff:`${L}dark/atlas22_2048/atlas22_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas23_2048_lightMap:`${L}light/atlas23_2048/atlas23_2048_Bake1_CyclesBake_COMBINED.${G}`,atlas23_2048_lightMapOff:`${L}dark/atlas23_2048/atlas23_2048_Bake1_CyclesBake_COMBINED.${G}`};var U;const V=_.Z.useCompressed?"ktx":"webp",q=_.Z.useCompressed?"ktx2#ct":"webp#txt";let Y=(0,o.c1)((0,r.Z)(a.o,{expanded:!0,withoutViews:"renderer cubeMap",withoutKeys:"delay duration loaded",keysOptions:{lightsOnPr:{min:0,max:1,step:.01}}}))(U=(0,o.c1)((0,v.E4)("scene-2"))(U=(0,o.c1)(s.Z)(U=(0,o.c1)(w.Z)(U=class extends o.wA{constructor(...e){super(...e),this.options={color:"#00ff00",onLoaded:async()=>{},name:"Room"},this.props={transitionPr:1,lightsOnPr:1,delay:.02,duration:1.5},this.assets={model:_.Z.lowPolyModel?"static/gltf/scene-2/room_2022623_lowpoly.glb#gltf":"static/gltf/scene-2/room_2022629.glb#gltf",mirror_main_roughnessMap:`static/textures/compressed/${V}/scene-2/other/mirror_roughness.${q}`,...W,...N},this.audio={},this.objectSoundChain=[{inSound:0,assets:this.audio,objects:[],sounds:["default1","default2"]},{inSound:0,assets:this.audio,objects:["apple1","apple2","apple3","apple4","apple5","apple6","apple7","apple8"],sounds:["apple1","apple3"]},{inSound:0,assets:this.audio,objects:["can1","can2"],sounds:["can1","can2","can3"]},{inSound:0,assets:this.audio,objects:["orange"],sounds:["orange"]},{inSound:0,assets:this.audio,objects:["prume"],sounds:["prume"]},{inSound:0,assets:this.audio,objects:["pills1","pills2"],sounds:["pills1","pills2"]},{inSound:0,assets:this.audio,objects:["ashtray"],sounds:["ashtray"]},{inSound:0,assets:this.audio,objects:["casette","casette_case"],sounds:["casette","casette_case"]},{inSound:0,assets:this.audio,objects:["banana_drawer"],sounds:["banana_drawer","banana_drawer1"]},{inSound:0,assets:this.audio,objects:["bananas"],sounds:["bananas"]},{inSound:0,assets:this.audio,objects:["book"],sounds:["book"]},{inSound:0,assets:this.audio,objects:["makeup2"],sounds:["makeup2"]},{inSound:0,assets:this.audio,objects:["wallet"],sounds:["wallet"]},{inSound:0,assets:this.audio,objects:["pen1","pen1_cap","pen2"],sounds:["pen1","pen1_cap","pen2"]},{inSound:0,assets:this.audio,objects:["bottle1","bottle3","bottles","bottle2"],sounds:["bottle1","bottle2","bottle3"]},{inSound:0,assets:this.audio,objects:["cup"],sounds:["cup","cup2"]},{inSound:0,assets:this.audio,objects:["key1","singlkey"],sounds:["key1","key2","singlekey"]},{inSound:0,assets:this.audio,objects:["deo_spray"],sounds:["deo_spray"]},{inSound:0,assets:this.audio,objects:["jar2","jar3","jar4"],sounds:["jar1","jar2","jar3"]},{inSound:0,assets:this.audio,objects:["lamp"],sounds:["lamp"]},{inSound:0,assets:this.audio,objects:["makeuptray"],sounds:["makeuptray"]},{inSound:0,assets:this.audio,objects:["matchbox"],sounds:["matchbox"]},{inSound:0,assets:this.audio,objects:["paper_towel_roll","paper_towel_roll2"],sounds:["paper_towel_roll1","paper_towel_roll2"]},{inSound:0,assets:this.audio,objects:["ruler"],sounds:["ruler"]},{inSound:0,assets:this.audio,objects:["small-box"],sounds:["small_box"]},{inSound:0,assets:this.audio,objects:["boxes","boxes_02"],sounds:["boxes1","boxes2"]},{inSound:0,assets:this.audio,objects:["shampoo1","shampoo2","shampoo3","shampoo4","shampoo5","shampoo6","shampoo7","shampoo8","spray2"],sounds:["shampoo1","shampoo3"]},{inSound:0,assets:this.audio,objects:["siggies2"],sounds:["siggies2"]},{inSound:0,assets:this.audio,objects:["siggies1"],sounds:["siggies1"]},{inSound:0,assets:this.audio,objects:["small_blue_box"],sounds:["small_blue_box"]},{inSound:0,assets:this.audio,objects:["small_bottle","small_bottle2"],sounds:["small_bottle","small_bottle2"]},{inSound:0,assets:this.audio,objects:["spraycan1","spraycan2","spraycan4","spraycan5"],sounds:["spray1","spray3","spray4"]},{inSound:0,assets:this.audio,objects:["telephone"],sounds:["telephone1","telephone2"]},{inSound:0,assets:this.audio,objects:["toothbrush"],sounds:["toothbrush"]},{inSound:0,assets:this.audio,objects:["tube1","tube2","tube3","can3","spray1","tube4"],sounds:["tube1","tube2"]}],this.objects=[{id:"sidebox",class:x,options:{raycast:!0,hitTargetSelf:!0}},{id:"suitcase_2",options:{raycast:!0,hitTargetSelf:!0}},{id:"stool",options:{raycast:!0,hitTargetSelf:!0}},{id:"chair",options:{raycast:!0,hitTargetSelf:!0}},{id:"large_table",options:{raycast:!0,hitTargetSelf:!0}},{id:"chain-curved",class:x},{id:"treasure_makeup",class:A.Z,options:{hintPower:3}},{id:"treasure_hands",class:A.Z,options:{hintPower:3}},{id:"treasure_earrings",class:A.Z,options:{hintPower:3}},{id:"treasure_makeup",class:A.Z,options:{hintPower:3}},{id:"treasure_bangels",class:A.Z,options:{hintPower:3}},{id:"treasure_bracelets",class:A.Z,options:{hintPower:3}},{id:"treasure_boots",class:A.Z,options:{hintPower:3}},{id:"treasure_amulet",class:A.Z,options:{hintPower:3}},{id:"treasure_guitar",class:A.Z,options:{hintPower:3}},{id:"treasure_tie",class:A.Z,options:{hintPower:3}},..._.Z.disableMirrorReflection?[]:[{id:"mirror_main",class:y.Z,options:{preventAddTo:!1}},{id:"mirror_table",class:y.Z,options:{preventAddTo:!1,type:"MirrorCircle",doubleSided:!0}}],{id:"interactive_drawer1",class:C.Z},{id:"interactive_darwer2",class:C.Z}],this.textureTypes=["lightMap","lightMapOff","alphaMap"]}async onSetup(){await this.setupSpatialAudio()}async setupSpatialAudio(){this.spatialAudio=await(new R).setup({options:{scene:this.options.addTo,camera:this.options.camera},props:{active:()=>this.props.active}})}async onAssetsPreloaderComplete(){this.setupAudio(),await this.setupScene()}async setupAudio(){Object.keys(W).forEach((e=>{this.audio[e]=this.assets[e]})),this.props.soundsLoaded=!0}findSoundChain(e){for(let t=0;t<this.objectSoundChain.length;t++){let n=this.objectSoundChain[t];for(let t=0;t<n.objects.length;t++){if(n.objects[t]==e)return n}}return this.objectSoundChain[0]}toggleFade(){this.switch=!this.switch;const e=this.props.duration,t=this.switch?1:0;this.materials.forEach(((n,i)=>{const o=i*this.props.delay;l.ZP.killTweensOf(n),l.ZP.to(n,{uYellowPr:t,duration:e,delay:o,ease:"none"})}))}async setupScene(){const[e]=this.assets.model.scenes,{objects:t}=this,n=[];e.traverse((async i=>{if(i.isMesh&&i.material){const{name:o,type:s,name_map:a,alpha:r,in_mirror_main:l,in_mirror_table:p}=i.userData,d=t.find((e=>e.id===o)),h="Treasure"===s,u=d&&d.class||c.Z;u==A.Z&&d.class;let m=null;"Interactive"==s&&(m=this.findSoundChain(o),m==this.objectSoundChain[0]?console.log("❌ Object "+o+" will play default sounds"):console.log("✔️ Object "+o+" will play sounds ["+m.sounds+"]"));const g=(new u).setup({options:{name:o,name_map:a,type:s,soundChain:m,useAngleToCamera:h,gltfRef:i,pane:this.folder,preventAddTo:!0,addTo:e,scene:this.scene,camera:this.options.camera,classType:u,raycast:"Interactive"==s||"Treasure"==s,assets:this.assets,useAlphaMap:!!r,inMirrorMain:l,inMirrorTable:p,...d?.options||{}},props:{active:()=>this.props.active,lightsOnPr:()=>this.props.lightsOnPr}});i.userData.customClass=g,n.push(g)}})),await this.setupObjects(n),this.object.add(e),f.h8.setTreasureItems(this.treasureObjects),f.h8.setDrawerItems(this.drawerObjects),f.h8.setEarringBox(this.earringBox[0]),window.coenProps=window.coenProps||{},await this.options.onLoaded(e)}async setupObjects(e){this.sceneObjects=await Promise.all(e),this.sceneObjectsHit=this.sceneObjects.map((e=>e.hitTarget)).filter((e=>void 0!==e)),this.sceneObjectsRaycast=this.sceneObjects.filter((e=>e.options.raycast)),this.treasureObjects=this.sceneObjects.filter((e=>"Treasure"===e.options.type)),this.drawerObjects=this.sceneObjects.filter((e=>e.options.classType===C.Z)),this.earringBox=this.sceneObjects.filter((e=>"sidebox"===e.options.name)),this.ceilingLamp=this.sceneObjects.filter((e=>"ceilinglamp"===e.options.name)),this.materials=this.sceneObjects.map((e=>e.material))}getObject(e){}randomizeLight(){this.props.lightsOnPr+=(1-this.props.lightsOnPr)*Math.random()*.2}turnOffLightsSlowly(){l.ZP.killTweensOf(this.props,"lightsOnPr"),l.ZP.to(this.props,{duration:4.5,lightsOnPr:.3,ease:"linear"})}turnOnLightsSlowly(){l.ZP.killTweensOf(this.props,"lightsOnPr"),l.ZP.to(this.props,{duration:10,lightsOnPr:.2,ease:"linear"})}turnOnLights(){b.Z.play(this.audio.light_switch),l.ZP.killTweensOf(this.props,"lightsOnPr"),l.ZP.to(this.props,{duration:.05,lightsOnPr:.4}),l.ZP.to(this.props,{duration:3,lightsOnPr:1,delay:.05,ease:"quint.out",onUpdate:this.randomizeLight.bind(this)}),window.coenProps.lamp=this.ceilingLamp[0]}reset(){this.drawerObjects.forEach((e=>e.props.open=!1))}})||U)||U)||U)||U;const H=Y},8353:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var i=n(3765),o=n(5021),s=n(4257);const a=new o.F,r=new s.i;var l=n(4148),c=n(4937),p=n(6451),d=n(2856),h=n(2826);const u=(e,{flipY:t=!1,anisotropy:n=8,minFilter:i=h.FDw,generateMipmaps:o=!p.Z.useCompressed}={})=>{p.Z.useCompressed&&(e.encoding=h.rnI),e.flipY=t,e.anisotropy=n,e.generateMipmaps=o,e.minFilter=i,e.needsUpdate=!0};var m=n(9752),g=n(6376),f=n(1386),b=n(9550),v=n(301);const x={options:{enableInteractionOver:!1},props:{active:!0,viewport:()=>(0,i.Z)().state.viewport,controls:()=>(0,i.Z)().state.camera.controls},textureTypes:["lightMap","lightMapOff"],assetsManifest:"",preAssets:{},extraAssets:{},async onBeforeSetup(){(0,v.Ev)(this,"handlePointerClick","handlePointerMove","reset")},async prepareAssets(){this.assets={};const{textureTypes:e,assetsManifest:t,preAssets:n,extraAssets:i,assets:o}=this,s=this.model=await(0,l.Z)(`${c.Z.CDN}${n.model}`),[a]=s.scenes,r=p.Z.useCompressed?"ktx":"webp",h="Bake1_CyclesBake_COMBINED",u=p.Z.useCompressed?"ktx2#ct":"webp#txt";a.traverse((n=>{if(n.isMesh){const{name:i,name_map:s}=n.userData,a=s||i,l=g.tq?"mobile/":"",c=`static/textures/compressed/${r}/${l}${t}/`;e.forEach((e=>{let t;switch(e){case"lightMap":t=`${c}light/${a}/${a}_${h}.${u}`;break;case"lightMapOff":t=`${c}dark/${a}/${a}_${h}.${u}`}t&&(o[`${a}_${e}`]=t)}))}})),this.assets=d.Sp.registerMixinContext(t,this,{...o,...i})},onSetup(){const{camera:e}=this.options;this.materials=[],this.sceneObjects=[],this.sceneObjectsHit=[],this.sceneObjectsRaycast=[],this.camera=e,this.pointerEvents=new f.Z},async onAssetsPreloaderComplete(){for(const e in this.assets)if(Object.hasOwnProperty.call(this.assets,e)){const t=this.assets[e];t instanceof m.x&&e.includes("Map")&&u(t)}},getObjectByName(e){return this.sceneObjects.find((t=>t.options.name==e))},onActive(){this.pointerEvents.on("click",this.handlePointerClick),this.pointerEvents.on("move",this.handlePointerMove),b.h8.event.on("reset",this.reset),this.options.addTo.add(this.object)},offActive({firstTrigger:e}){this.options.addTo.remove(this.object),e||(this.pointerEvents.off("click",this.handlePointerClick),this.pointerEvents.off("move",this.handlePointerMove),b.h8.event.off("reset",this.reset))},handlePointerClick(){(0,i.Z)().state.disableInteraction||(this.updateRaycast(),this.hitTest("click"))},handlePointerMove(){!(0,i.Z)().state.disableInteraction&&this.options.enableInteractionOver&&(this.updateRaycast(),this.hitTest("over"))},updateRaycast(){const[e,t]=this.pointerEvents.pos,{vw:n,vh:o}=(0,i.Z)().state;a.set(e/n*2-1,t/o*-2+1),r.setFromCamera(a,this.camera)},reset(){this.sceneObjects.forEach((e=>e.reset()))},hitTest(e){const t=r.intersectObjects(this.sceneObjectsHit,!1),n=this.sceneObjectsRaycast;for(let i=0;i<n.length;i++){const o=n[i],s=t[0]?.object.name.replace("hit_",""),a=n.find((e=>e.options.name==s));if("over"!=e){a?.handleHit();break}o.props.over=o.options.name==s||!1}}}},8746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$});var i=n(5782),o=n(8159),s=n(1485),a=(n(9278),n(1892)),r=n.n(a),l=n(5760),c=n.n(l),p=n(8311),d=n.n(p),h=n(8192),u=n.n(h),m=n(8060),g=n.n(m),f=n(4865),b=n.n(f),v=n(8560),x={};x.styleTagTransform=b(),x.setAttributes=u(),x.insert=d().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=g();r()(v.Z,x);v.Z&&v.Z.locals&&v.Z.locals;var A,C=n(9667),w=(n(7966),n(3181)),y=n(5335);const _=({options:e})=>i.dy`
    <div class="titleAndSubtitle">
        <div class="titleAndSubtitle__copy">
            <p data-ui="body" class="titleAndSubtitle__subtitle  textBody">${e.subtitle}</p>
        </div>
    </div>
`;const $=(0,o.c1)(s.Z)(A=class extends o.wA{constructor(...e){super(...e),this.options={template:_,title:"Title",subtitle:"Subtitle text goes here"},this.props={active:!1,subtitleOffset:0}}async onSetup(){this.title=await(new w.Z).setup({options:{insertBefore:this.ui.body,text:this.options.title},props:{active:()=>this.props.active,maxScale:1}}),this.stopEffect=(0,y.cE)((()=>this.title.props.scale),(e=>{const{height:t,scale:n}=this.title.props,i=(t-t*n)/-2;this.props.subtitleOffset=i}))}setSubtitleOffset(e){C.ZP.set(this.ui.body,{y:e})}onActive(){this.el.style.visibility="visible",this.title.show(),C.ZP.killTweensOf(this.ui.body),C.ZP.fromTo(this.ui.body,{alpha:0},{alpha:1,delay:.04,duration:.8})}async offActive({firstTrigger:e}){e||(C.ZP.killTweensOf(this.ui.body),C.ZP.to(this.ui.body,{alpha:0,ease:"power3.in",delay:0,duration:.4}),await this.title.hide()),this.el.style.visibility="hidden"}onDestroy(){this.stopEffect()}})||A},522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>K});var i=n(5782),o=n(8159),s=n(1485),a=n(1892),r=n.n(a),l=n(5760),c=n.n(l),p=n(8311),d=n.n(p),h=n(8192),u=n.n(h),m=n(8060),g=n.n(m),f=n(4865),b=n.n(f),v=n(6116),x={};x.styleTagTransform=b(),x.setAttributes=u(),x.insert=d().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=g();r()(v.Z,x);v.Z&&v.Z.locals&&v.Z.locals;var A,C=n(3765),w=n(9550),y=n(7124),_=n(4737),$=n(5549),B=n(9667),k=n(7966),S=n(6376),P=n(1407),Z=n(4893);const T=({context:e,options:t,props:n})=>i.dy`
    <div
        class="treasuresGalleryItem"
        @pointerenter=${e.handleEnter}
        @pointerleave="${e.handleLeave}"
        @click=${e.handleClick}
        ?locked=${n.locked}
    >
        <div data-ui="bg" class="treasuresGalleryItem__bg"></div>
        ${t.showNumbers?i.dy`<div class="treasuresGalleryItem__index">(${t.index+1})</div>`:null}

        <h2 data-ui="title" class="treasuresGalleryItem__copy">${k.Z.getValue(t.titleId)}</h2>
        <img data-ui="treasure" class="treasuresGalleryItem__img" src="${t.imgSrc}" />

        <div data-ui="lockedText" class="treasuresGalleryItem__lockedText">
            ${k.Z.get("game-overview-not-yet-found")}
        </div>
    </div>
`;const O=(0,o.c1)(s.Z)(A=class extends o.wA{constructor(...e){super(...e),this.options={template:T,onClick:()=>{},showNumbers:!0},this.props={active:!1,interactive:!1,rollover:!1,locked:!0,index:0,title:"Treasure Name",imgSrc:"",color:$.DM.PURPLE,lang:()=>(0,C.Z)().state.lang,alpha:0,size:{aspect:1,width:1,height:1},basex:0,basey:0,ease:.03},this.x=0,this.y=0,this.targetx=0,this.targety=0,this.handleClick=()=>{!this.props.locked&&this.props.interactive&&this.options.onClick()},this.handleEnter=()=>{this.props.interactive&&(this.props.rollover=!0)},this.handleLeave=()=>{this.props.rollover=!1}}setLang(){this.ui.title.innerText=k.Z.getValue(this.options.titleId)}async onSetup(){const{color:e}=this.options;this.ui.bg.style.backgroundColor=e}onRollover(){if(B.ZP.killTweensOf([this.ui.bg,this.ui.treasure,this.ui.title,this.ui.lockedText]),B.ZP.to(this.ui.bg,{scale:.9,duration:1,ease:"expo.out"}),this.props.locked)S.Vq||B.ZP.to(this.ui.lockedText,{alpha:1});else if(B.ZP.to(this.ui.treasure,{scale:1.4,duration:1.5,ease:"expo.out"}),!S.Vq){const e=.06;B.ZP.fromTo(this.ui.title,{scale:1.2},{scale:1,duration:1.5,delay:e,ease:"expo.out"}),B.ZP.fromTo(this.ui.title,{alpha:0},{alpha:1,duration:.4,delay:e})}}offRollover(){const e="expo.out";B.ZP.killTweensOf([this.ui.bg,this.ui.treasure,this.ui.title,this.ui.lockedText]),B.ZP.to(this.ui.bg,{scale:1,duration:.8,ease:e}),this.props.locked?S.Vq||B.ZP.to(this.ui.lockedText,{alpha:0,duration:.2}):(B.ZP.to(this.ui.treasure,{scale:1,duration:.8,ease:e}),S.Vq||B.ZP.to(this.ui.title,{scale:.95,alpha:0,duration:.2}))}offInteractive(){this.props.rollover=!1}setSize({width:e,height:t}){S.Vq||B.ZP.set(this.el,{width:e,height:t})}setTargetPos(e,t){this.targetx=e,this.targety=t}whileActive(){const{basex:e,basey:t}=this.props,{vw:n,vh:i}=(0,C.Z)().state,o=e+this.targetx,s=t+this.targety,a=(0,P.TE)(o,s,.5*n,.5*i),r=(0,Z.Z)(a,0,500,.03,.024);this.x+=(o-this.x)*r,this.y+=(s-this.y)*r,this.setTransform()}setTransform(){S.Vq||(this.el.style.transform=`translate(${this.x}px, ${this.y}px)`)}setAlpha(e){S.Vq||(this.el.style.opacity=e)}})||A;var M=n(4054),D=n(6859),z=n(2025),E=n(5451),I=n(7706),j={};j.styleTagTransform=b(),j.setAttributes=u(),j.insert=d().bind(null,"head"),j.domAPI=c(),j.insertStyleElement=g();r()(I.Z,j);I.Z&&I.Z.locals&&I.Z.locals;var R,F=n(7292);const L=({options:e,props:t})=>i.dy`
        <button class="btnSecondary ${e.className}" @click=${e.onClick}>
            ${t.text} ${t.icon?(0,F.Z)(t.icon,"btnSecondary__icon"):null}
            ${e.link?i.dy` <a data-ui="link" href="${e.link}" target="_blank" ?download=${e.download}></a> `:null}
        </button>
    `;const G=(0,o.c1)(s.Z)(R=class extends o.wA{constructor(...e){super(...e),this.options={template:L,onClick:()=>{},className:"",overrideAnimation:!1},this.props={text:"Button Main",icon:"",active:!1,color:"black"}}async onSetup(){}setActive(e){if(this.options.overrideAnimation)return;const t=e?1:0,n=e?.6:.2;B.ZP.killTweensOf(this.el,"alpha"),B.ZP.to(this.el,{alpha:t,duration:n})}setColor(e){this.el.style.setProperty("--btnColor",e)}})||R;var W,N=n(2856),U=n(3907),V=n(4939);const q=[{x:-41,y:418},{x:71,y:131},{x:439,y:-85},{x:469,y:226},{x:520,y:600},{x:857,y:36},{x:910,y:360},{x:915,y:744},{x:1237,y:509},{x:1322,y:189}],Y=[{x:-47,y:375},{x:71,y:131},{x:162,y:570},{x:439,y:-85},{x:537,y:692},{x:706,y:57},{x:936,y:725},{x:997,y:-25},{x:1244,y:492},{x:1322,y:189}],H=({options:e,props:t})=>i.dy`
    <div class="treasuresGallery">
        <div data-ui="bg" class="treasuresGallery__bg"></div>

        <div class="treasuresGallery__inner">
            ${e.end?i.dy`<div data-ui="endCopy" class="treasuresGallery__endCopy">
                      <h2 data-ui="title" class="treasuresGallery__endCopyTitle  textTitle1"></h2>
                      <p data-ui="endSubline1" class="js-textAnim"></p>
                      <p data-ui="endSubline2" class="js-textAnim  textRegular"></p>
                      <div data-ui="endBtns" class="treasuresGallery__endBtns"></div>
                  </div> `:i.dy` <div data-ui="overviewCopy" class="treasuresGallery__overviewCopy">
                      <h2 data-ui="title" class="treasuresGallery__overviewTitle  textTitle1">
                          ${k.Z.getValue("game-overview-title")}
                      </h2>
                      <p data-ui="overviewSubline1" class="js-textAnim"></p>
                      <p class="js-textAnim  textRegular">${k.Z.get("game-overview-keep-looking")}</p>
                  </div>`}

            <div data-ui="container" class="treasuresGallery__container"></div>
        </div>
    </div>
`;const K=(0,o.c1)(s.Z)(W=(0,o.c1)((0,N.E4)())(W=class extends o.wA{constructor(...e){super(...e),this.options={template:H,end:!1,onReplay:()=>{},onClose:()=>{},onOpen:()=>{},onCloseComplete:()=>{},randomLocked:!1},this.props={active:!1,visible:!1,interactive:!1,dispersePr:0,cardAlpha:0,xPanMax:e=>Math.max(0,e.box.width+300-(0,C.Z)().state.vw)/2,yPanMax:e=>Math.max(0,e.box.height+400-(0,C.Z)().state.vh)/2,scale:()=>(0,Z.Z)((0,C.Z)().state.scale,1,2,1,1.5),box:e=>({width:(0,C.Z)().state.basew*e.scale,height:(0,C.Z)().state.baseh*e.scale}),baseCardWidth:148,aspect:3/4,card:e=>({width:e.baseCardWidth*e.scale,height:e.baseCardWidth*e.scale/e.aspect}),lang:()=>(0,C.Z)().state.lang},this.assets={viewAllAudio:"static/audio/experience/view-all.mp3#audio",endOverviewAudio:"static/audio/experience/end-overview.mp3#audio"},this.x=0,this.y=0,this.handleTreasureRevealClose=()=>{this.props.interactive=!0},this.handleTreasureRevealCloseComplete=()=>{}}setLang(e){this.updateGameRelatedText(),this.options.end?(this.btnReplay.props.text=k.Z.getValue("game-replay-cta"),this.btnDiscover.props.text=k.Z.getValue("game-discover-more-cta"),this.btnDiscover.ui.link.href=k.Z.getValue("game-discover-more-cta-url")):(this.ui.title.innerText=k.Z.getValue("game-overview-title"),this.btnSurfacePainter.ui.link.href=k.Z.getValue("game-overview-discover-substance-url"),this.btnSurfacePainter.props.text=k.Z.getValue("game-overview-discover-substance"))}updateGameRelatedText(){const{totalItemsCollected:e,totalItems:t}=w.h8.props;if(this.options.end){let n=k.Z.getValue("game-intro-total-found-7");switch(e){case 8:n=k.Z.getValue("game-intro-total-found-8");break;case 9:n=k.Z.getValue("game-intro-total-found-9")}this.ui.title.innerText=k.Z.getValue("game-total-found-title",{intro:n,"total-found":e}),this.ui.endSubline1.innerText=k.Z.getValue("game-total-found-copy",{"total-found":e}),this.ui.endSubline2.innerText=e<t?k.Z.getValue("game-replay-copy"):k.Z.getValue("game-learn-more-copy")}else this.ui.overviewSubline1.innerText=k.Z.getValue("game-overview-count",{"total-found":e})}async onSetup(){this.textEls=[...this.el.querySelectorAll(".js-textAnim")],S.Vq?this.textEls.unshift(this.ui.title):this.textEls.push(this.ui.title),this.colorMask=await(new y.Z).setup({options:{insertBefore:this.ui.bg},props:{minSize:()=>this.props.card.width,aspect:()=>this.props.aspect,extraPlanes:3,baseItemPadding:0}}),this.items=await this.setupItems(),this.options.end?(this.btnReplay=await(new E.Z).setup({options:{appendTo:this.ui.endBtns,onClick:this.options.onReplay},props:{text:k.Z.getValue("game-replay-cta"),icon:"rotate"}}),this.btnDiscover=await(new G).setup({options:{appendTo:this.ui.endBtns,link:k.Z.getValue("game-discover-more-cta-url")},props:{icon:"arrow-external",text:k.Z.getValue("game-discover-more-cta")}})):(this.btnClose=await(new z.Z).setup({options:{appendTo:this.el,onClick:()=>{this.options.onClose(),this.props.active=!1}}}),this.btnSurfacePainter=await(new G).setup({options:{appendTo:S.Vq?this.ui.overviewCopy:this.el,className:"btnSurfacePainter",overrideAnimation:S.Vq,link:k.Z.getValue("game-overview-discover-substance-url")},props:{icon:"arrow-external",text:k.Z.getValue("game-overview-discover-substance")}}),S.Vq&&this.textEls.push(this.btnSurfacePainter.el))}async setupItems(){const{end:e,randomLocked:t}=this.options,n=e?Y:q;return Promise.all(_.Z.map(((e,i)=>{const{x:o,y:s}=n[i],a={size:()=>this.props.card,xFrom:()=>this.props.box.width/2-this.props.card.width/2,yFrom:()=>this.props.box.height/2-this.props.card.height/2,xTo:()=>o*this.props.scale,yTo:()=>(s-30)*this.props.scale,basex:e=>(0,M.Z)(this.props.dispersePr,e.xFrom,e.xTo),basey:e=>(0,M.Z)(this.props.dispersePr,e.yFrom,e.yTo)};return(new O).setup({options:{index:i,...e,appendTo:this.ui.container,showNumbers:!this.options.end,onClick:()=>{this.props.interactive=!1,C.x.emit("showTreasure",{data:e,stagger:.15,inGallery:!0})}},props:{active:()=>this.props.active,interactive:()=>this.props.interactive,alpha:()=>this.props.cardAlpha,locked:()=>t?Math.random()>.5:!w.h8.props.itemsCollected.find((t=>t.id===e.id)),...a}})})))}setBox({width:e,height:t}){if(S.Vq)return;const n=-t/2,i=-e/2;B.ZP.set(this.ui.container,{width:e,height:t,top:"50%",left:"50%",marginTop:n,marginLeft:i})}setActive(e,{firstTrigger:t}){t||(this.el.style.pointerEvents=e?"auto":"none")}setVisible(e,{firstTrigger:t}){t||(this.el.style.visibility=e?"visible":"hidden")}offVisible({firstTrigger:e}){e||this.options.onCloseComplete()}async onActive(){this.updateGameRelatedText(),w.h8.pause(),V.W.stopAllAudio(),(0,C.Z)().state.pauseRenderer=!0,this.options.onOpen(),this.props.visible=!0,U.Z.play(this.assets.viewAllAudio),U.Z.play(this.assets.endOverviewAudio,{loop:!0}),S.Vq||await this.colorMask.show({data:{color:"#E5E5E5"},stagger:.12,duration:1});B.ZP.to(this.ui.bg,{alpha:1,duration:S.Vq?.3:.5}),B.ZP.to(this.props,{cardAlpha:1,duration:.5,delay:0}),B.ZP.to(this.props,{dispersePr:1,duration:1.2,delay:0,ease:"power3.inOut",onComplete:()=>this.props.interactive=!0});const e=this.items.map((e=>e.el)),t=[...this.textEls];S.Vq&&t.push(...e);const n=S.Vq?.05:.06;B.ZP.killTweensOf(t),B.ZP.fromTo(t,{alpha:0,y:50},{alpha:1,y:0,duration:1,stagger:n,ease:"power3.out",delay:S.Vq?.3:.6,onStart:()=>{(0,C.Z)().state.color="black",this.showButtons()}}),this.addEvents()}showButtons(){this.btnClose&&(this.btnClose.props.active=!0),this.btnSurfacePainter&&(this.btnSurfacePainter.props.active=!0),this.btnReplay&&(this.btnReplay.props.active=!0),this.btnDiscover&&(this.btnDiscover.props.active=!0)}hideButtons(){this.btnClose&&(this.btnClose.props.active=!1),this.btnSurfacePainter&&(this.btnSurfacePainter.props.active=!1),this.btnReplay&&(this.btnReplay.props.active=!1),this.btnDiscover&&(this.btnDiscover.props.active=!1)}offActive({firstTrigger:e}){if(e)return;this.removeEvents(),this.props.interactive=!1,S.Vq||this.colorMask.hide({duration:0}),U.Z.pause(this.assets.endOverviewAudio,{fade:!0,duration:2}),this.hideButtons(),B.ZP.to(this.props,{cardAlpha:0,duration:.5,delay:.2}),B.ZP.to(this.props,{dispersePr:0,duration:1.2,ease:"power3.inOut"}),B.ZP.to(this.ui.bg,{alpha:0,duration:.5,delay:.5,onStart:()=>{(0,C.Z)().state.color="white"},onComplete:()=>{this.props.visible=!1,this.x=this.y=0,this.items.forEach((e=>e.setTargetPos(0,0))),this.setTransform()}});const t=this.items.map((e=>e.el)),n=[...this.textEls];S.Vq&&n.push(...t);const i=(S.Vq,.05),o=S.Vq?-30:50,s=(S.Vq,S.Vq?.3:.5);B.ZP.killTweensOf(n),B.ZP.to(n,{alpha:0,y:o,duration:s,stagger:i,ease:"power2.in"})}addEvents(){C.x.on("treasureRevealClose",this.handleTreasureRevealClose)}removeEvents(){C.x.off("treasureRevealClose",this.handleTreasureRevealClose)}whileActive(){if(!this.props.interactive||S.Vq)return;const{vw:e,vh:t}=(0,C.Z)().state,{x:n,y:i}=(0,D.gt)(),{yPanMax:o,xPanMax:s}=this.props,a=(0,Z.Z)(n,0,e,s,-s,!0),r=(0,Z.Z)(i,0,t,o,-o,!0);this.x+=.03*(a-this.x),this.y+=.03*(r-this.y),this.setTransform(),this.items.forEach((e=>e.setTargetPos(a,r)))}setTransform(){S.Vq||this.ui.endCopy&&(this.ui.endCopy.style.transform=`translate(${this.x}px, ${this.y}px)`)}onDestroy(){this.removeEvents()}})||W)||W},6108:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var i=n(5782),o=n(8159),s=n(1485),a=n(1892),r=n.n(a),l=n(5760),c=n.n(l),p=n(8311),d=n.n(p),h=n(8192),u=n.n(h),m=n(8060),g=n.n(m),f=n(4865),b=n.n(f),v=n(8130),x={};x.styleTagTransform=b(),x.setAttributes=u(),x.insert=d().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=g();r()(v.Z,x);v.Z&&v.Z.locals&&v.Z.locals;var A,C,w=n(9667),y=(n(9550),n(298)),_=n(6597),$=n(6920),B=n(2856),k=n(6376),S=n(8185),P=n(7966);n(4655);const Z=k.Vq?[{id:"fingertolookaround",bodyId:"tutorial-mobile-1finger",idFile:"finger_to_look_around",numSpritesheets:4,numFrames:61},{id:"pinchtozoom",bodyId:"tutorial-mobile-pinch",idFile:"pinch_to_zoom",numSpritesheets:1,numFrames:30},{id:"taptocollect",bodyId:"tutorial-mobile-tap",idFile:"tap_to_collect",numSpritesheets:3,numFrames:48},{id:"twofingerstomove",bodyId:"tutorial-mobile-2finger",idFile:"two_finger_to_move",numSpritesheets:2,numFrames:54}]:[{id:"dragandmove",bodyId:"tutorial-desktop-drag",idFile:"drag_and_move",numSpritesheets:5,numFrames:85},{id:"clickandhold",bodyId:"tutorial-desktop-hold",idFile:"click_and_hold",numSpritesheets:3,numFrames:48},{id:"taptocollect",bodyId:"tutorial-desktop-click",idFile:"tap_to_collect",numSpritesheets:3,numFrames:48}],T="static/images/tutorial",O={};Z.forEach((e=>{Array.from(new Array(e.numSpritesheets)).forEach(((t,n)=>{O[`tuto_${e.id}${n}D`]=`${T}/${e.id}/${e.idFile}-${n}.json#json`,O[`tuto_${e.id}${n}T`]=`${T}/${e.id}/${e.idFile}-${n}.png#img`}))}));const M=({context:e,props:t})=>{const n={display:"manual"==t.mode?"block":"none"};return i.dy`
        <div class="tutorial" ?visible=${t.visible} data-mode=${t.mode}>
            <div
                class="tutorial__bg"
                data-ui="background"
                style=${(0,i.Ve)(n)}
                @click=${e.handleClose}
            ></div>
            <div class="tutorial__box" data-ui="box">
                <div class="tutorial__box-canvas" data-ui="box-canvas"><canvas data-ui="canvas"></canvas></div>
                <p class="tutorial__cardBody textBody" data-ui="text"></p>
            </div>
            <button
                class="tutorial__next"
                data-ui="next"
                style=${(0,i.Ve)(n)}
                @click=${e.onNextButtonClick}
            >
                ${t.cardIndex==Z.length-1?"DONE":"NEXT"}
            </button>
        </div>
    `};const D=(0,o.c1)((0,B.E4)("tutorial"))(A=(0,o.c1)(s.Z)(A=class extends o.wA{constructor(...e){super(...e),this.options={template:M,onClick:()=>{},onClose:()=>{}},this.props={visible:!1,active:!1,hasShown:!1,cardIndex:0,sizeCanvas:[1,1],mode:"manual",currAnim:null},this.propsAnimation={alphaAll:0,alpha:0,scale:.8},this.assets={...O},this.updateContent=()=>{const{cardIndex:e}=this.props;this.animations&&this.playAnimation(Z[e].id);const t=Z[e].bodyId;this.ui.text.innerText=P.Z.getValue(t)},this.onNextButtonClick=()=>{"in"!=this.props.currAnim&&(this.props.cardIndex==Z.length-1?this.handleClose():this.props.cardIndex++)},this.handleClose=()=>{this.props.active=!1,this.options.onClose()}}async onSetup(){this.cv=this.ui.canvas,this.cx=this.cv.getContext("2d"),this.observer=new ResizeObserver((e=>{const{contentRect:t}=e[0];this.props.sizeCanvas=[~~t.width,~~t.height]})),this.observer.observe(this.ui["box-canvas"]),await this.setupCanvas()}async setupCanvas(){this.rectOut={color:"#000000",lineWidth:30,scale:.2}}async setupAnimations(){const{assets:e}=this;this.animations=await Promise.all(Z.map((async(t,n)=>{const{id:i,numSpritesheets:o,numFrames:s}=t;return await(new z).setup({options:{id:i,fps:15,data:Array.from(new Array(o)).map(((t,n)=>({json:e[`tuto_${i}${n}D`],texture:e[`tuto_${i}${n}T`]}))),sequences:[{id:"loop",from:0,to:s,loop:0}]},props:{}})}))),this.props.active&&this.playAnimation(Z[this.props.cardIndex].id)}async onAssetsPreloaderComplete(){await this.setupAnimations()}goToCard(e){this.props.cardIndex=Z.findIndex((t=>t.id==e))}setCardIndex(e){"in"!==this.props.currAnim&&this.props.active&&this.playTimeline({type:"switch"})}setSizeCanvas([e,t]){(0,y.Z)(this.cx,e,t)}playAnimation(e){this.animation=this.animations.find((t=>t.options.id===e)),this.animation?.playSequence("loop")}onActive({firstTrigger:e}){this.props.hasShown=!0,S.Z||(store().state.pauseRenderer=!0),e&&w.ZP.set([this.ui.text,this.ui.next,this.ui.background],{opacity:0}),this.playTimeline({type:"in"})}offActive({firstTrigger:e}){e||this.playTimeline({type:"out"})}offVisible(){this.props.cardIndex=0}whileVisible(){this.draw()}playTimeline({type:e="in"}={}){this.tl?.kill();const t=this.tl=w.ZP.timeline({onStart:()=>this.props.visible=!0,onComplete:()=>{this.props.currAnim=null,"out"==e&&(this.props.visible=!1)}}),{mode:n}=this.props;switch(this.props.currAnim=e,e){case"in":t.call(this.updateContent,[],0).to(this.rectOut,{scale:.56,duration:1.4,ease:"power3.out"},0).to(this.rectOut,{lineWidth:2.5,duration:1.2,ease:"expo.out"},.2).to(this.propsAnimation,{alpha:1,scale:1,duration:1,ease:"sine.out"},0).to(this.propsAnimation,{alphaAll:1,duration:.4,ease:"power3.out"},0).to(this.ui.text,{opacity:1,duration:.7},0),"manual"==n&&t.to([this.ui.background,this.ui.next],{opacity:1,duration:.7,ease:"sine.out",stagger:.6},0);break;case"out":t.to(this.rectOut,{scale:.2,duration:.6,ease:"power3.in"},0).to(this.rectOut,{lineWidth:30,duration:.6,ease:"power3.in"},0).to(this.propsAnimation,{alpha:0,scale:.6,duration:.5,ease:"sine.out"},0).to(this.propsAnimation,{alphaAll:0,duration:.3,ease:"sine.out"},.4).to(this.ui.text,{opacity:0,duration:.5},0),"manual"==n&&t.to([this.ui.next,this.ui.background],{opacity:0,duration:.6,ease:"sine.in",stagger:.1},0);break;case"switch":t.to(this.rectOut,{scale:.2,duration:.6,ease:"power3.in"},0).to(this.rectOut,{lineWidth:30,duration:.6,ease:"power3.in"},0).to(this.propsAnimation,{alpha:0,scale:.6,duration:.5,ease:"sine.out"},0).to(this.ui.text,{opacity:0,duration:.5},0).call(this.updateContent,[],.8).to(this.rectOut,{scale:.56,duration:1,ease:"power3.out"},.6).to(this.rectOut,{lineWidth:2.5,duration:1,ease:"power3.out"},.6).to(this.propsAnimation,{alpha:1,scale:1,duration:.8,ease:"sine.out"},1).to(this.ui.text,{opacity:1,duration:.7},.8)}}draw(){const[e,t]=this.props.sizeCanvas,{cx:n}=this,{alphaAll:i}=this.propsAnimation;n.clearRect(0,0,e,t),n.save(),n.globalAlpha=i,this.drawOutRect(n),this.drawAnimation(n),n.restore()}drawOutRect(e){const{scale:t,lineWidth:n}=this.rectOut,[i,o]=this.props.sizeCanvas,[s,a]=[i*t,o*t],r=.1*a;e.save(),e.lineWidth=n,e.strokeStyle="#ffffff",(0,_.Z)(e,.5*(i-s),.5*(o-a),s,a,r,r,r,r),e.stroke(),e.restore()}drawAnimation(e){const[t,n]=this.props.sizeCanvas,{animation:i}=this,{scale:o,alpha:s}=this.propsAnimation;if(!i)return;const a=i.currentFrame,{atlas:r,frame:l}=a,c=.3*o,p=t/l.w*c,d={w:l.w*p,h:l.h*p};e.save(),e.globalAlpha=s,e.drawImage(r,l.x,l.y,l.w,l.h,.5*(t-d.w),.5*(n-d.h),d.w,d.h),e.restore()}})||A)||A;let z=(0,o.c1)($._J)(C=class extends o.wA{constructor(...e){super(...e),this.options={},this.props={}}async onSetup(){}})||C},9278:(e,t,n)=>{"use strict";var i=n(5782),o=n(8159),s=n(1485),a=n(9667),r=n(1431),l=n(1892),c=n.n(l),p=n(5760),d=n.n(p),h=n(8311),u=n.n(h),m=n(8192),g=n.n(m),f=n(8060),b=n.n(f),v=n(4865),x=n.n(v),A=n(3237),C={};C.styleTagTransform=x(),C.setAttributes=g(),C.insert=u().bind(null,"head"),C.domAPI=d(),C.insertStyleElement=b();c()(A.Z,C);A.Z&&A.Z.locals&&A.Z.locals;var w,y,_=n(5549);const $=({context:e})=>i.dy`
    <form class="signupField" @submit=${e.onSubmit}>
        <div data-ui="emailBlock" class="signupField__block">
            <input
                class="signupField__input"
                type="email"
                data-ui="email"
                autocomplete="email"
                placeholder="Enter your email"
            />
        </div>
        <div data-ui="error" class="signupField__error">Error!</div>
        <div data-ui="success" class="signupField__success">Success! Thank you!</div>

        <button data-ui="btn" class="signupField__btn">Sign up</button>
    </form>
`;(0,o.c1)(s.Z)((y=class extends o.wA{constructor(...e){super(...e),this.options={template:$},this.props={emailValid:!0,loading:!1,signupSuccess:!1}}async onSetup(){}async onSubmit(e){e.preventDefault(),this.props.emailValid=(0,_.CU)().test(this.ui.email.value),this.props.emailValid&&(this.props.loading=!0,this.props.signupSuccess=!0)}onEmailValid(){this.props.active&&(this.ui.error.style.opacity=0,this.ui.emailBlock.classList.remove("is-error"))}offEmailValid(){this.ui.error.style.opacity=1,this.ui.emailBlock.classList.add("is-error")}onSignupSuccess(){this.ui.email.value="Success",this.ui.email.disabled=!0,this.ui.emailBlock.classList.add("is-success");this.ui.btn.disabled=!0,a.ZP.set(this.ui.btn,{alpha:0}),a.ZP.set(this.ui.email,{alpha:0}),a.ZP.to(this.ui.success,{alpha:1,duration:.2,delay:.2,ease:"sine.out"})}},B=y.prototype,k="onSubmit",S=[r.Nj],P=Object.getOwnPropertyDescriptor(y.prototype,"onSubmit"),Z=y.prototype,T={},Object.keys(P).forEach((function(e){T[e]=P[e]})),T.enumerable=!!T.enumerable,T.configurable=!!T.configurable,("value"in T||T.initializer)&&(T.writable=!0),T=S.slice().reverse().reduce((function(e,t){return t(B,k,e)||e}),T),Z&&void 0!==T.initializer&&(T.value=T.initializer?T.initializer.call(Z):void 0,T.initializer=void 0),void 0===T.initializer&&(Object.defineProperty(B,k,T),T=null),w=y));var B,k,S,P,Z,T},5434:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var i=n(7406),o=n(1892),s=n.n(o),a=n(5760),r=n.n(a),l=n(8311),c=n.n(l),p=n(8192),d=n.n(p),h=n(8060),u=n.n(h),m=n(4865),g=n.n(m),f=n(179),b={};b.styleTagTransform=g(),b.setAttributes=d(),b.insert=c().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=u();s()(f.Z,b);f.Z&&f.Z.locals&&f.Z.locals;const v=Object.assign(i.Z,{onAfterSetup(){this.onBeforeEnterAnimation&&this.onBeforeEnterAnimation()},resize(){},onDestroy(){}})},6712:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var i=n(5782),o=n(8159),s=n(1485),a=(n(7742),n(4802)),r=n(5434),l=n(1892),c=n.n(l),p=n(5760),d=n.n(p),h=n(8311),u=n.n(h),m=n(8192),g=n.n(m),f=n(8060),b=n.n(f),v=n(4865),x=n.n(v),A=n(4729),C={};C.styleTagTransform=x(),C.setAttributes=g(),C.insert=u().bind(null,"head"),C.domAPI=d(),C.insertStyleElement=b();c()(A.Z,C);A.Z&&A.Z.locals&&A.Z.locals;var w,y=n(6451),_=n(2736),$=n(3765);const B=({context:e})=>i.dy` <div class="pageMain"></div> `;const k=(0,o.c1)(r.default)(w=(0,o.c1)(s.Z)(w=class extends o.wA{constructor(...e){super(...e),this.options={template:B},this.props={}}async onSetup(){await this.setupPhase()}async setupPhase(){const{scene:e}=_.Z.getInstance(),t=Object.values(a)[y.Z.phase-1];this.phase=await(new t).setup({options:{addTo:e,appendTo:this.el},props:{active:()=>this.props.active}})}onActive(){this.addEvents()}render(e){(0,$.Z)().state.pauseRenderer||this.phase.render(e)}addEvents(){}})||w)||w},6843:function(e,t,n){var i,o,s,a=e.exports&&void 0!==n.g?n.g:this||window;!function(e){"use strict";var t=e.GreenSockGlobals||e,n=function(e){var n,i=e.split("."),o=t;for(n=0;n<i.length;n++)o[i[n]]=o=o[i[n]]||{};return o}("com.greensock.utils"),i=function(e){var t=e.nodeType,n="";if(1===t||9===t||11===t){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===t||4===t)return e.nodeValue;return n},o=document,s=o.defaultView?o.defaultView.getComputedStyle:function(){},a=/([A-Z])/g,r=function(e,t,n,i){var o;return(n=n||s(e,null))?o=(e=n.getPropertyValue(t.replace(a,"-$1").toLowerCase()))||n.length?e:n[t]:e.currentStyle&&(o=(n=e.currentStyle)[t]),i?o:parseInt(o,10)||0},l=function(e){return!!(e.length&&e[0]&&(e[0].nodeType&&e[0].style&&!e.nodeType||e[0].length&&e[0][0]))},c=/(?:\r|\n|\t\t)/g,p=/(?:\s\s+)/g,d=127462,h=127487,u=function(e){return(e.charCodeAt(0)-55296<<10)+(e.charCodeAt(1)-56320)+65536},m=" style='position:relative;display:inline-block;"+(o.all&&!o.addEventListener?"*display:inline;*zoom:1;'":"'"),g=function(e,t){var n=-1!==(e=e||"").indexOf("++"),i=1;return n&&(e=e.split("++").join("")),function(){return"<"+t+m+(e?" class='"+e+(n?i++:"")+"'>":">")}},f=n.SplitText=t.SplitText=function(e,t){if("string"==typeof e&&(e=f.selector(e)),!e)throw"cannot split a null element.";this.elements=l(e)?function(e){var t,n,i,o=[],s=e.length;for(t=0;s>t;t++)if(n=e[t],l(n))for(i=n.length,i=0;i<n.length;i++)o.push(n[i]);else o.push(n);return o}(e):[e],this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)},b=function(e,t,n){var i=e.nodeType;if(1===i||9===i||11===i)for(e=e.firstChild;e;e=e.nextSibling)b(e,t,n);else(3===i||4===i)&&(e.nodeValue=e.nodeValue.split(t).join(n))},v=function(e,t){for(var n=t.length;--n>-1;)e.push(t[n])},x=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},A=function(e,t,n){for(var i;e&&e!==t;){if(i=e._next||e.nextSibling)return i.textContent.charAt(0)===n;e=e.parentNode||e._parent}return!1},C=function(e){var t,n,i=x(e.childNodes),o=i.length;for(t=0;o>t;t++)(n=i[t])._isSplit?C(n):(t&&3===n.previousSibling.nodeType?n.previousSibling.nodeValue+=3===n.nodeType?n.nodeValue:n.firstChild.nodeValue:3!==n.nodeType&&e.insertBefore(n.firstChild,n),e.removeChild(n))},w=function(e,t,n,i,a,l,c){var p,d,h,u,m,g,f,x,w,y,_,$,B=s(e),k=r(e,"paddingLeft",B),S=-999,P=r(e,"borderBottomWidth",B)+r(e,"borderTopWidth",B),Z=r(e,"borderLeftWidth",B)+r(e,"borderRightWidth",B),T=r(e,"paddingTop",B)+r(e,"paddingBottom",B),O=r(e,"paddingLeft",B)+r(e,"paddingRight",B),M=.2*r(e,"fontSize"),D=r(e,"textAlign",B,!0),z=[],E=[],I=[],j=t.wordDelimiter||" ",R=t.span?"span":"div",F=t.type||t.split||"chars,words,lines",L=a&&-1!==F.indexOf("lines")?[]:null,G=-1!==F.indexOf("words"),W=-1!==F.indexOf("chars"),N="absolute"===t.position||!0===t.absolute,U=t.linesClass,V=-1!==(U||"").indexOf("++"),q=[];for(L&&1===e.children.length&&e.children[0]._isSplit&&(e=e.children[0]),V&&(U=U.split("++").join("")),h=(d=e.getElementsByTagName("*")).length,m=[],p=0;h>p;p++)m[p]=d[p];if(L||N)for(p=0;h>p;p++)((g=(u=m[p]).parentNode===e)||N||W&&!G)&&($=u.offsetTop,L&&g&&Math.abs($-S)>M&&("BR"!==u.nodeName||0===p)&&(f=[],L.push(f),S=$),N&&(u._x=u.offsetLeft,u._y=$,u._w=u.offsetWidth,u._h=u.offsetHeight),L&&((u._isSplit&&g||!W&&g||G&&g||!G&&u.parentNode.parentNode===e&&!u.parentNode._isSplit)&&(f.push(u),u._x-=k,A(u,e,j)&&(u._wordEnd=!0)),"BR"===u.nodeName&&(u.nextSibling&&"BR"===u.nextSibling.nodeName||0===p)&&L.push([])));for(p=0;h>p;p++)g=(u=m[p]).parentNode===e,"BR"!==u.nodeName?(N&&(w=u.style,G||g||(u._x+=u.parentNode._x,u._y+=u.parentNode._y),w.left=u._x+"px",w.top=u._y+"px",w.position="absolute",w.display="block",w.width=u._w+1+"px",w.height=u._h+"px"),!G&&W?u._isSplit?(u._next=u.nextSibling,u.parentNode.appendChild(u)):u.parentNode._isSplit?(u._parent=u.parentNode,!u.previousSibling&&u.firstChild&&(u.firstChild._isFirst=!0),u.nextSibling&&" "===u.nextSibling.textContent&&!u.nextSibling.nextSibling&&q.push(u.nextSibling),u._next=u.nextSibling&&u.nextSibling._isFirst?null:u.nextSibling,u.parentNode.removeChild(u),m.splice(p--,1),h--):g||($=!u.nextSibling&&A(u.parentNode,e,j),u.parentNode._parent&&u.parentNode._parent.appendChild(u),$&&u.parentNode.appendChild(o.createTextNode(" ")),t.span&&(u.style.display="inline"),z.push(u)):u.parentNode._isSplit&&!u._isSplit&&""!==u.innerHTML?E.push(u):W&&!u._isSplit&&(t.span&&(u.style.display="inline"),z.push(u))):L||N?(u.parentNode&&u.parentNode.removeChild(u),m.splice(p--,1),h--):G||e.appendChild(u);for(p=q.length;--p>-1;)q[p].parentNode.removeChild(q[p]);if(L){for(N&&(y=o.createElement(R),e.appendChild(y),_=y.offsetWidth+"px",$=y.offsetParent===e?0:e.offsetLeft,e.removeChild(y)),w=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(x=" "===j&&(!N||!G&&!W),p=0;p<L.length;p++){for(f=L[p],(y=o.createElement(R)).style.cssText="display:block;text-align:"+D+";position:"+(N?"absolute;":"relative;"),U&&(y.className=U+(V?p+1:"")),I.push(y),h=f.length,d=0;h>d;d++)"BR"!==f[d].nodeName&&(u=f[d],y.appendChild(u),x&&u._wordEnd&&y.appendChild(o.createTextNode(" ")),N&&(0===d&&(y.style.top=u._y+"px",y.style.left=k+$+"px"),u.style.top="0px",$&&(u.style.left=u._x-$+"px")));0===h?y.innerHTML="&nbsp;":G||W||(C(y),b(y,String.fromCharCode(160)," ")),N&&(y.style.width=_,y.style.height=u._h+"px"),e.appendChild(y)}e.style.cssText=w}N&&(c>e.clientHeight&&(e.style.height=c-T+"px",e.clientHeight<c&&(e.style.height=c+P+"px")),l>e.clientWidth&&(e.style.width=l-O+"px",e.clientWidth<l&&(e.style.width=l+Z+"px"))),v(n,z),v(i,E),v(a,I)},y=function(e,t,n,s){var a,r,l,m,g,f,v,x,A,C=t.span?"span":"div",w=-1!==(t.type||t.split||"chars,words,lines").indexOf("chars"),y="absolute"===t.position||!0===t.absolute,_=t.wordDelimiter||" ",$=" "!==_?"":y?"&#173; ":" ",B=t.span?"</span>":"</div>",k=!0,S=o.createElement("div"),P=e.parentNode;for(P.insertBefore(S,e),S.textContent=e.nodeValue,P.removeChild(e),v=-1!==(a=i(e=S)).indexOf("<"),!1!==t.reduceWhiteSpace&&(a=a.replace(p," ").replace(c,"")),v&&(a=a.split("<").join("{{LT}}")),g=a.length,r=(" "===a.charAt(0)?$:"")+n(),l=0;g>l;l++)if((f=a.charAt(l))===_&&a.charAt(l-1)!==_&&l){for(r+=k?B:"",k=!1;a.charAt(l+1)===_;)r+=$,l++;l===g-1?r+=$:")"!==a.charAt(l+1)&&(r+=$+n(),k=!0)}else"{"===f&&"{{LT}}"===a.substr(l,6)?(r+=w?s()+"{{LT}}</"+C+">":"{{LT}}",l+=5):f.charCodeAt(0)>=55296&&f.charCodeAt(0)<=56319||a.charCodeAt(l+1)>=65024&&a.charCodeAt(l+1)<=65039?(x=u(a.substr(l,2)),A=u(a.substr(l+2,2)),m=(d>x||x>h||d>A||A>h)&&(127995>A||A>127999)?2:4,r+=w&&" "!==f?s()+a.substr(l,m)+"</"+C+">":a.substr(l,m),l+=m-1):r+=w&&" "!==f?s()+f+"</"+C+">":f;e.outerHTML=r+(k?B:""),v&&b(P,"{{LT}}","<")},_=function(e,t,n,i){var o,s,a=x(e.childNodes),l=a.length,c="absolute"===t.position||!0===t.absolute;if(3!==e.nodeType||l>1){for(t.absolute=!1,o=0;l>o;o++)(3!==(s=a[o]).nodeType||/\S+/.test(s.nodeValue))&&(c&&3!==s.nodeType&&"inline"===r(s,"display",null,!0)&&(s.style.display="inline-block",s.style.position="relative"),s._isSplit=!0,_(s,t,n,i));return t.absolute=c,void(e._isSplit=!0)}y(e,t,n,i)},$=f.prototype;$.split=function(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var t,n,i,o=this.elements.length,s=e.span?"span":"div",a=g(e.wordsClass,s),r=g(e.charsClass,s);--o>-1;)i=this.elements[o],this._originals[o]=i.innerHTML,t=i.clientHeight,n=i.clientWidth,_(i,e,a,r),w(i,e,this.chars,this.words,this.lines,n,t);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},$.revert=function(){if(!this._originals)throw"revert() call wasn't scoped properly.";for(var e=this._originals.length;--e>-1;)this.elements[e].innerHTML=this._originals[e];return this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},f.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(f.selector=n,n(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)},f.version="0.5.8"}(a),function(n){"use strict";var r=function(){return(a.GreenSockGlobals||a).SplitText};e.exports?e.exports=r():(o=[],void 0===(s="function"==typeof(i=r)?i.apply(t,o):i)||(e.exports=s))}()},9580:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,'.btnEnter{--color: white;--btnEnterSize: 8.6rem;width:var(--btnEnterSize);height:var(--btnEnterSize);display:flex;align-items:center;justify-content:center;flex-direction:column;pointer-events:auto;color:var(--color);margin:calc(var(--btnEnterSize) * -0.5);position:absolute}.root[device="tablet"] .btnEnter{--btnEnterSize: 12rem;top:50%;left:83%}@media only screen and (max-width: 768px){.btnEnter{--btnEnterSize: 9rem;top:83%;left:50%}}.btnEnter:not([visible]){display:none}.btnEnter canvas{top:0;left:0;width:100%;height:100%;position:absolute}.btnEnter__text{font-size:1.2rem}\n',"",{version:3,sources:["webpack://./component/btn-enter/index.scss","webpack://./style/mixins/utils.scss"],names:[],mappings:"AAGA,UACI,cAAQ,CACR,sBAAe,CCkHf,yBDjHmC,CCkHnC,0BDlHmC,CCsDnC,YAAa,CACb,kBAAmB,CACnB,sBAAuB,CACvB,qBAJgC,CDlDhC,mBAAoB,CACpB,kBAAmB,CACnB,uCAAwC,CACxC,iBAAkB,CAElB,iCACI,qBAAe,CACf,OAAQ,CACR,QAAS,CACZ,0CAfL,UAkBY,oBAAe,CACf,OAAQ,CACR,QAAS,CASpB,CA7BD,yBAuBsB,YAAa,CAvBnC,iBCGI,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CDsBD,gBAGtB,gBAAiB",sourcesContent:['$CDN:"/";\n@import \'style/shared\';\n\n.btnEnter {\n    --color: white;\n    --btnEnterSize: 8.6rem;\n    @include square(var(--btnEnterSize));\n    @include flexCenter;\n\n    pointer-events: auto;\n    color: var(--color);\n    margin: calc(var(--btnEnterSize) * -0.5);\n    position: absolute;\n    \n    .root[device="tablet"] & {\n        --btnEnterSize: 12rem;\n        top: 50%;\n        left: 83%;\n    }\n\n        @include mobile {\n            --btnEnterSize: 9rem;\n            top: 83%;\n            left: 50%;\n        }\n\n    &:not([visible]){ display: none; }\n    canvas { @include fill; }\n\n    &__text {\n        font-size: 1.2rem;\n    }\n}\n',"// -----------------------------------\n// Layout\n// -----------------------------------\n\n// Fills to the bounds of the container element\n@mixin fill($position: absolute) {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: $position;\n}\n\n// Fills to the bounds of the container element, including an offset (grow or shrink the bounds)\n@mixin fillContainer($offset: 0, $position: absolute) {\n    inset: $offset;\n    position: $position;\n}\n\n// Sets the elements position to either top-left|top-right|bottom-left|bottom-right\n@mixin position($ruleA: top, $ruleB: left, $position: absolute) {\n    #{$ruleA}: 0;\n    #{$ruleB}: 0;\n\n    position: $position;\n}\n\n// USAGE -------\n// @mixin aspectRatio( $aspect-16x9 );\n\n@mixin aspectRatio($ratio) {\n    &::before {\n        content: '';\n        display: block;\n        padding-top: ($ratio * 100%);\n    }\n}\n\n// USAGE -------\n// @mixin centerAlign(100px, 100px);\n\n// Center aligns the element within its container, given a width & height\n@mixin centerAlign($width: 0, $height: 0) {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    margin-top: -$height/2;\n    margin-left: -$width/2;\n}\n\n// Center aligns the element within its container, regardless of width & height\n@mixin centerAlignTransform() {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n}\n\n// Centers the children within the element. $direction variable can be row|column\n@mixin flexCenter($direction: column) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: $direction;\n}\n\n// Old school technique to vertically center content\n@mixin addVerticalCentering() {\n    &::before {\n        content: '';\n        display: inline-block;\n        vertical-align: middle;\n        width: 0;\n        height: 100%;\n    }\n}\n\n// Full width element which centers when viewport width > $max-width\n@mixin constrainWidth($max-width: $app-width) {\n    margin: auto;\n    position: relative;\n\n    width: 100%;\n    max-width: $max-width;\n}\n\n// Full width element which centers when viewport width > $max-width, plus fills height\n@mixin constrainWidthFillHeight {\n    @include constrainWidth();\n\n    height: 100%;\n}\n\n@mixin imgFillContainer($align: top-left) {\n    @if $align = top-left {\n        top: 0;\n        left: 0;\n    } @else if $align = center {\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    max-width: 100%;\n    max-height: 100%;\n    min-width: 100%;\n    min-height: 100%;\n    position: absolute;\n}\n\n// Creates a circle element with $size width and height\n@mixin circle($size) {\n    width: $size;\n    height: $size;\n    border-radius: 50%;\n}\n\n// Creates a square element with $size width and height\n@mixin square($size) {\n    width: $size;\n    height: $size;\n}\n\n// Images\n// -----------------------------------\n\n// Background image fully covers element\n@mixin fillCenteredBg($url: '', $position: center) {\n    background-size: cover;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Background image sits contained inside the element (letterbox effect)\n@mixin containCenteredBg($url: '', $position: center) {\n    background-size: contain;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Other\n// -----------------------------------// Units\n// -----------------------------------\n\n// Proportianal font scaling  based of $baseWidth, base font size is 10px when viewport width === $baseWidth\n@mixin baseFontSizeVW($baseWidth: 1920) {\n    $base-font-size: 10;\n\n    font-size: $base-font-size / $baseWidth * 100 + 0vw;\n}\n\n// Use letter spacing value from Photoshop\n// @mixin letterSpacing( 100 );\n@mixin letterSpacing($spacing: 0) {\n    letter-spacing: $spacing / 1000 * 1em;\n    // text-indent: $spacing / 1000 * 1em;\n}\n\n@mixin svgStroke($width: 2, $color: currentColor) {\n    stroke: $color;\n    stroke-width: $width;\n    // stroke-linecap: round;\n    // stroke-linejoin: round;\n}\n\n// USAGE -------\n// @mixin sudo(before, {\n//      width: 100px;\n//      height: 100px;\n// });\n\n// Creates a sudo element, $type can be before|after\n@mixin sudo($type: before) {\n    &:#{$type} {\n        content: '';\n        @content;\n    }\n}\n\n// Selector for desktop/devices with mouse\n@mixin pointerDevice {\n    @media (pointer: fine) {\n        @content;\n    }\n\n    .desktop.ie &,\n    .desktop.firefox & {\n        @content;\n    }\n}\n\n// Selector for touch devices\n@mixin touchDevice {\n    @media (any-pointer: coarse) {\n        @content;\n    }\n}\n\n// Aligns hover action between touch and pointer devices\n@mixin hover {\n    @include pointerDevice {\n        &:hover {\n            @content;\n        }\n    }\n    @include touchDevice {\n        &:active,\n        &.android-active {\n            @content;\n        }\n    }\n}\n\n// USAGE -------\n// @mixin pxToRem( font-size, 24px );\n\n// Converts a css $property from px to rem\n@mixin pxToRem($property: 'margin-bottom', $value: 0) {\n    $pxValue: unit($value, px);\n    $remValue: unit($value / 10, rem);\n    #{$property}: $pxValue;\n    #{$property}: $remValue;\n}\n\n// Sets cursor to grabbing\n@mixin grabbingCursor() {\n    cursor: grab;\n    cursor: -webkit-grab;\n    &:active {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n    }\n}\n"],sourceRoot:""}]);const r=a},7706:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,'.btnSecondary{padding-bottom:0.1rem;position:relative;display:flex;align-items:center;pointer-events:auto;color:black;color:var(--btnColor, black);font-size:1.6rem;opacity:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:"Adobe Clean",system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-weight:600}.btnSecondary:before{content:\'\';top:-1rem;right:-1rem;bottom:-1rem;left:-1rem;position:absolute}.btnSecondary a{top:0;left:0;width:100%;height:100%;position:absolute}.btnSecondary__icon{margin-left:0.7rem;width:1rem;height:1rem}\n',"",{version:3,sources:["webpack://./component/btn-secondary/index.scss","webpack://./style/mixins/fonts.scss","webpack://./style/mixins/utils.scss"],names:[],mappings:"AAGA,cAEI,qBAAsB,CACtB,iBAAkB,CAClB,YAAa,CACb,kBAAmB,CAEnB,mBAAoB,CACpB,WAA6B,CAA7B,4BAA6B,CAC7B,gBAAiB,CAEjB,SAAU,CCVV,iCAAkC,CAClC,kCAAmC,CAmBnC,gOAZ0C,CAa1C,eAAgB,CDtBpB,qBE6KQ,UAAW,CAjKf,SFIgC,CEJhC,WFIgC,CEJhC,YFIgC,CEJhC,UFIgC,CEHhC,iBAFgD,CFXpD,gBEGI,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CFmB1B,oBAGG,kBAAmB,CE4FvB,UF1FwB,CE2FxB,WF3FwB",sourcesContent:["$CDN:\"/\";\n@import 'style/shared';\n\n.btnSecondary {\n    // padding: 0 2rem;\n    padding-bottom: 0.1rem;\n    position: relative;\n    display: flex;\n    align-items: center;\n    \n    pointer-events: auto;\n    color: var(--btnColor, black);\n    font-size: 1.6rem;\n\n    opacity: 0;\n\n    @include fontAdobeBold;\n\n    @include sudo {\n        @include fillContainer(-1rem);\n    }\n\n    a {\n        @include fill;\n    }\n\n    &__icon {\n        margin-left: 0.7rem;\n        \n        @include square(1rem);\n        // @include svgStroke;\n    }\n}\n","// Font configuration\n// ------------------\n\n@mixin fontSmoothing() {\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-font-smoothing: antialiased;\n}\n\n// Font faces\n// ----------\n\n$fallbackFont: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans',\n    'Droid Sans', 'Helvetica Neue', sans-serif;\n\n@mixin fontAdobeRegular() {\n    @include fontSmoothing;\n\n    font-family: 'Adobe Clean', $fallbackFont;\n    font-weight: 400;\n}\n\n@mixin fontAdobeBold() {\n    @include fontSmoothing;\n\n    font-family: 'Adobe Clean', $fallbackFont;\n    font-weight: 600;\n}\n\n// @mixin fontAdobeBoldCondensed() {\n//     @include fontSmoothing;\n\n//     font-family: 'Adobe Clean Semi Condensed', $fallbackFont;\n//     font-weight: 400;\n// }\n\n\n@mixin fontBold() {\n    @include fontSmoothing;\n\n    font-family: 'Greed', $fallbackFont;\n    font-weight: 500;\n}\n\n// @mixin fontHeavy() {\n//     @include fontSmoothing;\n\n//     font-family: 'Greed', $fallbackFont;\n//     font-weight: 700;\n// }\n\n@mixin fontBody {\n    font-size: 1.6rem;\n\n    // letter-spacing: 0.015em;\n\n    @include fontAdobeBold;\n}\n\n@mixin fontTitle1 {\n    font-size: 15.5rem;\n    line-height: 0.77;\n    margin-left: -0.04em;\n    letter-spacing: -0.035em;\n    text-transform: uppercase;\n\n    @include fontBold;\n\n    @include mobile {\n        font-size: 5.5rem;\n    }\n}\n\n@mixin fontTitle2 {\n    font-size: 1.6rem;\n    text-transform: uppercase;\n    \n    // font-size: 1.6rem;\n    // margin-left: -0.04em;\n    // letter-spacing: -0.01em;\n\n    @include fontAdobeBold;\n\n    @include mobile {\n        font-size: 1.6rem;\n    }\n}\n","// -----------------------------------\n// Layout\n// -----------------------------------\n\n// Fills to the bounds of the container element\n@mixin fill($position: absolute) {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: $position;\n}\n\n// Fills to the bounds of the container element, including an offset (grow or shrink the bounds)\n@mixin fillContainer($offset: 0, $position: absolute) {\n    inset: $offset;\n    position: $position;\n}\n\n// Sets the elements position to either top-left|top-right|bottom-left|bottom-right\n@mixin position($ruleA: top, $ruleB: left, $position: absolute) {\n    #{$ruleA}: 0;\n    #{$ruleB}: 0;\n\n    position: $position;\n}\n\n// USAGE -------\n// @mixin aspectRatio( $aspect-16x9 );\n\n@mixin aspectRatio($ratio) {\n    &::before {\n        content: '';\n        display: block;\n        padding-top: ($ratio * 100%);\n    }\n}\n\n// USAGE -------\n// @mixin centerAlign(100px, 100px);\n\n// Center aligns the element within its container, given a width & height\n@mixin centerAlign($width: 0, $height: 0) {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    margin-top: -$height/2;\n    margin-left: -$width/2;\n}\n\n// Center aligns the element within its container, regardless of width & height\n@mixin centerAlignTransform() {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n}\n\n// Centers the children within the element. $direction variable can be row|column\n@mixin flexCenter($direction: column) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: $direction;\n}\n\n// Old school technique to vertically center content\n@mixin addVerticalCentering() {\n    &::before {\n        content: '';\n        display: inline-block;\n        vertical-align: middle;\n        width: 0;\n        height: 100%;\n    }\n}\n\n// Full width element which centers when viewport width > $max-width\n@mixin constrainWidth($max-width: $app-width) {\n    margin: auto;\n    position: relative;\n\n    width: 100%;\n    max-width: $max-width;\n}\n\n// Full width element which centers when viewport width > $max-width, plus fills height\n@mixin constrainWidthFillHeight {\n    @include constrainWidth();\n\n    height: 100%;\n}\n\n@mixin imgFillContainer($align: top-left) {\n    @if $align = top-left {\n        top: 0;\n        left: 0;\n    } @else if $align = center {\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    max-width: 100%;\n    max-height: 100%;\n    min-width: 100%;\n    min-height: 100%;\n    position: absolute;\n}\n\n// Creates a circle element with $size width and height\n@mixin circle($size) {\n    width: $size;\n    height: $size;\n    border-radius: 50%;\n}\n\n// Creates a square element with $size width and height\n@mixin square($size) {\n    width: $size;\n    height: $size;\n}\n\n// Images\n// -----------------------------------\n\n// Background image fully covers element\n@mixin fillCenteredBg($url: '', $position: center) {\n    background-size: cover;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Background image sits contained inside the element (letterbox effect)\n@mixin containCenteredBg($url: '', $position: center) {\n    background-size: contain;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Other\n// -----------------------------------// Units\n// -----------------------------------\n\n// Proportianal font scaling  based of $baseWidth, base font size is 10px when viewport width === $baseWidth\n@mixin baseFontSizeVW($baseWidth: 1920) {\n    $base-font-size: 10;\n\n    font-size: $base-font-size / $baseWidth * 100 + 0vw;\n}\n\n// Use letter spacing value from Photoshop\n// @mixin letterSpacing( 100 );\n@mixin letterSpacing($spacing: 0) {\n    letter-spacing: $spacing / 1000 * 1em;\n    // text-indent: $spacing / 1000 * 1em;\n}\n\n@mixin svgStroke($width: 2, $color: currentColor) {\n    stroke: $color;\n    stroke-width: $width;\n    // stroke-linecap: round;\n    // stroke-linejoin: round;\n}\n\n// USAGE -------\n// @mixin sudo(before, {\n//      width: 100px;\n//      height: 100px;\n// });\n\n// Creates a sudo element, $type can be before|after\n@mixin sudo($type: before) {\n    &:#{$type} {\n        content: '';\n        @content;\n    }\n}\n\n// Selector for desktop/devices with mouse\n@mixin pointerDevice {\n    @media (pointer: fine) {\n        @content;\n    }\n\n    .desktop.ie &,\n    .desktop.firefox & {\n        @content;\n    }\n}\n\n// Selector for touch devices\n@mixin touchDevice {\n    @media (any-pointer: coarse) {\n        @content;\n    }\n}\n\n// Aligns hover action between touch and pointer devices\n@mixin hover {\n    @include pointerDevice {\n        &:hover {\n            @content;\n        }\n    }\n    @include touchDevice {\n        &:active,\n        &.android-active {\n            @content;\n        }\n    }\n}\n\n// USAGE -------\n// @mixin pxToRem( font-size, 24px );\n\n// Converts a css $property from px to rem\n@mixin pxToRem($property: 'margin-bottom', $value: 0) {\n    $pxValue: unit($value, px);\n    $remValue: unit($value / 10, rem);\n    #{$property}: $pxValue;\n    #{$property}: $remValue;\n}\n\n// Sets cursor to grabbing\n@mixin grabbingCursor() {\n    cursor: grab;\n    cursor: -webkit-grab;\n    &:active {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n    }\n}\n"],sourceRoot:""}]);const r=a},3685:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,".btnTutorial{display:flex;align-items:center;justify-content:center;flex-direction:column;pointer-events:auto;font-size:14px;white-space:nowrap}\n","",{version:3,sources:["webpack://./component/btn-tutorial/index.scss","webpack://./style/mixins/utils.scss"],names:[],mappings:"AAGA,aCyDI,YAAa,CACb,kBAAmB,CACnB,sBAAuB,CACvB,qBAJgC,CDrDhC,mBAAoB,CAEpB,cAAe,CACf,kBAAmB",sourcesContent:["$CDN:\"/\";\n@import 'style/shared';\n\n.btnTutorial {\n    @include flexCenter;\n\n    pointer-events: auto;\n    \n    font-size: 14px;\n    white-space: nowrap;\n}\n","// -----------------------------------\n// Layout\n// -----------------------------------\n\n// Fills to the bounds of the container element\n@mixin fill($position: absolute) {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: $position;\n}\n\n// Fills to the bounds of the container element, including an offset (grow or shrink the bounds)\n@mixin fillContainer($offset: 0, $position: absolute) {\n    inset: $offset;\n    position: $position;\n}\n\n// Sets the elements position to either top-left|top-right|bottom-left|bottom-right\n@mixin position($ruleA: top, $ruleB: left, $position: absolute) {\n    #{$ruleA}: 0;\n    #{$ruleB}: 0;\n\n    position: $position;\n}\n\n// USAGE -------\n// @mixin aspectRatio( $aspect-16x9 );\n\n@mixin aspectRatio($ratio) {\n    &::before {\n        content: '';\n        display: block;\n        padding-top: ($ratio * 100%);\n    }\n}\n\n// USAGE -------\n// @mixin centerAlign(100px, 100px);\n\n// Center aligns the element within its container, given a width & height\n@mixin centerAlign($width: 0, $height: 0) {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    margin-top: -$height/2;\n    margin-left: -$width/2;\n}\n\n// Center aligns the element within its container, regardless of width & height\n@mixin centerAlignTransform() {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n}\n\n// Centers the children within the element. $direction variable can be row|column\n@mixin flexCenter($direction: column) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: $direction;\n}\n\n// Old school technique to vertically center content\n@mixin addVerticalCentering() {\n    &::before {\n        content: '';\n        display: inline-block;\n        vertical-align: middle;\n        width: 0;\n        height: 100%;\n    }\n}\n\n// Full width element which centers when viewport width > $max-width\n@mixin constrainWidth($max-width: $app-width) {\n    margin: auto;\n    position: relative;\n\n    width: 100%;\n    max-width: $max-width;\n}\n\n// Full width element which centers when viewport width > $max-width, plus fills height\n@mixin constrainWidthFillHeight {\n    @include constrainWidth();\n\n    height: 100%;\n}\n\n@mixin imgFillContainer($align: top-left) {\n    @if $align = top-left {\n        top: 0;\n        left: 0;\n    } @else if $align = center {\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    max-width: 100%;\n    max-height: 100%;\n    min-width: 100%;\n    min-height: 100%;\n    position: absolute;\n}\n\n// Creates a circle element with $size width and height\n@mixin circle($size) {\n    width: $size;\n    height: $size;\n    border-radius: 50%;\n}\n\n// Creates a square element with $size width and height\n@mixin square($size) {\n    width: $size;\n    height: $size;\n}\n\n// Images\n// -----------------------------------\n\n// Background image fully covers element\n@mixin fillCenteredBg($url: '', $position: center) {\n    background-size: cover;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Background image sits contained inside the element (letterbox effect)\n@mixin containCenteredBg($url: '', $position: center) {\n    background-size: contain;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Other\n// -----------------------------------// Units\n// -----------------------------------\n\n// Proportianal font scaling  based of $baseWidth, base font size is 10px when viewport width === $baseWidth\n@mixin baseFontSizeVW($baseWidth: 1920) {\n    $base-font-size: 10;\n\n    font-size: $base-font-size / $baseWidth * 100 + 0vw;\n}\n\n// Use letter spacing value from Photoshop\n// @mixin letterSpacing( 100 );\n@mixin letterSpacing($spacing: 0) {\n    letter-spacing: $spacing / 1000 * 1em;\n    // text-indent: $spacing / 1000 * 1em;\n}\n\n@mixin svgStroke($width: 2, $color: currentColor) {\n    stroke: $color;\n    stroke-width: $width;\n    // stroke-linecap: round;\n    // stroke-linejoin: round;\n}\n\n// USAGE -------\n// @mixin sudo(before, {\n//      width: 100px;\n//      height: 100px;\n// });\n\n// Creates a sudo element, $type can be before|after\n@mixin sudo($type: before) {\n    &:#{$type} {\n        content: '';\n        @content;\n    }\n}\n\n// Selector for desktop/devices with mouse\n@mixin pointerDevice {\n    @media (pointer: fine) {\n        @content;\n    }\n\n    .desktop.ie &,\n    .desktop.firefox & {\n        @content;\n    }\n}\n\n// Selector for touch devices\n@mixin touchDevice {\n    @media (any-pointer: coarse) {\n        @content;\n    }\n}\n\n// Aligns hover action between touch and pointer devices\n@mixin hover {\n    @include pointerDevice {\n        &:hover {\n            @content;\n        }\n    }\n    @include touchDevice {\n        &:active,\n        &.android-active {\n            @content;\n        }\n    }\n}\n\n// USAGE -------\n// @mixin pxToRem( font-size, 24px );\n\n// Converts a css $property from px to rem\n@mixin pxToRem($property: 'margin-bottom', $value: 0) {\n    $pxValue: unit($value, px);\n    $remValue: unit($value / 10, rem);\n    #{$property}: $pxValue;\n    #{$property}: $remValue;\n}\n\n// Sets cursor to grabbing\n@mixin grabbingCursor() {\n    cursor: grab;\n    cursor: -webkit-grab;\n    &:active {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n    }\n}\n"],sourceRoot:""}]);const r=a},970:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const r=a},277:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,'.finalCountdown{top:13rem;left:50%;position:absolute;width:20rem;margin-left:-10rem;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:"Adobe Clean",system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-weight:600;font-size:2.4rem;text-align:center;letter-spacing:-0.035em}@media only screen and (min-width: 769px){.finalCountdown{top:6rem;font-size:2.8rem}}\n',"",{version:3,sources:["webpack://./component/sections/experience/final-countdown/index.scss","webpack://./style/mixins/fonts.scss"],names:[],mappings:"AAGA,gBACI,SAAU,CACV,QAAS,CACT,iBAAkB,CAClB,WAAY,CACZ,kBAAmB,CCJnB,iCAAkC,CAClC,kCAAmC,CAmBnC,gOAZ0C,CAa1C,eAAgB,CDdhB,gBAAiB,CACjB,iBAAkB,CAClB,uBAAwB,CAM3B,0CAhBD,gBAaQ,QAAS,CACT,gBAAiB,CAExB",sourcesContent:["$CDN:\"/\";\n@import 'style/shared';\n\n.finalCountdown {\n    top: 13rem;\n    left: 50%;\n    position: absolute;\n    width: 20rem;\n    margin-left: -10rem;\n    \n    @include fontAdobeBold;\n    font-size: 2.4rem;\n    text-align: center;\n    letter-spacing: -0.035em;\n    \n    @include desktop {\n        top: 6rem;\n        font-size: 2.8rem;\n    }\n}\n","// Font configuration\n// ------------------\n\n@mixin fontSmoothing() {\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-font-smoothing: antialiased;\n}\n\n// Font faces\n// ----------\n\n$fallbackFont: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans',\n    'Droid Sans', 'Helvetica Neue', sans-serif;\n\n@mixin fontAdobeRegular() {\n    @include fontSmoothing;\n\n    font-family: 'Adobe Clean', $fallbackFont;\n    font-weight: 400;\n}\n\n@mixin fontAdobeBold() {\n    @include fontSmoothing;\n\n    font-family: 'Adobe Clean', $fallbackFont;\n    font-weight: 600;\n}\n\n// @mixin fontAdobeBoldCondensed() {\n//     @include fontSmoothing;\n\n//     font-family: 'Adobe Clean Semi Condensed', $fallbackFont;\n//     font-weight: 400;\n// }\n\n\n@mixin fontBold() {\n    @include fontSmoothing;\n\n    font-family: 'Greed', $fallbackFont;\n    font-weight: 500;\n}\n\n// @mixin fontHeavy() {\n//     @include fontSmoothing;\n\n//     font-family: 'Greed', $fallbackFont;\n//     font-weight: 700;\n// }\n\n@mixin fontBody {\n    font-size: 1.6rem;\n\n    // letter-spacing: 0.015em;\n\n    @include fontAdobeBold;\n}\n\n@mixin fontTitle1 {\n    font-size: 15.5rem;\n    line-height: 0.77;\n    margin-left: -0.04em;\n    letter-spacing: -0.035em;\n    text-transform: uppercase;\n\n    @include fontBold;\n\n    @include mobile {\n        font-size: 5.5rem;\n    }\n}\n\n@mixin fontTitle2 {\n    font-size: 1.6rem;\n    text-transform: uppercase;\n    \n    // font-size: 1.6rem;\n    // margin-left: -0.04em;\n    // letter-spacing: -0.01em;\n\n    @include fontAdobeBold;\n\n    @include mobile {\n        font-size: 1.6rem;\n    }\n}\n"],sourceRoot:""}]);const r=a},5923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,".experience{pointer-events:none}.experience__collected{position:absolute;top:10rem;left:50%;transform:translateX(-50%);pointer-events:auto;letter-spacing:-0.035em}@media only screen and (min-width: 769px){.experience__collected{top:3rem}}.experience__introTitle,.experience__startTitle{opacity:0;top:50%;left:50%;position:absolute;transform:translate(-50%, -50%)}.experience .btnCollect{left:var(--sideMargin);bottom:var(--sideMargin);position:absolute}.experience .btnTutorial{line-height:0.9;left:var(--sideMargin);bottom:var(--sideMargin);position:absolute;z-index:200}@media only screen and (min-width: 769px){.experience .btnTutorial{left:auto;left:initial;right:10rem}}\n","",{version:3,sources:["webpack://./component/sections/experience/index.scss","webpack://./style/mixins/utils.scss","webpack://./style/base/variables.scss"],names:[],mappings:"AAGA,YAII,mBAAoB,CAEpB,uBACI,iBAAkB,CAClB,SAAU,CACV,QAAS,CACT,0BAA2B,CAE3B,mBAAoB,CACpB,uBAAwB,CAK3B,0CAZD,uBAUQ,QAAS,CAEhB,CAED,gDAEI,SAAU,CC2Bd,OAAQ,CACR,QAAS,CACT,iBAAkB,CAClB,+BAAgC,CDpDpC,wBA2BQ,sBAAuB,CACvB,wBAAyB,CACzB,iBAAkB,CA7B1B,yBAiCQ,eAAgB,CAChB,sBAAuB,CACvB,wBAAyB,CACzB,iBAAkB,CAClB,WE1BO,CFgCV,0CA3CL,yBAwCY,SAAa,CAAb,YAAa,CACb,WAAY,CAEnB",sourcesContent:["$CDN:\"/\";\n@import 'style/shared';\n\n.experience {\n    // @include fill;\n    // @include flexCenter;\n\n    pointer-events: none;\n\n    &__collected {\n        position: absolute;\n        top: 10rem;\n        left: 50%;\n        transform: translateX(-50%);\n        \n        pointer-events: auto;\n        letter-spacing: -0.035em;\n        \n        @include desktop {\n            top: 3rem;\n        }\n    }\n\n    &__introTitle,\n    &__startTitle {\n        opacity: 0;\n        @include centerAlignTransform;\n    }\n\n    .btnCollect {\n        left: var(--sideMargin);\n        bottom: var(--sideMargin);\n        position: absolute;\n    }\n\n    .btnTutorial {\n        line-height: 0.9;\n        left: var(--sideMargin);\n        bottom: var(--sideMargin);\n        position: absolute;\n        z-index: $z-index-shell;\n        \n        @include desktop {\n            left: initial;\n            right: 10rem;\n        }\n    }\n}\n","// -----------------------------------\n// Layout\n// -----------------------------------\n\n// Fills to the bounds of the container element\n@mixin fill($position: absolute) {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: $position;\n}\n\n// Fills to the bounds of the container element, including an offset (grow or shrink the bounds)\n@mixin fillContainer($offset: 0, $position: absolute) {\n    inset: $offset;\n    position: $position;\n}\n\n// Sets the elements position to either top-left|top-right|bottom-left|bottom-right\n@mixin position($ruleA: top, $ruleB: left, $position: absolute) {\n    #{$ruleA}: 0;\n    #{$ruleB}: 0;\n\n    position: $position;\n}\n\n// USAGE -------\n// @mixin aspectRatio( $aspect-16x9 );\n\n@mixin aspectRatio($ratio) {\n    &::before {\n        content: '';\n        display: block;\n        padding-top: ($ratio * 100%);\n    }\n}\n\n// USAGE -------\n// @mixin centerAlign(100px, 100px);\n\n// Center aligns the element within its container, given a width & height\n@mixin centerAlign($width: 0, $height: 0) {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    margin-top: -$height/2;\n    margin-left: -$width/2;\n}\n\n// Center aligns the element within its container, regardless of width & height\n@mixin centerAlignTransform() {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n}\n\n// Centers the children within the element. $direction variable can be row|column\n@mixin flexCenter($direction: column) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: $direction;\n}\n\n// Old school technique to vertically center content\n@mixin addVerticalCentering() {\n    &::before {\n        content: '';\n        display: inline-block;\n        vertical-align: middle;\n        width: 0;\n        height: 100%;\n    }\n}\n\n// Full width element which centers when viewport width > $max-width\n@mixin constrainWidth($max-width: $app-width) {\n    margin: auto;\n    position: relative;\n\n    width: 100%;\n    max-width: $max-width;\n}\n\n// Full width element which centers when viewport width > $max-width, plus fills height\n@mixin constrainWidthFillHeight {\n    @include constrainWidth();\n\n    height: 100%;\n}\n\n@mixin imgFillContainer($align: top-left) {\n    @if $align = top-left {\n        top: 0;\n        left: 0;\n    } @else if $align = center {\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    max-width: 100%;\n    max-height: 100%;\n    min-width: 100%;\n    min-height: 100%;\n    position: absolute;\n}\n\n// Creates a circle element with $size width and height\n@mixin circle($size) {\n    width: $size;\n    height: $size;\n    border-radius: 50%;\n}\n\n// Creates a square element with $size width and height\n@mixin square($size) {\n    width: $size;\n    height: $size;\n}\n\n// Images\n// -----------------------------------\n\n// Background image fully covers element\n@mixin fillCenteredBg($url: '', $position: center) {\n    background-size: cover;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Background image sits contained inside the element (letterbox effect)\n@mixin containCenteredBg($url: '', $position: center) {\n    background-size: contain;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Other\n// -----------------------------------// Units\n// -----------------------------------\n\n// Proportianal font scaling  based of $baseWidth, base font size is 10px when viewport width === $baseWidth\n@mixin baseFontSizeVW($baseWidth: 1920) {\n    $base-font-size: 10;\n\n    font-size: $base-font-size / $baseWidth * 100 + 0vw;\n}\n\n// Use letter spacing value from Photoshop\n// @mixin letterSpacing( 100 );\n@mixin letterSpacing($spacing: 0) {\n    letter-spacing: $spacing / 1000 * 1em;\n    // text-indent: $spacing / 1000 * 1em;\n}\n\n@mixin svgStroke($width: 2, $color: currentColor) {\n    stroke: $color;\n    stroke-width: $width;\n    // stroke-linecap: round;\n    // stroke-linejoin: round;\n}\n\n// USAGE -------\n// @mixin sudo(before, {\n//      width: 100px;\n//      height: 100px;\n// });\n\n// Creates a sudo element, $type can be before|after\n@mixin sudo($type: before) {\n    &:#{$type} {\n        content: '';\n        @content;\n    }\n}\n\n// Selector for desktop/devices with mouse\n@mixin pointerDevice {\n    @media (pointer: fine) {\n        @content;\n    }\n\n    .desktop.ie &,\n    .desktop.firefox & {\n        @content;\n    }\n}\n\n// Selector for touch devices\n@mixin touchDevice {\n    @media (any-pointer: coarse) {\n        @content;\n    }\n}\n\n// Aligns hover action between touch and pointer devices\n@mixin hover {\n    @include pointerDevice {\n        &:hover {\n            @content;\n        }\n    }\n    @include touchDevice {\n        &:active,\n        &.android-active {\n            @content;\n        }\n    }\n}\n\n// USAGE -------\n// @mixin pxToRem( font-size, 24px );\n\n// Converts a css $property from px to rem\n@mixin pxToRem($property: 'margin-bottom', $value: 0) {\n    $pxValue: unit($value, px);\n    $remValue: unit($value / 10, rem);\n    #{$property}: $pxValue;\n    #{$property}: $remValue;\n}\n\n// Sets cursor to grabbing\n@mixin grabbingCursor() {\n    cursor: grab;\n    cursor: -webkit-grab;\n    &:active {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n    }\n}\n","// Aspect ratio\n// ------\n$aspect-1x1: 1;\n$aspect-2x3: 3/2;\n$aspect-3x2: 2/3;\n$aspect-3x4: 4/3;\n$aspect-4x3: 3/4;\n$aspect-16x9: 9/16;\n$aspect-9x16: 16/9;\n\n// Z-index\n// -------\n$z-index-0: 0;\n$z-index-1: 100;\n$z-index-2: 200;\n$z-index-3: 300;\n$z-index-4: 400;\n$z-index-5: 500;\n$z-index-6: 600;\n$z-index-7: 700;\n$z-index-8: 800;\n$z-index-9: 900;\n$z-index-10: 1000;\n\n// Easings\n// -------\n// Linear\n$ease-linear: cubic-bezier(0.25, 0.25, 0.75, 0.75);\n// Sine\n$ease-in-sine: cubic-bezier(0.47, 0, 0.745, 0.715);\n$ease-out-sine: cubic-bezier(0.39, 0.575, 0.565, 1);\n$ease-in-out-sine: cubic-bezier(0.445, 0.05, 0.55, 0.95);\n// Quad\n$ease-in-quad: cubic-bezier(0.55, 0.085, 0.68, 0.53);\n$ease-out-quad: cubic-bezier(0.25, 0.46, 0.45, 0.94);\n$ease-in-out-quad: cubic-bezier(0.455, 0.03, 0.515, 0.955);\n// Cubic\n$ease-in-cubic: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n$ease-out-cubic: cubic-bezier(0.215, 0.61, 0.355, 1);\n$ease-in-out-cubic: cubic-bezier(0.645, 0.045, 0.355, 1);\n// Quart\n$ease-in-quart: cubic-bezier(0.895, 0.03, 0.685, 0.22);\n$ease-out-quart: cubic-bezier(0.165, 0.84, 0.44, 1);\n$ease-in-out-quart: cubic-bezier(0.77, 0, 0.175, 1);\n// Quint\n$ease-in-quint: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n$ease-out-quint: cubic-bezier(0.23, 1, 0.32, 1);\n$ease-in-out-quint: cubic-bezier(0.86, 0, 0.07, 1);\n// Expo\n$ease-in-expo: cubic-bezier(0.95, 0.05, 0.795, 0.035);\n$ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);\n$ease-in-out-expo: cubic-bezier(1, 0, 0, 1);\n// Circ\n$ease-in-circ: cubic-bezier(0.6, 0.04, 0.98, 0.335);\n$ease-out-circ: cubic-bezier(0.075, 0.82, 0.165, 1);\n$ease-in-out-circ: cubic-bezier(0.785, 0.135, 0.15, 0.86);\n// Back\n$ease-in-back: cubic-bezier(0.6, -0.28, 0.735, 0.045);\n$ease-out-back: cubic-bezier(0.175, 0.885, 0.32, 1.275);\n$ease-in-out-back: cubic-bezier(0.68, -0.55, 0.265, 1.55);\n"],sourceRoot:""}]);const r=a},8560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,".titleAndSubtitle{top:50%;left:50%;position:absolute;transform:translate(-50%, -50%);pointer-events:none}.titleAndSubtitle__copy{text-align:center;position:relative}.titleAndSubtitle__title{white-space:nowrap}@media only screen and (max-width: 768px){.titleAndSubtitle__subtitle{width:26rem;margin:2rem auto 0}}@media only screen and (min-width: 769px){.titleAndSubtitle__subtitle{margin-top:3rem}}\n","",{version:3,sources:["webpack://./component/sections/experience/title-and-subtitle/index.scss","webpack://./style/mixins/utils.scss","webpack://./style/mixins/breakpoints.scss"],names:[],mappings:"AAGA,kBCiDI,OAAQ,CACR,QAAS,CACT,iBAAkB,CAClB,+BAAgC,CDjDhC,mBAAoB,CAEpB,wBACI,iBAAkB,CAClB,iBAAkB,CAKrB,yBAGO,kBAAmB,CACtB,0CAED,4BAEQ,WAAY,CACZ,kBAAmB,CAM1B,CEWL,0CFpBI,4BAOQ,eAAgB,CAEvB",sourcesContent:["$CDN:\"/\";\n@import 'style/shared';\n\n.titleAndSubtitle {\n    @include centerAlignTransform;\n\n    pointer-events: none;\n\n    &__copy {\n        text-align: center;\n        position: relative;\n        \n        // .titleLarge__text {\n        //     transform-origin: center bottom;\n        // }\n    }\n\n        &__title {\n            white-space: nowrap;\n        }\n\n        &__subtitle {\n            @include mobile {\n                width: 26rem;\n                margin: 2rem auto 0;\n            }\n            \n            @include desktop {\n                margin-top: 3rem;\n            }\n        }\n}\n","// -----------------------------------\n// Layout\n// -----------------------------------\n\n// Fills to the bounds of the container element\n@mixin fill($position: absolute) {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: $position;\n}\n\n// Fills to the bounds of the container element, including an offset (grow or shrink the bounds)\n@mixin fillContainer($offset: 0, $position: absolute) {\n    inset: $offset;\n    position: $position;\n}\n\n// Sets the elements position to either top-left|top-right|bottom-left|bottom-right\n@mixin position($ruleA: top, $ruleB: left, $position: absolute) {\n    #{$ruleA}: 0;\n    #{$ruleB}: 0;\n\n    position: $position;\n}\n\n// USAGE -------\n// @mixin aspectRatio( $aspect-16x9 );\n\n@mixin aspectRatio($ratio) {\n    &::before {\n        content: '';\n        display: block;\n        padding-top: ($ratio * 100%);\n    }\n}\n\n// USAGE -------\n// @mixin centerAlign(100px, 100px);\n\n// Center aligns the element within its container, given a width & height\n@mixin centerAlign($width: 0, $height: 0) {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    margin-top: -$height/2;\n    margin-left: -$width/2;\n}\n\n// Center aligns the element within its container, regardless of width & height\n@mixin centerAlignTransform() {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n}\n\n// Centers the children within the element. $direction variable can be row|column\n@mixin flexCenter($direction: column) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: $direction;\n}\n\n// Old school technique to vertically center content\n@mixin addVerticalCentering() {\n    &::before {\n        content: '';\n        display: inline-block;\n        vertical-align: middle;\n        width: 0;\n        height: 100%;\n    }\n}\n\n// Full width element which centers when viewport width > $max-width\n@mixin constrainWidth($max-width: $app-width) {\n    margin: auto;\n    position: relative;\n\n    width: 100%;\n    max-width: $max-width;\n}\n\n// Full width element which centers when viewport width > $max-width, plus fills height\n@mixin constrainWidthFillHeight {\n    @include constrainWidth();\n\n    height: 100%;\n}\n\n@mixin imgFillContainer($align: top-left) {\n    @if $align = top-left {\n        top: 0;\n        left: 0;\n    } @else if $align = center {\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    max-width: 100%;\n    max-height: 100%;\n    min-width: 100%;\n    min-height: 100%;\n    position: absolute;\n}\n\n// Creates a circle element with $size width and height\n@mixin circle($size) {\n    width: $size;\n    height: $size;\n    border-radius: 50%;\n}\n\n// Creates a square element with $size width and height\n@mixin square($size) {\n    width: $size;\n    height: $size;\n}\n\n// Images\n// -----------------------------------\n\n// Background image fully covers element\n@mixin fillCenteredBg($url: '', $position: center) {\n    background-size: cover;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Background image sits contained inside the element (letterbox effect)\n@mixin containCenteredBg($url: '', $position: center) {\n    background-size: contain;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Other\n// -----------------------------------// Units\n// -----------------------------------\n\n// Proportianal font scaling  based of $baseWidth, base font size is 10px when viewport width === $baseWidth\n@mixin baseFontSizeVW($baseWidth: 1920) {\n    $base-font-size: 10;\n\n    font-size: $base-font-size / $baseWidth * 100 + 0vw;\n}\n\n// Use letter spacing value from Photoshop\n// @mixin letterSpacing( 100 );\n@mixin letterSpacing($spacing: 0) {\n    letter-spacing: $spacing / 1000 * 1em;\n    // text-indent: $spacing / 1000 * 1em;\n}\n\n@mixin svgStroke($width: 2, $color: currentColor) {\n    stroke: $color;\n    stroke-width: $width;\n    // stroke-linecap: round;\n    // stroke-linejoin: round;\n}\n\n// USAGE -------\n// @mixin sudo(before, {\n//      width: 100px;\n//      height: 100px;\n// });\n\n// Creates a sudo element, $type can be before|after\n@mixin sudo($type: before) {\n    &:#{$type} {\n        content: '';\n        @content;\n    }\n}\n\n// Selector for desktop/devices with mouse\n@mixin pointerDevice {\n    @media (pointer: fine) {\n        @content;\n    }\n\n    .desktop.ie &,\n    .desktop.firefox & {\n        @content;\n    }\n}\n\n// Selector for touch devices\n@mixin touchDevice {\n    @media (any-pointer: coarse) {\n        @content;\n    }\n}\n\n// Aligns hover action between touch and pointer devices\n@mixin hover {\n    @include pointerDevice {\n        &:hover {\n            @content;\n        }\n    }\n    @include touchDevice {\n        &:active,\n        &.android-active {\n            @content;\n        }\n    }\n}\n\n// USAGE -------\n// @mixin pxToRem( font-size, 24px );\n\n// Converts a css $property from px to rem\n@mixin pxToRem($property: 'margin-bottom', $value: 0) {\n    $pxValue: unit($value, px);\n    $remValue: unit($value / 10, rem);\n    #{$property}: $pxValue;\n    #{$property}: $remValue;\n}\n\n// Sets cursor to grabbing\n@mixin grabbingCursor() {\n    cursor: grab;\n    cursor: -webkit-grab;\n    &:active {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n    }\n}\n",'// Breakpoints\n// -----------\n\n$bp-mobile-threshold: 768px;\n\n// Mixins\n// ------\n\n/*\n    These mixins apply styles only when within the specified breakpoint\n    ---\n    1. Predefined breakpoints\n    2. Custom breakpoints for width\n    3. Custom breakpoints for height\n*/\n\n@mixin portrait() {\n    @media only screen and (orientation: portrait) {\n        @content;\n    }\n}\n\n@mixin landscape() {\n    @media only screen and (orientation: landscape) {\n        @content;\n    }\n}\n\n@mixin mobile() {\n    // @media only screen and (max-aspect-ratio: 3/4) {\n    //     @content;\n    // }\n    @media only screen and (max-width: $bp-mobile-threshold) {\n        @content;\n    }\n}\n\n@mixin desktop() {\n    // @media only screen and (min-aspect-ratio: 301/400) {\n    //     @content;\n    // }\n    @media only screen and (min-width: $bp-mobile-threshold + 1) {\n        @content;\n    }\n}\n\n@mixin handheldDevice {\n    .root[device="mobile"] &,\n    .root[device="tablet"] & {\n        @content;\n    }\n}\n\n@mixin desktopDevice {\n    .root[device="desktop"] & {\n        @content;\n    }\n}\n\n@mixin phoneLandscape() {\n    @media only screen and (orientation: landscape) {\n        .phone & {\n            @content;\n        }\n    }\n}\n\n@mixin fullscreen() {\n    .fullscreen & {\n        @content;\n    }\n}\n\n@mixin breakpoint($point) {\n    @if $point == mobile {\n        @include mobile();\n    }\n    @if $point == desktop {\n        @include desktop();\n    }\n}\n\n// Min width and Max width\n@mixin breakpoint-width($min, $max) {\n    @media only screen and (min-width: $min) and (max-width: $max) {\n        @content;\n    }\n}\n// Min width\n@mixin breakpoint-width-min($min) {\n    @media only screen and (min-width: $min) {\n        @content;\n    }\n}\n// Max width\n@mixin breakpoint-width-max($max) {\n    @media only screen and (max-width: $max) {\n        @content;\n    }\n}\n\n// Min height and Max height\n@mixin breakpoint-height($min, $max) {\n    @media only screen and (min-height: $min) and (max-height: $max) {\n        @content;\n    }\n}\n// Min height\n@mixin breakpoint-height-min($min) {\n    @media only screen and (min-height: $min) {\n        @content;\n    }\n}\n// Max height\n@mixin breakpoint-height-max($max) {\n    @media only screen and (max-height: $max) {\n        @content;\n    }\n}\n'],sourceRoot:""}]);const r=a},6116:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,'.treasuresGallery{top:0;left:0;width:100%;height:100%;position:absolute;color:black;cursor:auto;z-index:300;overflow:hidden;visibility:hidden;pointer-events:none}.treasuresGallery__bg{top:0;left:0;width:100%;height:100%;position:absolute;background-color:#FFFBF4;opacity:0}.treasuresGallery__inner{top:0;left:0;width:100%;height:100%;position:absolute}.root[device="mobile"] .treasuresGallery__inner,.root[device="tablet"] .treasuresGallery__inner{padding:var(--sideMargin);overflow:auto;-webkit-overflow-scrolling:touch}.root[device="desktop"] .treasuresGallery__inner{display:flex;align-items:center;justify-content:center;flex-direction:column}.root[device="mobile"] .treasuresGallery__container,.root[device="tablet"] .treasuresGallery__container{display:grid;grid-template-columns:repeat(2, 1fr);grid-gap:1.5rem;gap:1.5rem;overflow:hidden}@media only screen and (orientation: landscape){[device="tablet"] .treasuresGallery__container{max-width:80rem}}.root[device="desktop"] .treasuresGallery__container{position:absolute;will-change:transform}.treasuresGallery__overviewCopy,.treasuresGallery__endCopy{z-index:1;line-height:1.4;pointer-events:none}.root[device="mobile"] .treasuresGallery__overviewCopy,.root[device="tablet"] .treasuresGallery__overviewCopy,.root[device="mobile"] .treasuresGallery__endCopy,.root[device="tablet"] .treasuresGallery__endCopy{padding:16rem 0 7rem 0}.treasuresGallery__overviewCopy .js-textAnim,.treasuresGallery__overviewCopy .treasuresGallery__overviewTitle,.treasuresGallery__overviewCopy .treasuresGallery__endCopyTitle,.treasuresGallery__endCopy .js-textAnim,.treasuresGallery__endCopy .treasuresGallery__overviewTitle,.treasuresGallery__endCopy .treasuresGallery__endCopyTitle{opacity:0;will-change:transform}.treasuresGallery__overviewTitle,.treasuresGallery__endCopyTitle{line-height:0.9}.root[device="mobile"] .treasuresGallery__overviewTitle,.root[device="tablet"] .treasuresGallery__overviewTitle,.root[device="mobile"] .treasuresGallery__endCopyTitle,.root[device="tablet"] .treasuresGallery__endCopyTitle{font-size:3.3rem}.root[device="desktop"] .treasuresGallery__overviewTitle,.root[device="desktop"] .treasuresGallery__endCopyTitle{font-size:7.6rem}.treasuresGallery__overviewCopy{display:flex;flex-direction:column}.root[device="desktop"] .treasuresGallery__overviewCopy{left:2rem;bottom:2rem;position:absolute}.root[device="mobile"] .treasuresGallery__overviewTitle,.root[device="tablet"] .treasuresGallery__overviewTitle{margin-bottom:2rem}.root[device="desktop"] .treasuresGallery__overviewTitle{margin-top:1.5rem;order:1}.treasuresGallery__endCopy{text-align:center;letter-spacing:-0.005em;position:relative}.root[device="desktop"] .treasuresGallery__endCopy{width:90vw;pointer-events:none}.treasuresGallery__endCopyTitle{margin-bottom:3rem}.treasuresGallery__endBtns{display:flex;justify-content:center;margin-top:4rem}.treasuresGallery__endBtns>*{margin:0 0.5rem}.root[device="mobile"] .treasuresGallery__endBtns,.root[device="tablet"] .treasuresGallery__endBtns{display:flex;align-items:center;justify-content:center;flex-direction:column;margin-top:2.6rem}.root[device="mobile"] .treasuresGallery__endBtns .btnSecondary,.root[device="tablet"] .treasuresGallery__endBtns .btnSecondary{margin-top:2rem}.root[device="mobile"] .treasuresGallery .btnSurfacePainter,.root[device="tablet"] .treasuresGallery .btnSurfacePainter{margin-top:3rem}.root[device="desktop"] .treasuresGallery .btnSurfacePainter{right:2.8rem;bottom:2rem;position:absolute}.treasuresGalleryItem{color:black;will-change:transform}.root[device="mobile"] .treasuresGalleryItem,.root[device="tablet"] .treasuresGalleryItem{position:relative}.root[device="mobile"] .treasuresGalleryItem::before,.root[device="tablet"] .treasuresGalleryItem::before{content:\'\';display:block;padding-top:121.875%}.root[device="desktop"] .treasuresGalleryItem{cursor:pointer;top:0;left:0;position:absolute}.treasuresGalleryItem__bg{top:0;left:0;width:100%;height:100%;position:absolute}.treasuresGalleryItem__index{top:0;left:100%;position:absolute;padding:0 1rem;font-size:14px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:"Adobe Clean",system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-weight:400}.root[device="mobile"] .treasuresGalleryItem__index,.root[device="tablet"] .treasuresGalleryItem__index{display:none}.treasuresGalleryItem__copy{font-size:15.5rem;line-height:0.77;margin-left:-0.04em;letter-spacing:-0.035em;text-transform:uppercase;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:"Greed",system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-weight:500;font-size:3vw;width:20vw}@media only screen and (max-width: 768px){.treasuresGalleryItem__copy{font-size:5.5rem}}.treasuresGalleryItem[locked] .treasuresGalleryItem__copy{visibility:hidden}.root[device="mobile"] .treasuresGalleryItem__copy,.root[device="tablet"] .treasuresGalleryItem__copy{top:0;left:0;width:100%;height:100%;position:absolute;padding:1rem;display:flex;align-items:flex-end;justify-content:flex-start;font-size:2.2rem}.root[device="desktop"] .treasuresGalleryItem__copy{opacity:0;text-align:center;top:50%;left:50%;position:absolute;transform:translate(-50%, -50%)}.treasuresGalleryItem__img{top:0;left:0;width:100%;height:100%;position:absolute;padding:1rem;-o-object-fit:contain;object-fit:contain}.treasuresGalleryItem[locked] .treasuresGalleryItem__img{visibility:hidden}.treasuresGalleryItem__lockedText{padding:1rem;font-size:1.2rem;opacity:0;display:flex;align-items:center;justify-content:center;flex-direction:column;top:0;left:0;width:100%;height:100%;position:absolute}.root[device="mobile"] .treasuresGalleryItem__lockedText,.root[device="tablet"] .treasuresGalleryItem__lockedText{align-items:flex-start;justify-content:flex-end}.root[device="desktop"] .treasuresGalleryItem__lockedText{text-align:center}.treasuresGalleryItem[locked] .treasuresGalleryItem__lockedText{opacity:1}\n',"",{version:3,sources:["webpack://./component/sections/experience/treasures-gallery/index.scss","webpack://./style/mixins/utils.scss","webpack://./style/base/variables.scss","webpack://./style/mixins/breakpoints.scss","webpack://./style/mixins/fonts.scss"],names:[],mappings:"AAGA,kBCGI,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CDC3B,WAAY,CACZ,WAAY,CACZ,WEOW,CFNX,eAAgB,CAChB,iBAAkB,CAClB,mBAAoB,CAEpB,sBCPA,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CDUvB,wBAAyB,CACzB,SAAU,CACb,yBCXD,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CD0B1B,gGARO,yBAA0B,CAC1B,aAAc,CACd,gCAAiC,CGyBxC,iDFUD,YAAa,CACb,kBAAmB,CACnB,sBAAuB,CACvB,qBAJgC,CEZhC,wGHVQ,YAAa,CACb,oCAAqC,CACrC,eAAW,CAAX,UAAW,CACX,eAAgB,CGjBxB,gDAA8C,+CHsBlC,eAAgB,CAEvB,CGOL,qDHJQ,iBAAkB,CAClB,qBAAsB,CAI9B,2DAEI,SAAU,CACV,eAAgB,CAChB,mBAAoB,CAYvB,kNATO,sBAAuB,CAP9B,6UAaO,SAAU,CACV,qBAAsB,CACzB,iEAKG,eAAgB,CASnB,8NANO,gBAAiB,CG5B5B,iHHgCW,gBAAiB,CAI7B,gCACI,YAAa,CACb,qBAAsB,CAOzB,wDAJO,SAAU,CACV,WAAY,CACZ,iBAAkB,CG9C1B,gHHoDY,kBAAmB,CGjD9B,yDHqDW,iBAAkB,CAClB,OAAQ,CAKpB,2BACI,iBAAkB,CAClB,uBAAwB,CACxB,iBAAkB,CASrB,mDAHO,UAAW,CACX,mBAAoB,CAIxB,gCACI,kBAAmB,CACtB,2BAGG,YAAa,CACb,sBAAuB,CACvB,eAAgB,CAHnB,6BAKS,eAAgB,CAAI,oGCxElC,YAAa,CACb,kBAAmB,CACnB,sBAAuB,CACvB,qBAJgC,CD8EpB,iBAAkB,CAElB,gIACI,eAAgB,CACnB,wHAOL,eAAgB,CGlGvB,6DHsGO,YAAa,CACb,WAAY,CACZ,iBAAkB,CAK9B,sBACI,WAAY,CACZ,qBAAsB,CA8FzB,0FA3FO,iBAAkB,CCrItB,0GACI,UAAW,CACX,aAAc,CACd,oBAA4B,CAC/B,8CDsIG,cAAe,CCpJnB,KAAY,CACZ,MAAY,CAEZ,iBAJ0D,CD0J1D,0BCxKA,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CD2K1B,6BAGG,KAAM,CACN,SAAU,CACV,iBAAkB,CAClB,cAAe,CAEf,cAAe,CIpLnB,iCAAkC,CAClC,kCAAmC,CAYnC,gOAL0C,CAM1C,eAAgB,CJ6Kf,wGAFO,YAAa,CAIrB,4BItIA,iBAAkB,CAClB,gBAAiB,CACjB,mBAAoB,CACpB,uBAAwB,CACxB,wBAAyB,CA3DzB,iCAAkC,CAClC,kCAAmC,CAkCnC,0NA3B0C,CA4B1C,eAAgB,CJ4JZ,aAAc,CACd,UAAW,CAwBd,0CA5BD,4BI7HI,gBAAiB,CJyJpB,CArBG,0DACI,iBAAkB,CACrB,sGCpML,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CD0MnB,YAAa,CACb,YAAa,CACb,oBAAqB,CACrB,0BAA2B,CAE3B,gBAAiB,CGlKxB,oDHsKO,SAAU,CACV,iBAAkB,CCrK1B,OAAQ,CACR,QAAS,CACT,iBAAkB,CAClB,+BAAgC,CDwKhC,2BCzNA,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CD4NvB,YAAa,CACb,qBAAY,CAAZ,kBAAmB,CAEnB,yDACI,iBAAkB,CACrB,kCAID,YAAa,CACb,gBAAiB,CACjB,SAAU,CChLd,YAAa,CACb,kBAAmB,CACnB,sBAAuB,CACvB,qBAJgC,CArDhC,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CDwP1B,kHAXO,sBAAuB,CACvB,wBAAyB,CGjMhC,0DHqMO,iBAAkB,CAGtB,gEACI,SAAU",sourcesContent:['$CDN:"/";\n@import \'style/shared\';\n\n.treasuresGallery {\n    @include fill;\n\n    color: black;\n    cursor: auto;\n    z-index: $z-index-overlay;\n    overflow: hidden;\n    visibility: hidden;\n    pointer-events: none;\n\n    &__bg {\n        @include fill;\n        background-color: #FFFBF4;\n        opacity: 0;\n    }\n\n    &__inner {\n        @include fill;\n\n        @include handheldDevice {\n            padding: var(--sideMargin);\n            overflow: auto;\n            -webkit-overflow-scrolling: touch;\n        }\n\n        @include desktopDevice {\n            @include flexCenter;\n        }\n    }\n\n\n    &__container {\n        \n        @include handheldDevice {\n            display: grid;\n            grid-template-columns: repeat(2, 1fr);\n            gap: 1.5rem;\n            overflow: hidden;\n        }\n\n        [device="tablet"] & {\n            @include landscape {\n                max-width: 80rem;\n            }\n        }\n\n        @include desktopDevice {\n            position: absolute;\n            will-change: transform;\n        }\n    }\n\n    &__overviewCopy,\n    &__endCopy {\n        z-index: 1;\n        line-height: 1.4;\n        pointer-events: none;\n\n        @include handheldDevice {\n            padding: 16rem 0 7rem 0;\n        }\n\n        .js-textAnim,\n        .treasuresGallery__overviewTitle,\n        .treasuresGallery__endCopyTitle { \n            opacity: 0;\n            will-change: transform;\n        }\n    }\n\n        &__overviewTitle,\n        &__endCopyTitle {\n            line-height: 0.9;\n            \n            @include handheldDevice {\n                font-size: 3.3rem;\n            }\n                \n            @include desktopDevice {\n                font-size: 7.6rem;\n            }\n        }\n\n    &__overviewCopy {\n        display: flex;\n        flex-direction: column;\n\n        @include desktopDevice {\n            left: 2rem;\n            bottom: 2rem;\n            position: absolute;\n        }\n    }\n\n        &__overviewTitle {\n            @include handheldDevice {\n                margin-bottom: 2rem;\n            }\n            \n            @include desktopDevice {\n                margin-top: 1.5rem;\n                order: 1;\n            }\n        }\n\n    \n    &__endCopy {\n        text-align: center;\n        letter-spacing: -0.005em;\n        position: relative;\n\n        @include desktopDevice {\n            // @include flexCenter;\n            // @include centerAlignTransform;\n    \n            width: 90vw;\n            pointer-events: none;\n        }\n    }\n\n        &__endCopyTitle {\n            margin-bottom: 3rem;\n        }\n        \n        &__endBtns {\n            display: flex;\n            justify-content: center;\n            margin-top: 4rem;\n\n            > * { margin: 0 0.5rem; }\n\n            @include handheldDevice {\n                @include flexCenter;\n                \n                margin-top: 2.6rem;\n\n                .btnSecondary {\n                    margin-top: 2rem;\n                }\n            }\n        }\n\n\n    .btnSurfacePainter {\n        @include handheldDevice {\n            margin-top: 3rem;\n        }\n\n        @include desktopDevice {\n            right: 2.8rem;\n            bottom: 2rem;\n            position: absolute;\n        }\n    }\n}\n\n.treasuresGalleryItem {\n    color: black;\n    will-change: transform;\n\n    @include handheldDevice {\n        position: relative;\n        @include aspectRatio(195 / 160);\n    }\n\n    @include desktopDevice {\n        cursor: pointer;\n\n        @include position(top, left);\n    }\n\n    &__bg {\n        @include fill;\n    }\n\n    &__index {\n        top: 0;\n        left: 100%;\n        position: absolute;\n        padding: 0 1rem;\n\n        font-size: 14px;\n\n        @include fontAdobeRegular;\n\n        @include handheldDevice {\n            display: none;\n        }\n    }\n    \n    &__copy {\n        @include fontTitle1;\n        \n        font-size: 3vw;\n        width: 20vw;\n\n\n        .treasuresGalleryItem[locked] & {\n            visibility: hidden;\n        }\n\n        @include handheldDevice {\n            @include fill;\n\n            padding: 1rem;\n            display: flex;\n            align-items: flex-end;\n            justify-content: flex-start;\n\n            font-size: 2.2rem;\n        }\n\n        @include desktopDevice {\n            opacity: 0;\n            text-align: center;\n\n            @include centerAlignTransform;\n        }\n    }\n    \n    &__img {\n        @include fill;\n        padding: 1rem;\n        object-fit: contain;\n\n        .treasuresGalleryItem[locked] & {\n            visibility: hidden;\n        }\n    }\n\n    &__lockedText {\n        padding: 1rem;\n        font-size: 1.2rem;\n        opacity: 0;\n\n        @include flexCenter;\n        @include fill;\n        \n        @include handheldDevice {\n            align-items: flex-start;\n            justify-content: flex-end;\n        }\n        \n        @include desktopDevice {\n            text-align: center;\n        }\n\n        .treasuresGalleryItem[locked] & {\n            opacity: 1;\n        }\n    }\n\n}\n',"// -----------------------------------\n// Layout\n// -----------------------------------\n\n// Fills to the bounds of the container element\n@mixin fill($position: absolute) {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: $position;\n}\n\n// Fills to the bounds of the container element, including an offset (grow or shrink the bounds)\n@mixin fillContainer($offset: 0, $position: absolute) {\n    inset: $offset;\n    position: $position;\n}\n\n// Sets the elements position to either top-left|top-right|bottom-left|bottom-right\n@mixin position($ruleA: top, $ruleB: left, $position: absolute) {\n    #{$ruleA}: 0;\n    #{$ruleB}: 0;\n\n    position: $position;\n}\n\n// USAGE -------\n// @mixin aspectRatio( $aspect-16x9 );\n\n@mixin aspectRatio($ratio) {\n    &::before {\n        content: '';\n        display: block;\n        padding-top: ($ratio * 100%);\n    }\n}\n\n// USAGE -------\n// @mixin centerAlign(100px, 100px);\n\n// Center aligns the element within its container, given a width & height\n@mixin centerAlign($width: 0, $height: 0) {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    margin-top: -$height/2;\n    margin-left: -$width/2;\n}\n\n// Center aligns the element within its container, regardless of width & height\n@mixin centerAlignTransform() {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n}\n\n// Centers the children within the element. $direction variable can be row|column\n@mixin flexCenter($direction: column) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: $direction;\n}\n\n// Old school technique to vertically center content\n@mixin addVerticalCentering() {\n    &::before {\n        content: '';\n        display: inline-block;\n        vertical-align: middle;\n        width: 0;\n        height: 100%;\n    }\n}\n\n// Full width element which centers when viewport width > $max-width\n@mixin constrainWidth($max-width: $app-width) {\n    margin: auto;\n    position: relative;\n\n    width: 100%;\n    max-width: $max-width;\n}\n\n// Full width element which centers when viewport width > $max-width, plus fills height\n@mixin constrainWidthFillHeight {\n    @include constrainWidth();\n\n    height: 100%;\n}\n\n@mixin imgFillContainer($align: top-left) {\n    @if $align = top-left {\n        top: 0;\n        left: 0;\n    } @else if $align = center {\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    max-width: 100%;\n    max-height: 100%;\n    min-width: 100%;\n    min-height: 100%;\n    position: absolute;\n}\n\n// Creates a circle element with $size width and height\n@mixin circle($size) {\n    width: $size;\n    height: $size;\n    border-radius: 50%;\n}\n\n// Creates a square element with $size width and height\n@mixin square($size) {\n    width: $size;\n    height: $size;\n}\n\n// Images\n// -----------------------------------\n\n// Background image fully covers element\n@mixin fillCenteredBg($url: '', $position: center) {\n    background-size: cover;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Background image sits contained inside the element (letterbox effect)\n@mixin containCenteredBg($url: '', $position: center) {\n    background-size: contain;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Other\n// -----------------------------------// Units\n// -----------------------------------\n\n// Proportianal font scaling  based of $baseWidth, base font size is 10px when viewport width === $baseWidth\n@mixin baseFontSizeVW($baseWidth: 1920) {\n    $base-font-size: 10;\n\n    font-size: $base-font-size / $baseWidth * 100 + 0vw;\n}\n\n// Use letter spacing value from Photoshop\n// @mixin letterSpacing( 100 );\n@mixin letterSpacing($spacing: 0) {\n    letter-spacing: $spacing / 1000 * 1em;\n    // text-indent: $spacing / 1000 * 1em;\n}\n\n@mixin svgStroke($width: 2, $color: currentColor) {\n    stroke: $color;\n    stroke-width: $width;\n    // stroke-linecap: round;\n    // stroke-linejoin: round;\n}\n\n// USAGE -------\n// @mixin sudo(before, {\n//      width: 100px;\n//      height: 100px;\n// });\n\n// Creates a sudo element, $type can be before|after\n@mixin sudo($type: before) {\n    &:#{$type} {\n        content: '';\n        @content;\n    }\n}\n\n// Selector for desktop/devices with mouse\n@mixin pointerDevice {\n    @media (pointer: fine) {\n        @content;\n    }\n\n    .desktop.ie &,\n    .desktop.firefox & {\n        @content;\n    }\n}\n\n// Selector for touch devices\n@mixin touchDevice {\n    @media (any-pointer: coarse) {\n        @content;\n    }\n}\n\n// Aligns hover action between touch and pointer devices\n@mixin hover {\n    @include pointerDevice {\n        &:hover {\n            @content;\n        }\n    }\n    @include touchDevice {\n        &:active,\n        &.android-active {\n            @content;\n        }\n    }\n}\n\n// USAGE -------\n// @mixin pxToRem( font-size, 24px );\n\n// Converts a css $property from px to rem\n@mixin pxToRem($property: 'margin-bottom', $value: 0) {\n    $pxValue: unit($value, px);\n    $remValue: unit($value / 10, rem);\n    #{$property}: $pxValue;\n    #{$property}: $remValue;\n}\n\n// Sets cursor to grabbing\n@mixin grabbingCursor() {\n    cursor: grab;\n    cursor: -webkit-grab;\n    &:active {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n    }\n}\n","// Aspect ratio\n// ------\n$aspect-1x1: 1;\n$aspect-2x3: 3/2;\n$aspect-3x2: 2/3;\n$aspect-3x4: 4/3;\n$aspect-4x3: 3/4;\n$aspect-16x9: 9/16;\n$aspect-9x16: 16/9;\n\n// Z-index\n// -------\n$z-index-0: 0;\n$z-index-1: 100;\n$z-index-2: 200;\n$z-index-3: 300;\n$z-index-4: 400;\n$z-index-5: 500;\n$z-index-6: 600;\n$z-index-7: 700;\n$z-index-8: 800;\n$z-index-9: 900;\n$z-index-10: 1000;\n\n// Easings\n// -------\n// Linear\n$ease-linear: cubic-bezier(0.25, 0.25, 0.75, 0.75);\n// Sine\n$ease-in-sine: cubic-bezier(0.47, 0, 0.745, 0.715);\n$ease-out-sine: cubic-bezier(0.39, 0.575, 0.565, 1);\n$ease-in-out-sine: cubic-bezier(0.445, 0.05, 0.55, 0.95);\n// Quad\n$ease-in-quad: cubic-bezier(0.55, 0.085, 0.68, 0.53);\n$ease-out-quad: cubic-bezier(0.25, 0.46, 0.45, 0.94);\n$ease-in-out-quad: cubic-bezier(0.455, 0.03, 0.515, 0.955);\n// Cubic\n$ease-in-cubic: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n$ease-out-cubic: cubic-bezier(0.215, 0.61, 0.355, 1);\n$ease-in-out-cubic: cubic-bezier(0.645, 0.045, 0.355, 1);\n// Quart\n$ease-in-quart: cubic-bezier(0.895, 0.03, 0.685, 0.22);\n$ease-out-quart: cubic-bezier(0.165, 0.84, 0.44, 1);\n$ease-in-out-quart: cubic-bezier(0.77, 0, 0.175, 1);\n// Quint\n$ease-in-quint: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n$ease-out-quint: cubic-bezier(0.23, 1, 0.32, 1);\n$ease-in-out-quint: cubic-bezier(0.86, 0, 0.07, 1);\n// Expo\n$ease-in-expo: cubic-bezier(0.95, 0.05, 0.795, 0.035);\n$ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);\n$ease-in-out-expo: cubic-bezier(1, 0, 0, 1);\n// Circ\n$ease-in-circ: cubic-bezier(0.6, 0.04, 0.98, 0.335);\n$ease-out-circ: cubic-bezier(0.075, 0.82, 0.165, 1);\n$ease-in-out-circ: cubic-bezier(0.785, 0.135, 0.15, 0.86);\n// Back\n$ease-in-back: cubic-bezier(0.6, -0.28, 0.735, 0.045);\n$ease-out-back: cubic-bezier(0.175, 0.885, 0.32, 1.275);\n$ease-in-out-back: cubic-bezier(0.68, -0.55, 0.265, 1.55);\n",'// Breakpoints\n// -----------\n\n$bp-mobile-threshold: 768px;\n\n// Mixins\n// ------\n\n/*\n    These mixins apply styles only when within the specified breakpoint\n    ---\n    1. Predefined breakpoints\n    2. Custom breakpoints for width\n    3. Custom breakpoints for height\n*/\n\n@mixin portrait() {\n    @media only screen and (orientation: portrait) {\n        @content;\n    }\n}\n\n@mixin landscape() {\n    @media only screen and (orientation: landscape) {\n        @content;\n    }\n}\n\n@mixin mobile() {\n    // @media only screen and (max-aspect-ratio: 3/4) {\n    //     @content;\n    // }\n    @media only screen and (max-width: $bp-mobile-threshold) {\n        @content;\n    }\n}\n\n@mixin desktop() {\n    // @media only screen and (min-aspect-ratio: 301/400) {\n    //     @content;\n    // }\n    @media only screen and (min-width: $bp-mobile-threshold + 1) {\n        @content;\n    }\n}\n\n@mixin handheldDevice {\n    .root[device="mobile"] &,\n    .root[device="tablet"] & {\n        @content;\n    }\n}\n\n@mixin desktopDevice {\n    .root[device="desktop"] & {\n        @content;\n    }\n}\n\n@mixin phoneLandscape() {\n    @media only screen and (orientation: landscape) {\n        .phone & {\n            @content;\n        }\n    }\n}\n\n@mixin fullscreen() {\n    .fullscreen & {\n        @content;\n    }\n}\n\n@mixin breakpoint($point) {\n    @if $point == mobile {\n        @include mobile();\n    }\n    @if $point == desktop {\n        @include desktop();\n    }\n}\n\n// Min width and Max width\n@mixin breakpoint-width($min, $max) {\n    @media only screen and (min-width: $min) and (max-width: $max) {\n        @content;\n    }\n}\n// Min width\n@mixin breakpoint-width-min($min) {\n    @media only screen and (min-width: $min) {\n        @content;\n    }\n}\n// Max width\n@mixin breakpoint-width-max($max) {\n    @media only screen and (max-width: $max) {\n        @content;\n    }\n}\n\n// Min height and Max height\n@mixin breakpoint-height($min, $max) {\n    @media only screen and (min-height: $min) and (max-height: $max) {\n        @content;\n    }\n}\n// Min height\n@mixin breakpoint-height-min($min) {\n    @media only screen and (min-height: $min) {\n        @content;\n    }\n}\n// Max height\n@mixin breakpoint-height-max($max) {\n    @media only screen and (max-height: $max) {\n        @content;\n    }\n}\n',"// Font configuration\n// ------------------\n\n@mixin fontSmoothing() {\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-font-smoothing: antialiased;\n}\n\n// Font faces\n// ----------\n\n$fallbackFont: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans',\n    'Droid Sans', 'Helvetica Neue', sans-serif;\n\n@mixin fontAdobeRegular() {\n    @include fontSmoothing;\n\n    font-family: 'Adobe Clean', $fallbackFont;\n    font-weight: 400;\n}\n\n@mixin fontAdobeBold() {\n    @include fontSmoothing;\n\n    font-family: 'Adobe Clean', $fallbackFont;\n    font-weight: 600;\n}\n\n// @mixin fontAdobeBoldCondensed() {\n//     @include fontSmoothing;\n\n//     font-family: 'Adobe Clean Semi Condensed', $fallbackFont;\n//     font-weight: 400;\n// }\n\n\n@mixin fontBold() {\n    @include fontSmoothing;\n\n    font-family: 'Greed', $fallbackFont;\n    font-weight: 500;\n}\n\n// @mixin fontHeavy() {\n//     @include fontSmoothing;\n\n//     font-family: 'Greed', $fallbackFont;\n//     font-weight: 700;\n// }\n\n@mixin fontBody {\n    font-size: 1.6rem;\n\n    // letter-spacing: 0.015em;\n\n    @include fontAdobeBold;\n}\n\n@mixin fontTitle1 {\n    font-size: 15.5rem;\n    line-height: 0.77;\n    margin-left: -0.04em;\n    letter-spacing: -0.035em;\n    text-transform: uppercase;\n\n    @include fontBold;\n\n    @include mobile {\n        font-size: 5.5rem;\n    }\n}\n\n@mixin fontTitle2 {\n    font-size: 1.6rem;\n    text-transform: uppercase;\n    \n    // font-size: 1.6rem;\n    // margin-left: -0.04em;\n    // letter-spacing: -0.01em;\n\n    @include fontAdobeBold;\n\n    @include mobile {\n        font-size: 1.6rem;\n    }\n}\n"],sourceRoot:""}]);const r=a},8130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,".tutorial{top:0;left:0;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:0;pointer-events:none;color:#fff;cursor:auto}.tutorial:not([visible]){display:none}.tutorial[data-mode=\"manual\"]{pointer-events:auto}.tutorial__bg{z-index:-1;top:0;left:0;width:100%;height:100%;position:absolute;cursor:pointer;will-change:opacity;background-color:rgba(0,0,0,0.8)}.tutorial__bg:active{background-color:rgba(0,0,0,0.75)}.tutorial__box{display:flex;align-items:center;justify-content:flex-end;flex-direction:column;width:30rem;position:relative}.tutorial__box::before{content:'';display:block;padding-top:75%}.tutorial__box:before{width:100%;flex:0 0 auto}.tutorial__box-canvas{top:0;left:0;width:100%;height:100%;position:absolute}.tutorial canvas{top:0;left:0;width:100%;height:100%;position:absolute}.tutorial__cardBody{position:absolute;padding-bottom:1rem;text-align:center;will-change:opacity}.tutorial__next{position:absolute;bottom:10rem;padding:2rem;will-change:opacity}.tutorial__next:active{color:rgba(255,255,255,0.5)}\n","",{version:3,sources:["webpack://./component/sections/experience/tutorial/index.scss","webpack://./style/mixins/utils.scss","webpack://./style/app/variables.scss"],names:[],mappings:"AAGA,UCGI,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CAuD3B,YAAa,CACb,kBAAmB,CACnB,sBAAuB,CACvB,qBAJgC,CDpDhC,SAAU,CACV,mBAAoB,CAEpB,UESc,CFRd,WAAY,CARhB,yBAUuB,YAAa,CAVpC,8BAW2B,mBAAoB,CAAI,cAG3C,UAAW,CCXf,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CDcvB,cAAe,CACf,mBAAoB,CACpB,gCAAoC,CALvC,qBAMa,iCAAqC,CAAE,eAGjD,YAAa,CACb,kBAAmB,CACnB,wBAAyB,CACzB,qBAAsB,CAEtB,WAAY,CACZ,iBAAkB,CAPrB,uBCQG,UAAW,CACX,aAAc,CACd,eAA4B,CDV/B,sBAWO,UAAW,CACX,aAAc,CACjB,sBC/BL,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CDF/B,iBCGI,KAAM,CACN,MAAO,CACP,UAAW,CACX,WAAY,CACZ,iBAL2B,CDqCD,oBAEtB,iBAAkB,CAClB,mBAAoB,CACpB,iBAAkB,CAClB,mBAAoB,CACvB,gBAGG,iBAAkB,CAClB,YAAa,CACb,YAAa,CACb,mBAAoB,CAJvB,uBAKa,2BAA+B",sourcesContent:['$CDN:"/";\n@import \'style/shared\';\n\n.tutorial {\n    @include fill;\n    @include flexCenter;\n\n    z-index: 0;\n    pointer-events: none;\n    // pointer-events: auto;\n    color: $color-white;\n    cursor: auto;\n\n    &:not([visible]) { display: none; }\n    &[data-mode="manual"]{ pointer-events: auto; }\n    \n    &__bg {\n        z-index: -1;\n        @include fill;\n        cursor: pointer;\n        will-change: opacity;\n        background-color: rgba(0, 0, 0, 0.8);\n        &:active {background-color: rgba(0, 0, 0, 0.75)}\n    }\n    &__box {\n        display: flex;\n        align-items: center;\n        justify-content: flex-end;\n        flex-direction: column;\n\n        width: 30rem;\n        position: relative;\n        @include aspectRatio(3/4);\n\n        &:before {\n            width: 100%;\n            flex: 0 0 auto;\n        }\n    }\n    &__box-canvas {\n        @include fill();\n    }\n    canvas { @include fill; }\n    &__cardBody {  \n        position: absolute;\n        padding-bottom: 1rem;\n        text-align: center;\n        will-change: opacity;\n    }\n\n    &__next {\n        position: absolute;\n        bottom: 10rem;\n        padding: 2rem;\n        will-change: opacity;\n        &:active {color: rgba(255, 255, 255, 0.5)}\n    }\n}\n',"// -----------------------------------\n// Layout\n// -----------------------------------\n\n// Fills to the bounds of the container element\n@mixin fill($position: absolute) {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: $position;\n}\n\n// Fills to the bounds of the container element, including an offset (grow or shrink the bounds)\n@mixin fillContainer($offset: 0, $position: absolute) {\n    inset: $offset;\n    position: $position;\n}\n\n// Sets the elements position to either top-left|top-right|bottom-left|bottom-right\n@mixin position($ruleA: top, $ruleB: left, $position: absolute) {\n    #{$ruleA}: 0;\n    #{$ruleB}: 0;\n\n    position: $position;\n}\n\n// USAGE -------\n// @mixin aspectRatio( $aspect-16x9 );\n\n@mixin aspectRatio($ratio) {\n    &::before {\n        content: '';\n        display: block;\n        padding-top: ($ratio * 100%);\n    }\n}\n\n// USAGE -------\n// @mixin centerAlign(100px, 100px);\n\n// Center aligns the element within its container, given a width & height\n@mixin centerAlign($width: 0, $height: 0) {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    margin-top: -$height/2;\n    margin-left: -$width/2;\n}\n\n// Center aligns the element within its container, regardless of width & height\n@mixin centerAlignTransform() {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n}\n\n// Centers the children within the element. $direction variable can be row|column\n@mixin flexCenter($direction: column) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: $direction;\n}\n\n// Old school technique to vertically center content\n@mixin addVerticalCentering() {\n    &::before {\n        content: '';\n        display: inline-block;\n        vertical-align: middle;\n        width: 0;\n        height: 100%;\n    }\n}\n\n// Full width element which centers when viewport width > $max-width\n@mixin constrainWidth($max-width: $app-width) {\n    margin: auto;\n    position: relative;\n\n    width: 100%;\n    max-width: $max-width;\n}\n\n// Full width element which centers when viewport width > $max-width, plus fills height\n@mixin constrainWidthFillHeight {\n    @include constrainWidth();\n\n    height: 100%;\n}\n\n@mixin imgFillContainer($align: top-left) {\n    @if $align = top-left {\n        top: 0;\n        left: 0;\n    } @else if $align = center {\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    max-width: 100%;\n    max-height: 100%;\n    min-width: 100%;\n    min-height: 100%;\n    position: absolute;\n}\n\n// Creates a circle element with $size width and height\n@mixin circle($size) {\n    width: $size;\n    height: $size;\n    border-radius: 50%;\n}\n\n// Creates a square element with $size width and height\n@mixin square($size) {\n    width: $size;\n    height: $size;\n}\n\n// Images\n// -----------------------------------\n\n// Background image fully covers element\n@mixin fillCenteredBg($url: '', $position: center) {\n    background-size: cover;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Background image sits contained inside the element (letterbox effect)\n@mixin containCenteredBg($url: '', $position: center) {\n    background-size: contain;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Other\n// -----------------------------------// Units\n// -----------------------------------\n\n// Proportianal font scaling  based of $baseWidth, base font size is 10px when viewport width === $baseWidth\n@mixin baseFontSizeVW($baseWidth: 1920) {\n    $base-font-size: 10;\n\n    font-size: $base-font-size / $baseWidth * 100 + 0vw;\n}\n\n// Use letter spacing value from Photoshop\n// @mixin letterSpacing( 100 );\n@mixin letterSpacing($spacing: 0) {\n    letter-spacing: $spacing / 1000 * 1em;\n    // text-indent: $spacing / 1000 * 1em;\n}\n\n@mixin svgStroke($width: 2, $color: currentColor) {\n    stroke: $color;\n    stroke-width: $width;\n    // stroke-linecap: round;\n    // stroke-linejoin: round;\n}\n\n// USAGE -------\n// @mixin sudo(before, {\n//      width: 100px;\n//      height: 100px;\n// });\n\n// Creates a sudo element, $type can be before|after\n@mixin sudo($type: before) {\n    &:#{$type} {\n        content: '';\n        @content;\n    }\n}\n\n// Selector for desktop/devices with mouse\n@mixin pointerDevice {\n    @media (pointer: fine) {\n        @content;\n    }\n\n    .desktop.ie &,\n    .desktop.firefox & {\n        @content;\n    }\n}\n\n// Selector for touch devices\n@mixin touchDevice {\n    @media (any-pointer: coarse) {\n        @content;\n    }\n}\n\n// Aligns hover action between touch and pointer devices\n@mixin hover {\n    @include pointerDevice {\n        &:hover {\n            @content;\n        }\n    }\n    @include touchDevice {\n        &:active,\n        &.android-active {\n            @content;\n        }\n    }\n}\n\n// USAGE -------\n// @mixin pxToRem( font-size, 24px );\n\n// Converts a css $property from px to rem\n@mixin pxToRem($property: 'margin-bottom', $value: 0) {\n    $pxValue: unit($value, px);\n    $remValue: unit($value / 10, rem);\n    #{$property}: $pxValue;\n    #{$property}: $remValue;\n}\n\n// Sets cursor to grabbing\n@mixin grabbingCursor() {\n    cursor: grab;\n    cursor: -webkit-grab;\n    &:active {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n    }\n}\n","// Margins\n// -------\n\n$margin-desktop: 4rem;\n$margin-mobile: 2rem;\n\n// Z-index\n// -------\n\n$z-index-preloader: $z-index-10;\n$z-index-shell: $z-index-2;\n$z-index-overlay: $z-index-3;\n$z-index-logo: $z-index-4;\n$z-index-treasure-reveal: $z-index-5;\n$z-index-vo: $z-index-6;\n$z-index-max: $z-index-10 + 1;\n\n// Colors\n// ------\n$color-white: #fff;\n$color-black: #000;\n$color-gray: #9b9b9b;\n$color-light-gray: #828282;\n$color-red: #ec3030;\n"],sourceRoot:""}]);const r=a},3661:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,'.landing{pointer-events:none}.landing__copy{top:32vh;left:var(--sideMargin);position:absolute;width:30rem}@media only screen and (min-width: 769px){.landing__copy{top:auto;top:initial;bottom:10rem;width:62rem}}@media only screen and (max-width: 768px){[lang="fr"] .landing__copy{top:28vh}}.landing__preTitle{margin-bottom:1.2rem}@media only screen and (min-width: 769px){.landing__preTitle{margin-bottom:1.7rem}}.landing__body{width:20rem;margin-top:1.5rem;line-height:1.1}@media only screen and (min-width: 769px){.landing__body{position:absolute;bottom:0;left:39.5rem;height:11rem;width:30rem;margin-top:0;display:flex;align-items:center;font-size:1.6rem}}@media only screen and (min-width: 769px){[lang="de"] .landing__body{position:static}}@media only screen and (min-width: 769px){[lang="it"] .landing__body,[lang="es"] .landing__body{left:41rem}}@media only screen and (max-width: 768px){[lang="fr"] .landing__body{width:24rem}}\n',"",{version:3,sources:["webpack://./component/sections/landing/index.scss","webpack://./style/mixins/breakpoints.scss"],names:[],mappings:"AAGA,SACI,mBAAoB,CAIpB,eACI,QAAS,CACT,sBAAuB,CACvB,iBAAkB,CAElB,WAAY,CAaf,0CAlBD,eAQQ,QAAY,CAAZ,WAAY,CACZ,YAAa,CACb,WAAY,CAQnB,CCMD,0CAAwC,2BDT5B,QAAS,CAEhB,CAGL,mBACI,oBAAqB,CAKxB,0CAND,mBAIQ,oBAAqB,CAE5B,CAKD,eACI,WAAY,CACZ,iBAAkB,CAClB,eAAgB,CAgCnB,0CAnCD,eAMQ,iBAAkB,CAClB,QAAS,CACT,YAAa,CACb,YAAa,CACb,WAAY,CACZ,YAAa,CAEb,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAoBxB,CCjCD,0CAAwC,2BDkB5B,eAAgB,CAEvB,CCpBL,0CAAwC,sDDwB5B,UAAW,CAElB,CCnCL,0CAAwC,2BDuC5B,WAAY,CAEnB",sourcesContent:['$CDN:"/";\n@import \'style/shared\';\n\n.landing {\n    pointer-events: none;\n    // @include fill;\n    // background: white;\n\n    &__copy {\n        top: 32vh;\n        left: var(--sideMargin);\n        position: absolute;\n\n        width: 30rem;\n\n        @include desktop {\n            top: initial;\n            bottom: 10rem;\n            width: 62rem;\n        }\n        \n        [lang="fr"] & {\n            @include mobile {\n                top: 28vh;\n            }\n        }\n    }\n\n    &__preTitle {\n        margin-bottom: 1.2rem;\n        \n        @include desktop {\n            margin-bottom: 1.7rem;\n        }\n    }\n\n    &__title {\n    }\n\n    &__body {\n        width: 20rem;\n        margin-top: 1.5rem;\n        line-height: 1.1;\n        \n        @include desktop {\n            position: absolute;\n            bottom: 0;\n            left: 39.5rem;\n            height: 11rem;\n            width: 30rem;\n            margin-top: 0;\n            \n            display: flex;\n            align-items: center;\n            font-size: 1.6rem;\n        }\n        \n        [lang="de"] & {\n            @include desktop {\n                position: static;\n            }\n        }\n        \n        [lang="it"] &, [lang="es"] & {\n            @include desktop {\n                left: 41rem;\n            }\n        }\n        \n        [lang="fr"] & {\n            @include mobile {\n                width: 24rem;\n            }\n        }\n    }\n}\n','// Breakpoints\n// -----------\n\n$bp-mobile-threshold: 768px;\n\n// Mixins\n// ------\n\n/*\n    These mixins apply styles only when within the specified breakpoint\n    ---\n    1. Predefined breakpoints\n    2. Custom breakpoints for width\n    3. Custom breakpoints for height\n*/\n\n@mixin portrait() {\n    @media only screen and (orientation: portrait) {\n        @content;\n    }\n}\n\n@mixin landscape() {\n    @media only screen and (orientation: landscape) {\n        @content;\n    }\n}\n\n@mixin mobile() {\n    // @media only screen and (max-aspect-ratio: 3/4) {\n    //     @content;\n    // }\n    @media only screen and (max-width: $bp-mobile-threshold) {\n        @content;\n    }\n}\n\n@mixin desktop() {\n    // @media only screen and (min-aspect-ratio: 301/400) {\n    //     @content;\n    // }\n    @media only screen and (min-width: $bp-mobile-threshold + 1) {\n        @content;\n    }\n}\n\n@mixin handheldDevice {\n    .root[device="mobile"] &,\n    .root[device="tablet"] & {\n        @content;\n    }\n}\n\n@mixin desktopDevice {\n    .root[device="desktop"] & {\n        @content;\n    }\n}\n\n@mixin phoneLandscape() {\n    @media only screen and (orientation: landscape) {\n        .phone & {\n            @content;\n        }\n    }\n}\n\n@mixin fullscreen() {\n    .fullscreen & {\n        @content;\n    }\n}\n\n@mixin breakpoint($point) {\n    @if $point == mobile {\n        @include mobile();\n    }\n    @if $point == desktop {\n        @include desktop();\n    }\n}\n\n// Min width and Max width\n@mixin breakpoint-width($min, $max) {\n    @media only screen and (min-width: $min) and (max-width: $max) {\n        @content;\n    }\n}\n// Min width\n@mixin breakpoint-width-min($min) {\n    @media only screen and (min-width: $min) {\n        @content;\n    }\n}\n// Max width\n@mixin breakpoint-width-max($max) {\n    @media only screen and (max-width: $max) {\n        @content;\n    }\n}\n\n// Min height and Max height\n@mixin breakpoint-height($min, $max) {\n    @media only screen and (min-height: $min) and (max-height: $max) {\n        @content;\n    }\n}\n// Min height\n@mixin breakpoint-height-min($min) {\n    @media only screen and (min-height: $min) {\n        @content;\n    }\n}\n// Max height\n@mixin breakpoint-height-max($max) {\n    @media only screen and (max-height: $max) {\n        @content;\n    }\n}\n'],sourceRoot:""}]);const r=a},3237:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,".signupField{display:flex;position:relative;pointer-events:auto}.signupField__block{position:relative}.signupField__input{height:60px;padding:0 2rem}.signupField__error,.signupField__success{opacity:0;position:absolute;top:100%;left:0;width:100%}.signupField__btn{margin-left:2rem;background-color:#0f0;color:black;padding:0 2rem}\n","",{version:3,sources:["webpack://./component/signup-field/index.scss"],names:[],mappings:"AACA,aACI,YAAa,CACb,iBAAkB,CAClB,mBAAoB,CAEpB,oBACI,iBAAkB,CACrB,oBAGG,WAAY,CACZ,cAAe,CAClB,0CAIG,SAAU,CAEV,iBAAkB,CAClB,QAAS,CACT,MAAO,CACP,UAAW,CACd,kBAGG,gBAAiB,CACjB,qBAAsB,CACtB,WAAY,CACZ,cAAe",sourcesContent:['$CDN:"/";\n.signupField {\n    display: flex;\n    position: relative;\n    pointer-events: auto;\n\n    &__block {\n        position: relative;\n    }\n\n    &__input {\n        height: 60px;\n        padding: 0 2rem;\n    }\n\n    &__error,\n    &__success {\n        opacity: 0;\n\n        position: absolute;\n        top: 100%;\n        left: 0;\n        width: 100%;\n    }\n\n    &__btn {\n        margin-left: 2rem;\n        background-color: #0f0;\n        color: black;\n        padding: 0 2rem;\n    }\n}\n'],sourceRoot:""}]);const r=a},8055:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,".titleSmall{top:50%;left:50%;position:absolute;transform:translate(-50%, -50%);visibility:hidden}.titleSmall__inner{width:100vw;padding:3rem;display:flex;align-items:center;justify-content:center;flex-direction:column}@media only screen and (min-width: 769px){.titleSmall__inner{width:calc(100vw - 36rem);padding:0}}.titleSmall__text{font-size:2.2rem;text-align:center;color:#ec3030;will-change:transform;line-height:1.05;will-change:transform;letter-spacing:0}@media only screen and (min-width: 769px){.titleSmall__text{font-size:5.7rem}}\n","",{version:3,sources:["webpack://./component/title-small/index.scss","webpack://./style/mixins/utils.scss","webpack://./style/app/variables.scss"],names:[],mappings:"AAGA,YCiDI,OAAQ,CACR,QAAS,CACT,iBAAkB,CAClB,+BAAgC,CDjDhC,iBAAkB,CAElB,mBACI,WAAY,CACZ,YAAa,CCkDjB,YAAa,CACb,kBAAmB,CACnB,sBAAuB,CACvB,qBAJgC,CDzC/B,0CAVD,mBAOQ,yBAA0B,CAC1B,SAAU,CAEjB,CAED,kBACI,gBAAiB,CACjB,iBAAkB,CAClB,aEAW,CFCX,qBAAsB,CACtB,gBAAiB,CACjB,qBAAsB,CACtB,gBAAiB,CAKpB,0CAZD,kBAUQ,gBAAiB,CAExB",sourcesContent:["$CDN:\"/\";\n@import 'style/shared';\n\n.titleSmall {\n    @include centerAlignTransform;\n\n    visibility: hidden;\n    \n    &__inner {\n        width: 100vw;\n        padding: 3rem;\n        \n        @include flexCenter;\n        \n        @include desktop {\n            width: calc(100vw - 36rem);\n            padding: 0;\n        }   \n    }\n    \n    &__text {\n        font-size: 2.2rem;\n        text-align: center;\n        color: $color-red;\n        will-change: transform;\n        line-height: 1.05;\n        will-change: transform;\n        letter-spacing: 0;\n\n        @include desktop {\n            font-size: 5.7rem;\n        }\n    }\n}\n","// -----------------------------------\n// Layout\n// -----------------------------------\n\n// Fills to the bounds of the container element\n@mixin fill($position: absolute) {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: $position;\n}\n\n// Fills to the bounds of the container element, including an offset (grow or shrink the bounds)\n@mixin fillContainer($offset: 0, $position: absolute) {\n    inset: $offset;\n    position: $position;\n}\n\n// Sets the elements position to either top-left|top-right|bottom-left|bottom-right\n@mixin position($ruleA: top, $ruleB: left, $position: absolute) {\n    #{$ruleA}: 0;\n    #{$ruleB}: 0;\n\n    position: $position;\n}\n\n// USAGE -------\n// @mixin aspectRatio( $aspect-16x9 );\n\n@mixin aspectRatio($ratio) {\n    &::before {\n        content: '';\n        display: block;\n        padding-top: ($ratio * 100%);\n    }\n}\n\n// USAGE -------\n// @mixin centerAlign(100px, 100px);\n\n// Center aligns the element within its container, given a width & height\n@mixin centerAlign($width: 0, $height: 0) {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    margin-top: -$height/2;\n    margin-left: -$width/2;\n}\n\n// Center aligns the element within its container, regardless of width & height\n@mixin centerAlignTransform() {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n}\n\n// Centers the children within the element. $direction variable can be row|column\n@mixin flexCenter($direction: column) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: $direction;\n}\n\n// Old school technique to vertically center content\n@mixin addVerticalCentering() {\n    &::before {\n        content: '';\n        display: inline-block;\n        vertical-align: middle;\n        width: 0;\n        height: 100%;\n    }\n}\n\n// Full width element which centers when viewport width > $max-width\n@mixin constrainWidth($max-width: $app-width) {\n    margin: auto;\n    position: relative;\n\n    width: 100%;\n    max-width: $max-width;\n}\n\n// Full width element which centers when viewport width > $max-width, plus fills height\n@mixin constrainWidthFillHeight {\n    @include constrainWidth();\n\n    height: 100%;\n}\n\n@mixin imgFillContainer($align: top-left) {\n    @if $align = top-left {\n        top: 0;\n        left: 0;\n    } @else if $align = center {\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    max-width: 100%;\n    max-height: 100%;\n    min-width: 100%;\n    min-height: 100%;\n    position: absolute;\n}\n\n// Creates a circle element with $size width and height\n@mixin circle($size) {\n    width: $size;\n    height: $size;\n    border-radius: 50%;\n}\n\n// Creates a square element with $size width and height\n@mixin square($size) {\n    width: $size;\n    height: $size;\n}\n\n// Images\n// -----------------------------------\n\n// Background image fully covers element\n@mixin fillCenteredBg($url: '', $position: center) {\n    background-size: cover;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Background image sits contained inside the element (letterbox effect)\n@mixin containCenteredBg($url: '', $position: center) {\n    background-size: contain;\n    background-image: url($url);\n    background-position: $position;\n    background-repeat: no-repeat;\n}\n\n// Other\n// -----------------------------------// Units\n// -----------------------------------\n\n// Proportianal font scaling  based of $baseWidth, base font size is 10px when viewport width === $baseWidth\n@mixin baseFontSizeVW($baseWidth: 1920) {\n    $base-font-size: 10;\n\n    font-size: $base-font-size / $baseWidth * 100 + 0vw;\n}\n\n// Use letter spacing value from Photoshop\n// @mixin letterSpacing( 100 );\n@mixin letterSpacing($spacing: 0) {\n    letter-spacing: $spacing / 1000 * 1em;\n    // text-indent: $spacing / 1000 * 1em;\n}\n\n@mixin svgStroke($width: 2, $color: currentColor) {\n    stroke: $color;\n    stroke-width: $width;\n    // stroke-linecap: round;\n    // stroke-linejoin: round;\n}\n\n// USAGE -------\n// @mixin sudo(before, {\n//      width: 100px;\n//      height: 100px;\n// });\n\n// Creates a sudo element, $type can be before|after\n@mixin sudo($type: before) {\n    &:#{$type} {\n        content: '';\n        @content;\n    }\n}\n\n// Selector for desktop/devices with mouse\n@mixin pointerDevice {\n    @media (pointer: fine) {\n        @content;\n    }\n\n    .desktop.ie &,\n    .desktop.firefox & {\n        @content;\n    }\n}\n\n// Selector for touch devices\n@mixin touchDevice {\n    @media (any-pointer: coarse) {\n        @content;\n    }\n}\n\n// Aligns hover action between touch and pointer devices\n@mixin hover {\n    @include pointerDevice {\n        &:hover {\n            @content;\n        }\n    }\n    @include touchDevice {\n        &:active,\n        &.android-active {\n            @content;\n        }\n    }\n}\n\n// USAGE -------\n// @mixin pxToRem( font-size, 24px );\n\n// Converts a css $property from px to rem\n@mixin pxToRem($property: 'margin-bottom', $value: 0) {\n    $pxValue: unit($value, px);\n    $remValue: unit($value / 10, rem);\n    #{$property}: $pxValue;\n    #{$property}: $remValue;\n}\n\n// Sets cursor to grabbing\n@mixin grabbingCursor() {\n    cursor: grab;\n    cursor: -webkit-grab;\n    &:active {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n    }\n}\n","// Margins\n// -------\n\n$margin-desktop: 4rem;\n$margin-mobile: 2rem;\n\n// Z-index\n// -------\n\n$z-index-preloader: $z-index-10;\n$z-index-shell: $z-index-2;\n$z-index-overlay: $z-index-3;\n$z-index-logo: $z-index-4;\n$z-index-treasure-reveal: $z-index-5;\n$z-index-vo: $z-index-6;\n$z-index-max: $z-index-10 + 1;\n\n// Colors\n// ------\n$color-white: #fff;\n$color-black: #000;\n$color-gray: #9b9b9b;\n$color-light-gray: #828282;\n$color-red: #ec3030;\n"],sourceRoot:""}]);const r=a},179:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,".page-base{position:fixed;display:flex;justify-content:center;align-items:center;width:100%;height:100%;padding:4rem}.page-base h1{margin:0;padding:0;font-size:2.4rem}\n","",{version:3,sources:["webpack://./page/base/index.scss","webpack://./style/app/variables.scss"],names:[],mappings:"AAGA,WACI,cAAe,CACf,YAAa,CACb,sBAAuB,CACvB,kBAAmB,CAEnB,UAAW,CACX,WAAY,CAEZ,YCTiB,CDArB,cAYQ,QAAS,CACT,SAAU,CAEV,gBAAiB",sourcesContent:["$CDN:\"/\";\n@import 'style/shared';\n\n.page-base {\n    position: fixed;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: 100%;\n    height: 100%;\n\n    padding: $margin-desktop;\n\n    h1 {\n        margin: 0;\n        padding: 0;\n\n        font-size: 2.4rem;\n    }\n}\n","// Margins\n// -------\n\n$margin-desktop: 4rem;\n$margin-mobile: 2rem;\n\n// Z-index\n// -------\n\n$z-index-preloader: $z-index-10;\n$z-index-shell: $z-index-2;\n$z-index-overlay: $z-index-3;\n$z-index-logo: $z-index-4;\n$z-index-treasure-reveal: $z-index-5;\n$z-index-vo: $z-index-6;\n$z-index-max: $z-index-10 + 1;\n\n// Colors\n// ------\n$color-white: #fff;\n$color-black: #000;\n$color-gray: #9b9b9b;\n$color-light-gray: #828282;\n$color-red: #ec3030;\n"],sourceRoot:""}]);const r=a},4729:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(559),o=n.n(i),s=n(3476),a=n.n(s)()(o());a.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const r=a}}]);
//# sourceMappingURL=712.db19802ac972ff8ef30a.js.map