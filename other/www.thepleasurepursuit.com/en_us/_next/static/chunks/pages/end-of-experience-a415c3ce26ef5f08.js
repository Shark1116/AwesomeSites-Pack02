(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{87857:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/end-of-experience",function(){return t(21220)}])},73442:function(e,n,t){"use strict";t.d(n,{W:function(){return s},R:function(){return u}});var r=t(62220),i=t(34682),o=t(70090),c={from:100,to:0,usePercentage:!0,duration:.7,stagger:.025,ease:"power2.out",clearSplit:!0};function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}function u(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,u=l({},c,t),s=u.usePercentage,f=u.from,d=u.to,p=u.stagger,v=u.ease,g=u.duration,b=u.clearSplit,h=s?"yPercent":"y",y=(0,o._w)(e,["lines","words"]).words,m=r.ZP.timeline();return m.fromTo(y,a({},h,f),(a(n={duration:g,stagger:p,ease:v},h,d),a(n,"onComplete",(function(){b&&(0,o.rl)(e)})),n)),m.add((0,i.t)(y,{stagger:p,duration:Math.max(.3,.4*g)}),"<"),m}function s(e){var n=(0,o._w)(e,["lines","chars"]).lines,t=r.ZP.timeline();return n.forEach((function(e){t.fromTo(e.children,{transformOrigin:"center bottom",yPercent:50,rotationX:-30},{yPercent:0,rotationX:0,stagger:.05,duration:1.4,ease:"power3.out",clearProps:"transformOrigin,yPercent,rotationX"},"<0.1"),t.add((0,i.t)(Array.from(e.children),{duration:.2,stagger:.05}),"<")})),t}},70090:function(e,n,t){"use strict";t.d(n,{_w:function(){return o},rl:function(){return c}});var r=t(7037),i=new Map;function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"words",t=i.get(e);return t||(t=new r.C(e,{type:"string"===typeof n?n:n.join(","),tag:"span",linesClass:"split-element lines",wordsClass:"split-element words",charsClass:"split-element chars"}),i.set(e,t)),"string"!==typeof n?n.reduce((function(e,n){return["chars","words","lines"].includes(n)&&t&&t[n]&&(e[n]=t[n]),e}),{}):t[n]}function c(e){var n=i.get(e);n?(null===n||void 0===n||n.revert(),i.delete(e)):console.warn("No Split Instance found for",e)}},14705:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(85893),i=t(41664),o=t.n(i),c=t(94184),a=t.n(c),l=t(10350),u=t(51841),s=function(){},f=t(19049),d=t.n(f);function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){p(e,n,t[n])}))}return e}var g=(0,l.o)((function(e,n){var t,i;if((0,u.M)({ref:n,refs:{elementRef:n},setupTransitionInTimeline:s}),e.href)return(null===(t=e.linkAttributes)||void 0===t?void 0:t.target)?(0,r.jsx)("a",v({ref:n,href:e.href,className:a()("copy-14",d().textButton,e.classes),onClick:function(){var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e)}},e.linkAttributes,{children:(0,r.jsx)("span",{className:d().label,children:e.children})})):(0,r.jsx)(o(),{href:e.href,children:(0,r.jsx)("a",v({ref:n,href:e.href,className:a()("copy-14",d().textButton,e.classes),onClick:function(){var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e)}},e.linkAttributes,{children:(0,r.jsx)("span",{className:d().label,children:e.children})}))});return(0,r.jsx)("button",v({className:a()("copy-14",d().textButton,e.classes),ref:n,type:function(){var n;return null!==(i=null===(n=e.buttonAttributes)||void 0===n?void 0:n.type)&&void 0!==i?i:"button"}(),onClick:function(){var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e)},onMouseEnter:function(){var n;return null===(n=e.onMouseEnter)||void 0===n?void 0:n.call(e)},onMouseLeave:function(){var n;return null===(n=e.onMouseLeave)||void 0===n?void 0:n.call(e)}},e.buttonAttributes,{children:(0,r.jsx)("span",{className:d().label,children:e.children})}))}))},23138:function(e,n,t){"use strict";t.d(n,{g:function(){return i}});var r=t(67294);function i(e,n){(0,r.useEffect)((function(){var t=e.current;return function(){return n(t)}}),[])}},21220:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return H},default:function(){return Z}});var r=t(85893),i=t(67294),o=t(94184),c=t.n(o),a=t(62220),l=t(88230),u=t(46984),s=t(77058),f=t(39994),d=t(26901),p=t(14705),v=t(11607),g=t(52999),b=t(23138),h=t(70090),y=t(51841),m=t(10350),_=t(59339),x=t(34682),w=t(73442),E=function(e,n){var t=(0,_.a)(n),r=t.elementRef,i=t.title,o=t.content,c=t.copy;e.add((0,x.t)(r,{duration:.01})),e.add((0,w.R)(i,{clearSplit:!1})),e.addLabel("switch","+=2.75"),e.add((0,x.w)(i,{duration:.3}),"switch"),e.add((0,x.t)([c,o],{stagger:.1}),"+=1"),e.fromTo([c,o],{y:40},{y:0,duration:.7,ease:"power3.out",clearProps:"y",stagger:.1},"<")},j=t(41987),O=t.n(j);function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],c=!0,a=!1;try{for(t=t.call(e);!(c=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);c=!0);}catch(l){a=!0,i=l}finally{try{c||null==t.return||t.return()}finally{if(a)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=(0,m.o)((function(e,n){var t=(0,i.useRef)(null),o=(0,i.useRef)(null),a=(0,i.useRef)(null);(0,y.M)({ref:n,refs:{elementRef:n,content:o,title:t,copy:a},setupTransitionInTimeline:E});var l=(0,s.$)().t,u=l("general:endExperience",{returnObjects:!0}),m=u.collectionText,_=u.collectionUrl,x=P((0,g.q)(),1)[0];return(0,b.g)(t,(function(e){(0,h.rl)(e)})),(0,r.jsxs)("header",{className:O().endExperienceHeading,ref:n,children:[(0,r.jsx)(f.Z,{ref:t,as:"h1",classes:c()("heading-72",O().title),children:l("general:endExperience.title",{x:x.orangeCount})}),(0,r.jsx)(d.Z,{ref:a,classes:c()("copy-20-bembo",O().copy),children:l("general:endExperience.copy")}),(0,r.jsxs)("div",{ref:o,className:c()(O().buttons,!x.isEligibleCountry&&O().notEligible),children:[x.isEligibleCountry&&(0,r.jsx)(p.Z,{href:v.n.ShareDetail,classes:O().link,onClick:function(){var n;return null===(n=e.onShareButtonClick)||void 0===n?void 0:n.call(e)},children:l("general:endExperience:scoreText")}),(0,r.jsx)(p.Z,{href:_,classes:O().link,linkAttributes:{target:"_blank",rel:"noreferrer"},onClick:function(){var n;return null===(n=e.onShopButtonClick)||void 0===n?void 0:n.call(e,_)},children:m})]})]})})),C=t(50318),T=t(84124),R=t(40859),N=t(43869),A=function(e,n){var t=(0,_.a)(n).elementRef;e.add((0,x.t)(t,{duration:.65})),e.add((0,N.V)(n.heading),"<")},L=function(e,n){var t=(0,_.a)(n).elementRef;e.add((0,x.w)(t,{duration:.65}))},M=t(88073),B=t.n(M),H=!0;function Z(){var e=(0,i.useRef)(null),n=(0,i.useRef)(null),t=(0,y.M)({ref:e,refs:{elementRef:e,heading:n},setupTransitionInTimeline:A,setupTransitionOutTimeline:L});(0,C.C)(t),(0,T.V)(t);var o=(0,l.I)(),s=(0,i.useRef)(!1),f=(0,i.useRef)({value:0}),d=(0,i.useCallback)((function(e){s.current||e.data.progress>=.75&&(s.current=!0,a.ZP.fromTo(f.current,{value:0},{value:.4,ease:"linear",duration:.5,onUpdate:function(){o.setBottomGradient(.4,f.current.value)}}))}),[o]);return(0,i.useEffect)((function(){return o.addEventListener(u.DL.types.PROGRESS,d),function(){o.removeEventListener(u.DL.types.PROGRESS,d)}}),[d,o]),(0,r.jsx)("div",{className:c()("abs-fill",B().endOfExperience),ref:e,children:(0,r.jsx)("div",{className:B().content,children:(0,r.jsx)(S,{ref:n,onShareButtonClick:function(){return(0,R.L)({action:"submit score link click",label:"end-of-experience"})},onShopButtonClick:function(e){return(0,R.L)({action:"shop the collection link clicks",label:e})}})})})}},84124:function(e,n,t){"use strict";t.d(n,{V:function(){return c}});var r=t(11042),i=t(58780),o=t(75745);function c(e){var n=(0,o.p)();if(!n)throw new Error("Cannot find leaveTransitions context! Did you forget to wrap the component in a <TransitionPresence />?");(0,r.Z)((function(){if(!e)return i.Z;try{e.setupTimeline({direction:"out"})}catch(t){}return n.add(e),function(){n.delete(e)}}),[e])}},40859:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){r(e,n,t[n])}))}return e}t.d(n,{L:function(){return c}});var o=function(e){console.log("track",e),"undefined"!==typeof dataLayer?dataLayer.push(e):console.error("dataLayer not found")},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(i({event:"thepleasurepursuit_interaction"},Object.keys(e).reduce((function(n,t){return i({},n,r({},"event_".concat(t),e[t]))}),{})))}},19049:function(e){e.exports={"text-button":"TextButton_text-button__aVt8w",textButton:"TextButton_text-button__aVt8w",label:"TextButton_label__0bV6_"}},41987:function(e){e.exports={"end-experience-heading":"EndExperienceHeading_end-experience-heading__Qnq_3",endExperienceHeading:"EndExperienceHeading_end-experience-heading__Qnq_3",title:"EndExperienceHeading_title__e0wAD",copy:"EndExperienceHeading_copy__ygl5R",buttons:"EndExperienceHeading_buttons__WYYmS","not-eligible":"EndExperienceHeading_not-eligible__7aMgT",notEligible:"EndExperienceHeading_not-eligible__7aMgT",link:"EndExperienceHeading_link__ai9Il"}},88073:function(e){e.exports={content:"end-of-experience_content__QMmWa"}}},function(e){e.O(0,[37,774,888,179],(function(){return n=87857,e(e.s=n);var n}));var n=e.O();_N_E=n}]);